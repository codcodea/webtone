import{c as b,o as W,f as B,A as D,p as w,i as K,d as U,h as R,J as g,j as C,S as z,r as G,K as J,t as _,X as V,Y as X,Z as E}from"./index-DpYefku1.js";import{h as Y}from"./index-4Sxdhovw.js";var Z=_('<nav><button id=start-button><span id=button-text class="select-none text-base tracking-wide text-neutral-100">Train Model'),F=_('<main class="container relative mx-auto flex min-h-[2200px] max-w-5xl flex-col items-center justify-start"><nav><button id=start-button><span id=button-text class="select-none text-base tracking-wide text-neutral-100">Pick Color</span></button></nav><input id=hidden-input hx-trigger=send-color hx-target=#output type=hidden name=colors><section class="mt-12 flex min-h-96 w-full justify-center"><article class="mb-28 mt-12 flex items-center justify-center"id=output>');const te=()=>{const[k,q]=b("#e8e4da"),[L,y]=b(0),[I,u]=b("");b([[0,0],[0,0],[0,0]]);let f,h,v,S;const j=new AbortController;W(()=>{T(),v.value=k(),f.addEventListener("click",H),addEventListener("keydown",N)});const N=r=>{if(r.key==="s"){const o=document.querySelector(".add-icon");if(!o)return;o.click()}else r.key==="d"&&f.click()};B(()=>{f.removeEventListener("click",H),A()});const{initHtmx:T,cleanupHtmx:A}=P(),H=async()=>{h.style.opacity="0.4";try{const n=(await new EyeDropper().open({signal:j.signal})).sRGBHex;v.value=n,q(n),window.htmx.trigger("#hidden-input","send-color"),D.addAction(n)}catch{h.style.opacity="1"}},M=r=>{const n=r.target.closest(".add-icon");if(!n)return;n.classList.add("animate"),setTimeout(()=>n.classList.remove("animate"),210);const i=n.parentElement.dataset.name;!!n.parentElement.dataset.webtone&&V(X(i))};return(()=>{var r=F(),o=r.firstChild,n=o.firstChild,i=o.nextSibling,p=i.nextSibling,m=p.firstChild,l=f;typeof l=="function"?w(l,n):f=n,K(r,U(z,{when:!1,get children(){var s=Z(),c=s.firstChild,a=S;return typeof a=="function"?w(a,c):S=c,R(e=>{var x=g("mt-28 flex w-full justify-center"),$=g("relative h-12 min-w-44 border border-neutral-500 bg-neutral-800 uppercase transition-transform duration-100 hover:scale-[1.01]");return x!==e.e&&C(s,e.e=x),$!==e.t&&C(c,e.t=$),e},{e:void 0,t:void 0}),s}}),i);var t=v;typeof t=="function"?w(t,i):v=i,m.$$click=M;var d=h;return typeof d=="function"?w(d,m):h=m,R(s=>{var c=g("mt-28 flex w-full justify-center"),a=g("relative h-12 min-w-44 border border-neutral-500 bg-neutral-800 uppercase transition-transform duration-100 hover:scale-[1.01]"),e=E.api;return c!==s.e&&C(o,s.e=c),a!==s.t&&C(n,s.t=a),e!==s.a&&G(i,"hx-get",s.a=e),s},{e:void 0,t:void 0,a:void 0}),r})();function P(){const r=()=>{window.htmx.process(document.body),window.htmx.config.withCredentials=!0,window.htmx.config.globalViewTransitions=!0,window.htmx.config.methodsThatUseUrlParams=[],addEventListener("htmx:beforeRequest",i),addEventListener("htmx:configRequest",n),addEventListener("htmx:afterSwap",p),addEventListener("htmx:afterSettle",m)},o=()=>{window.htmx.config.withCredentials=!1,removeEventListener("htmx:beforeRequest",i),removeEventListener("htmx:configRequest",n),removeEventListener("htmx:afterSwap",p),removeEventListener("htmx:afterSettle",m)},n=l=>{const d=l.detail.parameters.colors.substring(1);if(E.api.includes("localhost")){l.detail.path=E.api+d;return}l.detail.path+=d},i=l=>{l.detail.xhr.setRequestHeader("Authorization","edor-o9e8-f5p7-x85v")},p=l=>{h.style.opacity="1",Y(k(),!0)},m=async l=>{const t=window.jsonData.conversions.web,d=t.hueClass,s=t.shadeClass,c=t.chromaClass;let a=null;if(d===0&&s===0&&c===0){const e=/\d+/,x=t.code.match(e);x&&(a=`[-1,${x[0]},-1]`)}L()==0?(y(e=>e+1),u(a?`[${a},`:`[[${t.hueClass},${t.shadeClass},${t.chromaClass}],`)):L()==1?(y(e=>e+1),u(a?e=>e+`${a},`:e=>e+`[${t.hueClass},${t.shadeClass},${t.chromaClass}],`)):(u(a?e=>e+`${a}]`:e=>e+`[${t.hueClass},${t.shadeClass},${t.chromaClass}]]`),y(0))};return{initHtmx:r,cleanupHtmx:o}}};J(["click"]);export{te as default};
