var ac=Object.defineProperty;var cc=(e,o,i)=>o in e?ac(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i;var Pe=(e,o,i)=>(cc(e,typeof o!="symbol"?o+"":o,i),i);import{$ as St,a as si,g as Co,b as et,c as se,m as le,d as j,u as Fe,e as me,o as it,f as ue,S as He,i as Me,h as ot,j as Hn,s as Ao,P as $i,k as Q,l as De,t as xe,n as Re,p as sn,q as he,D as lc,r as Rn,v as wt,w as uc,x as gt,y as dc,z as fc,A as Ct,B as kt,C as pc,E as hc,F as Jt,G as gc,H as Qt,I as Ni,J as Bo,K as vc,L as ai,M as mc,N as yc}from"./index-B9zvDx12.js";import{t as bc}from"./index-4Sxdhovw.js";const _o=Symbol("store-raw"),Lt=Symbol("store-node"),tt=Symbol("store-has"),ji=Symbol("store-self");function Bi(e){let o=e[St];if(!o&&(Object.defineProperty(e,St,{value:o=new Proxy(e,Sc)}),!Array.isArray(e))){const i=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,d=i.length;l<d;l++){const p=i[l];s[p].get&&Object.defineProperty(e,p,{enumerable:s[p].enumerable,get:s[p].get.bind(o)})}}return o}function zn(e){let o;return e!=null&&typeof e=="object"&&(e[St]||!(o=Object.getPrototypeOf(e))||o===Object.prototype||Array.isArray(e))}function an(e,o=new Set){let i,s,l,d;if(i=e!=null&&e[_o])return i;if(!zn(e)||o.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):o.add(e);for(let p=0,v=e.length;p<v;p++)l=e[p],(s=an(l,o))!==l&&(e[p]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):o.add(e);const p=Object.keys(e),v=Object.getOwnPropertyDescriptors(e);for(let g=0,b=p.length;g<b;g++)d=p[g],!v[d].get&&(l=e[d],(s=an(l,o))!==l&&(e[d]=s))}return e}function $n(e,o){let i=e[o];return i||Object.defineProperty(e,o,{value:i=Object.create(null)}),i}function cn(e,o,i){if(e[o])return e[o];const[s,l]=se(i,{equals:!1,internal:!0});return s.$=l,e[o]=s}function xc(e,o){const i=Reflect.getOwnPropertyDescriptor(e,o);return!i||i.get||!i.configurable||o===St||o===Lt||(delete i.value,delete i.writable,i.get=()=>e[St][o]),i}function Vi(e){Co()&&cn($n(e,Lt),ji)()}function wc(e){return Vi(e),Reflect.ownKeys(e)}const Sc={get(e,o,i){if(o===_o)return e;if(o===St)return i;if(o===si)return Vi(e),i;const s=$n(e,Lt),l=s[o];let d=l?l():e[o];if(o===Lt||o===tt||o==="__proto__")return d;if(!l){const p=Object.getOwnPropertyDescriptor(e,o);Co()&&(typeof d!="function"||e.hasOwnProperty(o))&&!(p&&p.get)&&(d=cn(s,o,d)())}return zn(d)?Bi(d):d},has(e,o){return o===_o||o===St||o===si||o===Lt||o===tt||o==="__proto__"?!0:(Co()&&cn($n(e,tt),o)(),o in e)},set(){return!0},deleteProperty(){return!0},ownKeys:wc,getOwnPropertyDescriptor:xc};function Nn(e,o,i,s=!1){if(!s&&e[o]===i)return;const l=e[o],d=e.length;i===void 0?(delete e[o],e[tt]&&e[tt][o]&&l!==void 0&&e[tt][o].$()):(e[o]=i,e[tt]&&e[tt][o]&&l===void 0&&e[tt][o].$());let p=$n(e,Lt),v;if((v=cn(p,o,l))&&v.$(()=>i),Array.isArray(e)&&e.length!==d){for(let g=e.length;g<d;g++)(v=p[g])&&v.$();(v=cn(p,"length",d))&&v.$(e.length)}(v=p[ji])&&v.$()}function Ui(e,o){const i=Object.keys(o);for(let s=0;s<i.length;s+=1){const l=i[s];Nn(e,l,o[l])}}function Ec(e,o){if(typeof o=="function"&&(o=o(e)),o=an(o),Array.isArray(o)){if(e===o)return;let i=0,s=o.length;for(;i<s;i++){const l=o[i];e[i]!==l&&Nn(e,i,l)}Nn(e,"length",s)}else Ui(e,o)}function nn(e,o,i=[]){let s,l=e;if(o.length>1){s=o.shift();const p=typeof s,v=Array.isArray(e);if(Array.isArray(s)){for(let g=0;g<s.length;g++)nn(e,[s[g]].concat(o),i);return}else if(v&&p==="function"){for(let g=0;g<e.length;g++)s(e[g],g)&&nn(e,[g].concat(o),i);return}else if(v&&p==="object"){const{from:g=0,to:b=e.length-1,by:S=1}=s;for(let x=g;x<=b;x+=S)nn(e,[x].concat(o),i);return}else if(o.length>1){nn(e[s],o,[s].concat(i));return}l=e[s],i=[s].concat(i)}let d=o[0];typeof d=="function"&&(d=d(l,i),d===l)||s===void 0&&d==null||(d=an(d),s===void 0||zn(l)&&zn(d)&&!Array.isArray(d)?Ui(l,d):Nn(e,s,d))}function Wi(...[e,o]){const i=an(e||{}),s=Array.isArray(i),l=Bi(i);function d(...p){et(()=>{s&&p.length===1?Ec(i,p[0]):nn(i,p)})}return[l,d]}var Pc=xe("<div>"),Yn=class{constructor(e){Pe(this,"x");Pe(this,"y");Pe(this,"width");Pe(this,"height");this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},Ft=e=>{let o=new Yn(e.getBoundingClientRect());const{transform:i}=getComputedStyle(e);return i&&(o=Tc(o,i)),o},Tc=(e,o)=>{let i,s;if(o.startsWith("matrix3d(")){const l=o.slice(9,-1).split(/, /);i=+l[12],s=+l[13]}else if(o.startsWith("matrix(")){const l=o.slice(7,-1).split(/, /);i=+l[4],s=+l[5]}else i=0,s=0;return new Yn({...e,x:e.x-i,y:e.y-s})},Ve=()=>({x:0,y:0}),Vo=(e,o)=>e.x===o.x&&e.y===o.y,Po=(e,o)=>new Yn({...e,x:e.x+o.x,y:e.y+o.y}),Oc=(e,o)=>Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2)),Dc=(e,o)=>{const i=Math.max(e.top,o.top),s=Math.max(e.left,o.left),l=Math.min(e.right,o.right),d=Math.min(e.bottom,o.bottom),p=l-s,v=d-i;if(s<l&&i<d){const g=e.width*e.height,b=o.width*o.height,S=p*v;return S/(g+b-S)}return 0},To=(e,o)=>e.x===o.x&&e.y===o.y&&e.width===o.width&&e.height===o.height,Ic=(e,o,i)=>{const s=e.transformed.center,l={distance:1/0,droppable:null};for(const d of o){const p=Oc(s,d.layout.center);p<l.distance?(l.distance=p,l.droppable=d):p===l.distance&&d.id===i.activeDroppableId&&(l.droppable=d)}return l.droppable},Mc=(e,o,i)=>{const s=e.transformed,l={ratio:0,droppable:null};for(const d of o){const p=Dc(s,d.layout);p>l.ratio?(l.ratio=p,l.droppable=d):p>0&&p===l.ratio&&d.id===i.activeDroppableId&&(l.droppable=d)}return l.droppable},Hi=Re(),kc=e=>{const o=le({collisionDetector:Mc},e),[i,s]=Wi({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return i.active.draggableId!==null?i.draggables[i.active.draggableId]:null},droppableId:null,get droppable(){return i.active.droppableId!==null?i.droppables[i.active.droppableId]:null},sensorId:null,get sensor(){return i.active.sensorId!==null?i.sensors[i.active.sensorId]:null},overlay:null}}),l=(L,F,V)=>{L.substring(0,L.length-1),De(()=>i[L][F])&&s(L,F,"transformers",V.id,V)},d=(L,F,V)=>{L.substring(0,L.length-1),De(()=>i[L][F])&&De(()=>i[L][F].transformers[V])&&s(L,F,"transformers",V,void 0)},p=({id:L,node:F,layout:V,data:ne})=>{const ee=i.draggables[L],q={id:L,node:F,layout:V,data:ne,_pendingCleanup:!1};let ce;if(!ee)Object.defineProperties(q,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(i.active.overlay)return Ve();const ve=Object.values(i.draggables[L].transformers);return ve.sort((Ee,Ne)=>Ee.order-Ne.order),ve.reduce((Ee,Ne)=>Ne.callback(Ee),Ve())}},transformed:{enumerable:!0,configurable:!0,get:()=>Po(i.draggables[L].layout,i.draggables[L].transform)}});else if(i.active.draggableId===L&&!i.active.overlay){const ve={x:ee.layout.x-V.x,y:ee.layout.y-V.y},Ee="addDraggable-existing-offset",Ne=ee.transformers[Ee],mt=Ne?Ne.callback(ve):ve;ce={id:Ee,order:100,callback:re=>({x:re.x+mt.x,y:re.y+mt.y})},de(()=>d("draggables",L,Ee))}et(()=>{s("draggables",L,q),ce&&l("draggables",L,ce)}),i.active.draggable&&M()},v=L=>{De(()=>i.draggables[L])&&(s("draggables",L,"_pendingCleanup",!0),queueMicrotask(()=>g(L)))},g=L=>{var F;if((F=i.draggables[L])!=null&&F._pendingCleanup){const V=i.active.draggableId===L;et(()=>{V&&s("active","draggableId",null),s("draggables",L,void 0)})}},b=({id:L,node:F,layout:V,data:ne})=>{const ee=i.droppables[L],q={id:L,node:F,layout:V,data:ne,_pendingCleanup:!1};ee||Object.defineProperties(q,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const ce=Object.values(i.droppables[L].transformers);return ce.sort((ve,Ee)=>ve.order-Ee.order),ce.reduce((ve,Ee)=>Ee.callback(ve),Ve())}},transformed:{enumerable:!0,configurable:!0,get:()=>Po(i.droppables[L].layout,i.droppables[L].transform)}}),s("droppables",L,q),i.active.draggable&&M()},S=L=>{De(()=>i.droppables[L])&&(s("droppables",L,"_pendingCleanup",!0),queueMicrotask(()=>x(L)))},x=L=>{var F;if((F=i.droppables[L])!=null&&F._pendingCleanup){const V=i.active.droppableId===L;et(()=>{V&&s("active","droppableId",null),s("droppables",L,void 0)})}},w=({id:L,activators:F})=>{s("sensors",L,{id:L,activators:F,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:i.sensors[L].coordinates.current.x-i.sensors[L].coordinates.origin.x,y:i.sensors[L].coordinates.current.y-i.sensors[L].coordinates.origin.y}}}})},T=L=>{if(!De(()=>i.sensors[L]))return;const F=i.active.sensorId===L;et(()=>{F&&s("active","sensorId",null),s("sensors",L,void 0)})},O=({node:L,layout:F})=>{const V=i.active.overlay,ne={node:L,layout:F};V||Object.defineProperties(ne,{id:{enumerable:!0,configurable:!0,get:()=>{var ee;return(ee=i.active.draggable)==null?void 0:ee.id}},data:{enumerable:!0,configurable:!0,get:()=>{var ee;return(ee=i.active.draggable)==null?void 0:ee.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(i.active.draggable?i.active.draggable.transformers:{}).filter(([ee])=>ee!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const ee=Object.values(i.active.overlay?i.active.overlay.transformers:[]);return ee.sort((q,ce)=>q.order-ce.order),ee.reduce((q,ce)=>ce.callback(q),Ve())}},transformed:{enumerable:!0,configurable:!0,get:()=>i.active.overlay?Po(i.active.overlay.layout,i.active.overlay.transform):new Yn({x:0,y:0,width:0,height:0})}}),s("active","overlay",ne)},P=()=>s("active","overlay",null),D=(L,F)=>{et(()=>{s("sensors",L,"coordinates",{origin:{...F},current:{...F}}),s("active","sensorId",L)})},C=L=>{const F=i.active.sensorId;F&&s("sensors",F,"coordinates","current",{...L})},_=()=>s("active","sensorId",null),R=(L,F)=>{const V={};for(const ee of Object.values(i.sensors))if(ee)for(const[q,ce]of Object.entries(ee.activators))V[q]??(V[q]=[]),V[q].push({sensor:ee,activator:ce});const ne={};for(const ee in V){let q=ee;F&&(q=`on${ee}`),ne[q]=ce=>{for(const{activator:ve}of V[ee]){if(i.active.sensor)break;ve(ce,L)}}}return ne},M=()=>{let L=!1;const F=Object.values(i.draggables),V=Object.values(i.droppables),ne=i.active.overlay;return et(()=>{const ee=new WeakMap;for(const q of F)if(q){const ce=q.layout;ee.has(q.node)||ee.set(q.node,Ft(q.node));const ve=ee.get(q.node);To(ce,ve)||(s("draggables",q.id,"layout",ve),L=!0)}for(const q of V)if(q){const ce=q.layout;ee.has(q.node)||ee.set(q.node,Ft(q.node));const ve=ee.get(q.node);To(ce,ve)||(s("droppables",q.id,"layout",ve),L=!0)}if(ne){const q=ne.layout,ce=Ft(ne.node);To(q,ce)||(s("active","overlay","layout",ce),L=!0)}}),L},B=()=>{const L=i.active.overlay??i.active.draggable;if(L){const F=o.collisionDetector(L,Object.values(i.droppables),{activeDroppableId:i.active.droppableId}),V=F?F.id:null;i.active.droppableId!==V&&s("active","droppableId",V)}},H=L=>{const F={id:"sensorMove",order:0,callback:V=>i.active.sensor?{x:V.x+i.active.sensor.coordinates.delta.x,y:V.y+i.active.sensor.coordinates.delta.y}:V};M(),et(()=>{s("active","draggableId",L),l("draggables",L,F)}),B()},k=()=>{const L=De(()=>i.active.draggableId);et(()=>{L!==null&&d("draggables",L,"sensorMove"),s("active",["draggableId","droppableId"],null)}),M()},ie=L=>{Q(()=>{const F=i.active.draggable;F&&De(()=>L({draggable:F}))})},G=L=>{Q(()=>{const F=i.active.draggable;if(F){const V=De(()=>i.active.overlay);Object.values(V?V.transform:F.transform),De(()=>L({draggable:F,overlay:V}))}})},pe=L=>{Q(()=>{const F=i.active.draggable,V=i.active.droppable;F&&De(()=>L({draggable:F,droppable:V,overlay:i.active.overlay}))})},de=L=>{Q(({previousDraggable:F,previousDroppable:V,previousOverlay:ne})=>{const ee=i.active.draggable,q=ee?i.active.droppable:null,ce=ee?i.active.overlay:null;return!ee&&F&&De(()=>L({draggable:F,droppable:V,overlay:ne})),{previousDraggable:ee,previousDroppable:q,previousOverlay:ce}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};G(()=>B()),o.onDragStart&&ie(o.onDragStart),o.onDragMove&&G(o.onDragMove),o.onDragOver&&pe(o.onDragOver),o.onDragEnd&&de(o.onDragEnd);const ye=[i,{addTransformer:l,removeTransformer:d,addDraggable:p,removeDraggable:v,addDroppable:b,removeDroppable:S,addSensor:w,removeSensor:T,setOverlay:O,clearOverlay:P,recomputeLayouts:M,detectCollisions:B,draggableActivators:R,sensorStart:D,sensorMove:C,sensorEnd:_,dragStart:H,dragEnd:k,onDragStart:ie,onDragMove:G,onDragOver:pe,onDragEnd:de}];return j(Hi.Provider,{value:ye,get children(){return o.children}})},Pt=()=>Fe(Hi)||null,Cc=(e="pointer-sensor")=>{const[o,{addSensor:i,removeSensor:s,sensorStart:l,sensorMove:d,sensorEnd:p,dragStart:v,dragEnd:g}]=Pt(),b=250,S=10;it(()=>{i({id:e,activators:{pointerdown:P}})}),ue(()=>{s(e)});const x=()=>o.active.sensorId===e,w={x:0,y:0};let T=null,O=null;const P=(B,H)=>{B.button===0&&(document.addEventListener("pointermove",_),document.addEventListener("pointerup",R),O=H,w.x=B.clientX,w.y=B.clientY,T=window.setTimeout(C,b))},D=()=>{T&&(clearTimeout(T),T=null),document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",R),document.removeEventListener("selectionchange",M)},C=()=>{o.active.sensor?x()||D():(l(e,w),v(O),M(),document.addEventListener("selectionchange",M))},_=B=>{const H={x:B.clientX,y:B.clientY};if(!o.active.sensor){const k={x:H.x-w.x,y:H.y-w.y};Math.sqrt(k.x**2+k.y**2)>S&&C()}x()&&(B.preventDefault(),d(H))},R=B=>{D(),x()&&(B.preventDefault(),g(),p())},M=()=>{var B;(B=window.getSelection())==null||B.removeAllRanges()}},Ac=e=>(Cc(),me(()=>e.children)),Gn=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),_c=(e,o={})=>{const[i,{addDraggable:s,removeDraggable:l,draggableActivators:d}]=Pt(),[p,v]=se(null);it(()=>{const x=p();x&&s({id:e,node:x,layout:Ft(x),data:o})}),ue(()=>l(e));const g=()=>i.active.draggableId===e,b=()=>{var x;return((x=i.draggables[e])==null?void 0:x.transform)||Ve()};return Object.defineProperties((x,w)=>{const T=w?w():{};Q(()=>{const O=p(),P=d(e);if(O)for(const D in P)O.addEventListener(D,P[D]);ue(()=>{if(O)for(const D in P)O.removeEventListener(D,P[D])})}),v(x),T.skipTransform||Q(()=>{const O=b();if(Vo(O,Ve()))x.style.removeProperty("transform");else{const P=Gn(b());x.style.setProperty("transform",P.transform??null)}})},{ref:{enumerable:!0,value:v},isActiveDraggable:{enumerable:!0,get:g},dragActivators:{enumerable:!0,get:()=>d(e,!0)},transform:{enumerable:!0,get:b}})},Yi=(e,o={})=>{const[i,{addDroppable:s,removeDroppable:l}]=Pt(),[d,p]=se(null);it(()=>{const S=d();S&&s({id:e,node:S,layout:Ft(S),data:o})}),ue(()=>l(e));const v=()=>i.active.droppableId===e,g=()=>{var S;return((S=i.droppables[e])==null?void 0:S.transform)||Ve()};return Object.defineProperties((S,x)=>{const w=x?x():{};p(S),w.skipTransform||Q(()=>{const T=g();if(Vo(T,Ve()))S.style.removeProperty("transform");else{const O=Gn(g());S.style.setProperty("transform",O.transform??null)}})},{ref:{enumerable:!0,value:p},isActiveDroppable:{enumerable:!0,get:v},transform:{enumerable:!0,get:g}})},Lc=e=>{const[o,{onDragStart:i,onDragEnd:s,setOverlay:l,clearOverlay:d}]=Pt();let p;i(({draggable:g})=>{l({node:g.node,layout:g.layout}),queueMicrotask(()=>{if(p){const b=Ft(p),S={x:(g.layout.width-b.width)/2,y:(g.layout.height-b.height)/2};b.x+=S.x,b.y+=S.y,l({node:p,layout:b})}})}),s(()=>queueMicrotask(d));const v=()=>{const g=o.active.overlay,b=o.active.draggable;return!g||!b?{}:{position:"fixed",transition:"transform 0s",top:`${g.layout.top}px`,left:`${g.layout.left}px`,"min-width":`${b.layout.width}px`,"min-height":`${b.layout.height}px`,...Gn(g.transform),...e.style}};return j($i,{get mount(){return document.body},get children(){return j(He,{get when(){return o.active.draggable},get children(){var g=Pc(),b=p;return typeof b=="function"?sn(b,g):p=g,Me(g,(()=>{var S=me(()=>typeof e.children=="function");return()=>S()?e.children(o.active.draggable):e.children})()),ot(S=>{var x=e.class,w=v();return x!==S.e&&Hn(g,S.e=x),S.t=Ao(g,w,S.t),S},{e:void 0,t:void 0}),g}})}})},Fc=(e,o,i)=>{const s=e.slice();return s.splice(i,0,...s.splice(o,1)),s},Gi=Re(),Rc=e=>{const[o]=Pt(),[i,s]=Wi({initialIds:[],sortedIds:[]}),l=v=>v>=0&&v<i.initialIds.length;Q(()=>{s("initialIds",[...e.ids]),s("sortedIds",[...e.ids])}),Q(()=>{o.active.draggableId&&o.active.droppableId?De(()=>{const v=i.sortedIds.indexOf(o.active.draggableId),g=i.initialIds.indexOf(o.active.droppableId);if(!l(v)||!l(g))s("sortedIds",[...e.ids]);else if(v!==g){const b=Fc(i.sortedIds,v,g);s("sortedIds",b)}}):s("sortedIds",[...e.ids])});const p=[i,{}];return j(Gi.Provider,{value:p,get children(){return e.children}})},Kc=()=>Fe(Gi)||null,zc=(e,o)=>i=>{e(i),o(i)},$c=(e,o={})=>{const[i,{addTransformer:s,removeTransformer:l}]=Pt(),[d]=Kc(),p=_c(e,o),v=Yi(e,o),g=zc(p.ref,v.ref),b=()=>d.initialIds.indexOf(e),S=()=>d.sortedIds.indexOf(e),x=D=>{var C;return((C=i.droppables[D])==null?void 0:C.layout)||null},w=()=>{const D=Ve(),C=b(),_=S();if(_!==C){const R=x(e),M=x(d.initialIds[_]);R&&M&&(D.x=M.x-R.x,D.y=M.y-R.y)}return D},T={id:"sortableOffset",order:100,callback:D=>{const C=w();return{x:D.x+C.x,y:D.y+C.y}}};it(()=>s("droppables",e,T)),ue(()=>l("droppables",e,T.id));const O=()=>{var D,C;return(e===i.active.draggableId&&!i.active.overlay?(D=i.draggables[e])==null?void 0:D.transform:(C=i.droppables[e])==null?void 0:C.transform)||Ve()};return Object.defineProperties(D=>{p(D,()=>({skipTransform:!0})),v(D,()=>({skipTransform:!0})),Q(()=>{const C=O();if(Vo(C,Ve()))D.style.removeProperty("transform");else{const _=Gn(O());D.style.setProperty("transform",_.transform??null)}})},{ref:{enumerable:!0,value:g},transform:{enumerable:!0,get:O},isActiveDraggable:{enumerable:!0,get:()=>p.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>p.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>v.isActiveDroppable}})},Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jn={exports:{}};jn.exports;(function(e,o){(function(i,s){e.exports=s()})(Nc,function(){function i(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),r.push.apply(r,a)}return r}function s(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(a){g(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function l(n){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(n)}function d(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p(n,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,P(a.key),a)}}function v(n,t,r){return t&&p(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function g(n,t,r){return(t=P(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function b(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&x(n,t)}function S(n){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(n)}function x(n,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},x(n,t)}function w(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function T(n){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,a=S(n);if(t){var c=S(this).constructor;r=Reflect.construct(a,arguments,c)}else r=a.apply(this,arguments);return function(u,f){if(f&&(typeof f=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(u)}(this,r)}}function O(){return O=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,t,r){var a=function(u,f){for(;!Object.prototype.hasOwnProperty.call(u,f)&&(u=S(u))!==null;);return u}(n,t);if(a){var c=Object.getOwnPropertyDescriptor(a,t);return c.get?c.get.call(arguments.length<3?n:r):c.value}},O.apply(this,arguments)}function P(n){var t=function(r,a){if(typeof r!="object"||r===null)return r;var c=r[Symbol.toPrimitive];if(c!==void 0){var u=c.call(r,a);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(n,"string");return typeof t=="symbol"?t:t+""}var D=function(n){return!(!n||!n.Window)&&n instanceof n.Window},C=void 0,_=void 0;function R(n){C=n;var t=n.document.createTextNode("");t.ownerDocument!==n.document&&typeof n.wrap=="function"&&n.wrap(t)===t&&(n=n.wrap(n)),_=n}function M(n){return D(n)?n:(n.ownerDocument||n).defaultView||_.window}typeof window<"u"&&window&&R(window);var B=function(n){return!!n&&l(n)==="object"},H=function(n){return typeof n=="function"},k={window:function(n){return n===_||D(n)},docFrag:function(n){return B(n)&&n.nodeType===11},object:B,func:H,number:function(n){return typeof n=="number"},bool:function(n){return typeof n=="boolean"},string:function(n){return typeof n=="string"},element:function(n){if(!n||l(n)!=="object")return!1;var t=M(n)||_;return/object|function/.test(typeof Element>"u"?"undefined":l(Element))?n instanceof Element||n instanceof t.Element:n.nodeType===1&&typeof n.nodeName=="string"},plainObject:function(n){return B(n)&&!!n.constructor&&/function Object\b/.test(n.constructor.toString())},array:function(n){return B(n)&&n.length!==void 0&&H(n.splice)}};function ie(n){var t=n.interaction;if(t.prepared.name==="drag"){var r=t.prepared.axis;r==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):r==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function G(n){var t=n.iEvent,r=n.interaction;if(r.prepared.name==="drag"){var a=r.prepared.axis;if(a==="x"||a==="y"){var c=a==="x"?"y":"x";t.page[c]=r.coords.start.page[c],t.client[c]=r.coords.start.client[c],t.delta[c]=0}}}var pe={id:"actions/drag",install:function(n){var t=n.actions,r=n.Interactable,a=n.defaults;r.prototype.draggable=pe.draggable,t.map.drag=pe,t.methodDict.drag="draggable",a.actions.drag=pe.defaults},listeners:{"interactions:before-action-move":ie,"interactions:action-resume":ie,"interactions:action-move":G,"auto-start:check":function(n){var t=n.interaction,r=n.interactable,a=n.buttons,c=r.options.drag;if(c&&c.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||a&r.options.drag.mouseButtons))return n.action={name:"drag",axis:c.lockAxis==="start"?c.startAxis:c.lockAxis},!1}},draggable:function(n){return k.object(n)?(this.options.drag.enabled=n.enabled!==!1,this.setPerAction("drag",n),this.setOnEvents("drag",n),/^(xy|x|y|start)$/.test(n.lockAxis)&&(this.options.drag.lockAxis=n.lockAxis),/^(xy|x|y)$/.test(n.startAxis)&&(this.options.drag.startAxis=n.startAxis),this):k.bool(n)?(this.options.drag.enabled=n,this):this.options.drag},beforeMove:ie,move:G,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(n){return n.search("drag")===0}},de=pe,fe={init:function(n){var t=n;fe.document=t.document,fe.DocumentFragment=t.DocumentFragment||ye,fe.SVGElement=t.SVGElement||ye,fe.SVGSVGElement=t.SVGSVGElement||ye,fe.SVGElementInstance=t.SVGElementInstance||ye,fe.Element=t.Element||ye,fe.HTMLElement=t.HTMLElement||fe.Element,fe.Event=t.Event,fe.Touch=t.Touch||ye,fe.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ye(){}var L=fe,F={init:function(n){var t=L.Element,r=n.navigator||{};F.supportsTouch="ontouchstart"in n||k.func(n.DocumentTouch)&&L.document instanceof n.DocumentTouch,F.supportsPointerEvent=r.pointerEnabled!==!1&&!!L.PointerEvent,F.isIOS=/iP(hone|od|ad)/.test(r.platform),F.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),F.isIe9=/MSIE 9/.test(r.userAgent),F.isOperaMobile=r.appName==="Opera"&&F.supportsTouch&&/Presto/.test(r.userAgent),F.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",F.pEventTypes=F.supportsPointerEvent?L.PointerEvent===n.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,F.wheelEvent=L.document&&"onmousewheel"in L.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},V=F;function ne(n,t){if(n.contains)return n.contains(t);for(;t;){if(t===n)return!0;t=t.parentNode}return!1}function ee(n,t){for(;k.element(n);){if(ce(n,t))return n;n=q(n)}return null}function q(n){var t=n.parentNode;if(k.docFrag(t)){for(;(t=t.host)&&k.docFrag(t););return t}return t}function ce(n,t){return _!==C&&(t=t.replace(/\/deep\//g," ")),n[V.prefixedMatchesSelector](t)}var ve=function(n){return n.parentNode||n.host};function Ee(n,t){for(var r,a=[],c=n;(r=ve(c))&&c!==t&&r!==c.ownerDocument;)a.unshift(c),c=r;return a}function Ne(n,t,r){for(;k.element(n);){if(ce(n,t))return!0;if((n=q(n))===r)return ce(n,t)}return!1}function mt(n){return n.correspondingUseElement||n}function re(n){var t=n instanceof L.SVGElement?n.getBoundingClientRect():n.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function ke(n){var t,r=re(n);if(!V.isIOS7&&r){var a={x:(t=(t=M(n))||_).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};r.left+=a.x,r.right+=a.x,r.top+=a.y,r.bottom+=a.y}return r}function Dt(n){for(var t=[];n;)t.push(n),n=q(n);return t}function hr(n){return!!k.string(n)&&(L.document.querySelector(n),!0)}function X(n,t){for(var r in t)n[r]=t[r];return n}function gr(n,t,r){return n==="parent"?q(r):n==="self"?t.getRect(r):ee(r,n)}function Nt(n,t,r,a){var c=n;return k.string(c)?c=gr(c,t,r):k.func(c)&&(c=c.apply(void 0,a)),k.element(c)&&(c=ke(c)),c}function vn(n){return n&&{x:"x"in n?n.x:n.left,y:"y"in n?n.y:n.top}}function eo(n){return!n||"x"in n&&"y"in n||((n=X({},n)).x=n.left||0,n.y=n.top||0,n.width=n.width||(n.right||0)-n.x,n.height=n.height||(n.bottom||0)-n.y),n}function mn(n,t,r){n.left&&(t.left+=r.x),n.right&&(t.right+=r.x),n.top&&(t.top+=r.y),n.bottom&&(t.bottom+=r.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function jt(n,t,r){var a=r&&n.options[r];return vn(Nt(a&&a.origin||n.options.origin,n,t,[n&&t]))||{x:0,y:0}}function yt(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(m){return!0},a=arguments.length>3?arguments[3]:void 0;if(a=a||{},k.string(n)&&n.search(" ")!==-1&&(n=vr(n)),k.array(n))return n.forEach(function(m){return yt(m,t,r,a)}),a;if(k.object(n)&&(t=n,n=""),k.func(t)&&r(n))a[n]=a[n]||[],a[n].push(t);else if(k.array(t))for(var c=0,u=t;c<u.length;c++){var f=u[c];yt(n,f,r,a)}else if(k.object(t))for(var h in t)yt(vr(h).map(function(m){return"".concat(n).concat(m)}),t[h],r,a);return a}function vr(n){return n.trim().split(/ +/)}var Bt=function(n,t){return Math.sqrt(n*n+t*t)},Gs=["webkit","moz"];function yn(n,t){n.__set||(n.__set={});var r=function(c){if(Gs.some(function(u){return c.indexOf(u)===0}))return 1;typeof n[c]!="function"&&c!=="__set"&&Object.defineProperty(n,c,{get:function(){return c in n.__set?n.__set[c]:n.__set[c]=t[c]},set:function(u){n.__set[c]=u},configurable:!0})};for(var a in t)r(a);return n}function bn(n,t){n.page=n.page||{},n.page.x=t.page.x,n.page.y=t.page.y,n.client=n.client||{},n.client.x=t.client.x,n.client.y=t.client.y,n.timeStamp=t.timeStamp}function mr(n){n.page.x=0,n.page.y=0,n.client.x=0,n.client.y=0}function yr(n){return n instanceof L.Event||n instanceof L.Touch}function xn(n,t,r){return n=n||"page",(r=r||{}).x=t[n+"X"],r.y=t[n+"Y"],r}function br(n,t){return t=t||{x:0,y:0},V.isOperaMobile&&yr(n)?(xn("screen",n,t),t.x+=window.scrollX,t.y+=window.scrollY):xn("page",n,t),t}function Vt(n){return k.number(n.pointerId)?n.pointerId:n.identifier}function Xs(n,t,r){var a=t.length>1?xr(t):t[0];br(a,n.page),function(c,u){u=u||{},V.isOperaMobile&&yr(c)?xn("screen",c,u):xn("client",c,u)}(a,n.client),n.timeStamp=r}function to(n){var t=[];return k.array(n)?(t[0]=n[0],t[1]=n[1]):n.type==="touchend"?n.touches.length===1?(t[0]=n.touches[0],t[1]=n.changedTouches[0]):n.touches.length===0&&(t[0]=n.changedTouches[0],t[1]=n.changedTouches[1]):(t[0]=n.touches[0],t[1]=n.touches[1]),t}function xr(n){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<n.length;r++){var a=n[r];for(var c in t)t[c]+=a[c]}for(var u in t)t[u]/=n.length;return t}function no(n){if(!n.length)return null;var t=to(n),r=Math.min(t[0].pageX,t[1].pageX),a=Math.min(t[0].pageY,t[1].pageY),c=Math.max(t[0].pageX,t[1].pageX),u=Math.max(t[0].pageY,t[1].pageY);return{x:r,y:a,left:r,top:a,right:c,bottom:u,width:c-r,height:u-a}}function oo(n,t){var r=t+"X",a=t+"Y",c=to(n),u=c[0][r]-c[1][r],f=c[0][a]-c[1][a];return Bt(u,f)}function ro(n,t){var r=t+"X",a=t+"Y",c=to(n),u=c[1][r]-c[0][r],f=c[1][a]-c[0][a];return 180*Math.atan2(f,u)/Math.PI}function wr(n){return k.string(n.pointerType)?n.pointerType:k.number(n.pointerType)?[void 0,void 0,"touch","pen","mouse"][n.pointerType]:/touch/.test(n.type||"")||n instanceof L.Touch?"touch":"mouse"}function Sr(n){var t=k.func(n.composedPath)?n.composedPath():n.path;return[mt(t?t[0]:n.target),mt(n.currentTarget)]}var wn=function(){function n(t){d(this,n),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return v(n,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}();Object.defineProperty(wn.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Er=function(n,t){for(var r=0;r<t.length;r++){var a=t[r];n.push(a)}return n},Pr=function(n){return Er([],n)},Ut=function(n,t){for(var r=0;r<n.length;r++)if(t(n[r],r,n))return r;return-1},Wt=function(n,t){return n[Ut(n,t)]},It=function(n){b(r,n);var t=T(r);function r(a,c,u){var f;d(this,r),(f=t.call(this,c._interaction)).dropzone=void 0,f.dragEvent=void 0,f.relatedTarget=void 0,f.draggable=void 0,f.propagationStopped=!1,f.immediatePropagationStopped=!1;var h=u==="dragleave"?a.prev:a.cur,m=h.element,E=h.dropzone;return f.type=u,f.target=m,f.currentTarget=m,f.dropzone=E,f.dragEvent=c,f.relatedTarget=c.target,f.draggable=c.interactable,f.timeStamp=c.timeStamp,f}return v(r,[{key:"reject",value:function(){var a=this,c=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&c.cur.dropzone===this.dropzone&&c.cur.element===this.target)if(c.prev.dropzone=this.dropzone,c.prev.element=this.target,c.rejected=!0,c.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var u=c.activeDrops,f=Ut(u,function(m){var E=m.dropzone,y=m.element;return E===a.dropzone&&y===a.target});c.activeDrops.splice(f,1);var h=new r(c,this.dragEvent,"dropdeactivate");h.dropzone=this.dropzone,h.target=this.target,this.dropzone.fire(h)}else this.dropzone.fire(new r(c,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),r}(wn);function Tr(n,t){for(var r=0,a=n.slice();r<a.length;r++){var c=a[r],u=c.dropzone,f=c.element;t.dropzone=u,t.target=f,u.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function io(n,t){for(var r=function(u,f){for(var h=[],m=0,E=u.interactables.list;m<E.length;m++){var y=E[m];if(y.options.drop.enabled){var I=y.options.drop.accept;if(!(k.element(I)&&I!==f||k.string(I)&&!ce(f,I)||k.func(I)&&!I({dropzone:y,draggableElement:f})))for(var A=0,z=y.getAllElements();A<z.length;A++){var K=z[A];K!==f&&h.push({dropzone:y,element:K,rect:y.getRect(K)})}}}return h}(n,t),a=0;a<r.length;a++){var c=r[a];c.rect=c.dropzone.getRect(c.element)}return r}function Or(n,t,r){for(var a=n.dropState,c=n.interactable,u=n.element,f=[],h=0,m=a.activeDrops;h<m.length;h++){var E=m[h],y=E.dropzone,I=E.element,A=E.rect,z=y.dropCheck(t,r,c,u,I,A);f.push(z?I:null)}var K=function($){for(var W,U,Y,te=[],ae=0;ae<$.length;ae++){var Z=$[ae],oe=$[W];if(Z&&ae!==W)if(oe){var Oe=ve(Z),ge=ve(oe);if(Oe!==Z.ownerDocument)if(ge!==Z.ownerDocument)if(Oe!==ge){te=te.length?te:Ee(oe);var Ce=void 0;if(oe instanceof L.HTMLElement&&Z instanceof L.SVGElement&&!(Z instanceof L.SVGSVGElement)){if(Z===ge)continue;Ce=Z.ownerSVGElement}else Ce=Z;for(var je=Ee(Ce,oe.ownerDocument),Qe=0;je[Qe]&&je[Qe]===te[Qe];)Qe++;var kn=[je[Qe-1],je[Qe],te[Qe]];if(kn[0])for(var Zt=kn[0].lastChild;Zt;){if(Zt===kn[1]){W=ae,te=je;break}if(Zt===kn[2])break;Zt=Zt.previousSibling}}else Y=oe,(parseInt(M(U=Z).getComputedStyle(U).zIndex,10)||0)>=(parseInt(M(Y).getComputedStyle(Y).zIndex,10)||0)&&(W=ae);else W=ae}else W=ae}return W}(f);return a.activeDrops[K]||null}function so(n,t,r){var a=n.dropState,c={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return r.type==="dragstart"&&(c.activate=new It(a,r,"dropactivate"),c.activate.target=null,c.activate.dropzone=null),r.type==="dragend"&&(c.deactivate=new It(a,r,"dropdeactivate"),c.deactivate.target=null,c.deactivate.dropzone=null),a.rejected||(a.cur.element!==a.prev.element&&(a.prev.dropzone&&(c.leave=new It(a,r,"dragleave"),r.dragLeave=c.leave.target=a.prev.element,r.prevDropzone=c.leave.dropzone=a.prev.dropzone),a.cur.dropzone&&(c.enter=new It(a,r,"dragenter"),r.dragEnter=a.cur.element,r.dropzone=a.cur.dropzone)),r.type==="dragend"&&a.cur.dropzone&&(c.drop=new It(a,r,"drop"),r.dropzone=a.cur.dropzone,r.relatedTarget=a.cur.element),r.type==="dragmove"&&a.cur.dropzone&&(c.move=new It(a,r,"dropmove"),r.dropzone=a.cur.dropzone)),c}function ao(n,t){var r=n.dropState,a=r.activeDrops,c=r.cur,u=r.prev;t.leave&&u.dropzone.fire(t.leave),t.enter&&c.dropzone.fire(t.enter),t.move&&c.dropzone.fire(t.move),t.drop&&c.dropzone.fire(t.drop),t.deactivate&&Tr(a,t.deactivate),r.prev.dropzone=c.dropzone,r.prev.element=c.element}function Dr(n,t){var r=n.interaction,a=n.iEvent,c=n.event;if(a.type==="dragmove"||a.type==="dragend"){var u=r.dropState;t.dynamicDrop&&(u.activeDrops=io(t,r.element));var f=a,h=Or(r,f,c);u.rejected=u.rejected&&!!h&&h.dropzone===u.cur.dropzone&&h.element===u.cur.element,u.cur.dropzone=h&&h.dropzone,u.cur.element=h&&h.element,u.events=so(r,0,f)}}var Ir={id:"actions/drop",install:function(n){var t=n.actions,r=n.interactStatic,a=n.Interactable,c=n.defaults;n.usePlugin(de),a.prototype.dropzone=function(u){return function(f,h){if(k.object(h)){if(f.options.drop.enabled=h.enabled!==!1,h.listeners){var m=yt(h.listeners),E=Object.keys(m).reduce(function(I,A){return I[/^(enter|leave)/.test(A)?"drag".concat(A):/^(activate|deactivate|move)/.test(A)?"drop".concat(A):A]=m[A],I},{}),y=f.options.drop.listeners;y&&f.off(y),f.on(E),f.options.drop.listeners=E}return k.func(h.ondrop)&&f.on("drop",h.ondrop),k.func(h.ondropactivate)&&f.on("dropactivate",h.ondropactivate),k.func(h.ondropdeactivate)&&f.on("dropdeactivate",h.ondropdeactivate),k.func(h.ondragenter)&&f.on("dragenter",h.ondragenter),k.func(h.ondragleave)&&f.on("dragleave",h.ondragleave),k.func(h.ondropmove)&&f.on("dropmove",h.ondropmove),/^(pointer|center)$/.test(h.overlap)?f.options.drop.overlap=h.overlap:k.number(h.overlap)&&(f.options.drop.overlap=Math.max(Math.min(1,h.overlap),0)),"accept"in h&&(f.options.drop.accept=h.accept),"checker"in h&&(f.options.drop.checker=h.checker),f}return k.bool(h)?(f.options.drop.enabled=h,f):f.options.drop}(this,u)},a.prototype.dropCheck=function(u,f,h,m,E,y){return function(I,A,z,K,$,W,U){var Y=!1;if(!(U=U||I.getRect(W)))return!!I.options.drop.checker&&I.options.drop.checker(A,z,Y,I,W,K,$);var te=I.options.drop.overlap;if(te==="pointer"){var ae=jt(K,$,"drag"),Z=br(A);Z.x+=ae.x,Z.y+=ae.y;var oe=Z.x>U.left&&Z.x<U.right,Oe=Z.y>U.top&&Z.y<U.bottom;Y=oe&&Oe}var ge=K.getRect($);if(ge&&te==="center"){var Ce=ge.left+ge.width/2,je=ge.top+ge.height/2;Y=Ce>=U.left&&Ce<=U.right&&je>=U.top&&je<=U.bottom}return ge&&k.number(te)&&(Y=Math.max(0,Math.min(U.right,ge.right)-Math.max(U.left,ge.left))*Math.max(0,Math.min(U.bottom,ge.bottom)-Math.max(U.top,ge.top))/(ge.width*ge.height)>=te),I.options.drop.checker&&(Y=I.options.drop.checker(A,z,Y,I,W,K,$)),Y}(this,u,f,h,m,E,y)},r.dynamicDrop=function(u){return k.bool(u)?(n.dynamicDrop=u,r):n.dynamicDrop},X(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",n.dynamicDrop=!1,c.actions.drop=Ir.defaults},listeners:{"interactions:before-action-start":function(n){var t=n.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(n,t){var r=n.interaction,a=(n.event,n.iEvent);if(r.prepared.name==="drag"){var c=r.dropState;c.activeDrops=[],c.events={},c.activeDrops=io(t,r.element),c.events=so(r,0,a),c.events.activate&&(Tr(c.activeDrops,c.events.activate),t.fire("actions/drop:start",{interaction:r,dragEvent:a}))}},"interactions:action-move":Dr,"interactions:after-action-move":function(n,t){var r=n.interaction,a=n.iEvent;if(r.prepared.name==="drag"){var c=r.dropState;ao(r,c.events),t.fire("actions/drop:move",{interaction:r,dragEvent:a}),c.events={}}},"interactions:action-end":function(n,t){if(n.interaction.prepared.name==="drag"){var r=n.interaction,a=n.iEvent;Dr(n,t),ao(r,r.dropState.events),t.fire("actions/drop:end",{interaction:r,dragEvent:a})}},"interactions:stop":function(n){var t=n.interaction;if(t.prepared.name==="drag"){var r=t.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:io,getDrop:Or,getDropEvents:so,fireDropEvents:ao,filterEventType:function(n){return n.search("drag")===0||n.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},qs=Ir;function co(n){var t=n.interaction,r=n.iEvent,a=n.phase;if(t.prepared.name==="gesture"){var c=t.pointers.map(function(E){return E.pointer}),u=a==="start",f=a==="end",h=t.interactable.options.deltaSource;if(r.touches=[c[0],c[1]],u)r.distance=oo(c,h),r.box=no(c),r.scale=1,r.ds=0,r.angle=ro(c,h),r.da=0,t.gesture.startDistance=r.distance,t.gesture.startAngle=r.angle;else if(f||t.pointers.length<2){var m=t.prevEvent;r.distance=m.distance,r.box=m.box,r.scale=m.scale,r.ds=0,r.angle=m.angle,r.da=0}else r.distance=oo(c,h),r.box=no(c),r.scale=r.distance/t.gesture.startDistance,r.angle=ro(c,h),r.ds=r.scale-t.gesture.scale,r.da=r.angle-t.gesture.angle;t.gesture.distance=r.distance,t.gesture.angle=r.angle,k.number(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(t.gesture.scale=r.scale)}}var lo={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(n){var t=n.actions,r=n.Interactable,a=n.defaults;r.prototype.gesturable=function(c){return k.object(c)?(this.options.gesture.enabled=c.enabled!==!1,this.setPerAction("gesture",c),this.setOnEvents("gesture",c),this):k.bool(c)?(this.options.gesture.enabled=c,this):this.options.gesture},t.map.gesture=lo,t.methodDict.gesture="gesturable",a.actions.gesture=lo.defaults},listeners:{"interactions:action-start":co,"interactions:action-move":co,"interactions:action-end":co,"interactions:new":function(n){n.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(n){if(!(n.interaction.pointers.length<2)){var t=n.interactable.options.gesture;if(t&&t.enabled)return n.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(n){return n.search("gesture")===0}},Zs=lo;function Js(n,t,r,a,c,u,f){if(!t)return!1;if(t===!0){var h=k.number(u.width)?u.width:u.right-u.left,m=k.number(u.height)?u.height:u.bottom-u.top;if(f=Math.min(f,Math.abs((n==="left"||n==="right"?h:m)/2)),h<0&&(n==="left"?n="right":n==="right"&&(n="left")),m<0&&(n==="top"?n="bottom":n==="bottom"&&(n="top")),n==="left"){var E=h>=0?u.left:u.right;return r.x<E+f}if(n==="top"){var y=m>=0?u.top:u.bottom;return r.y<y+f}if(n==="right")return r.x>(h>=0?u.right:u.left)-f;if(n==="bottom")return r.y>(m>=0?u.bottom:u.top)-f}return!!k.element(a)&&(k.element(t)?t===a:Ne(a,t,c))}function Mr(n){var t=n.iEvent,r=n.interaction;if(r.prepared.name==="resize"&&r.resizeAxes){var a=t;r.interactable.options.resize.square?(r.resizeAxes==="y"?a.delta.x=a.delta.y:a.delta.y=a.delta.x,a.axes="xy"):(a.axes=r.resizeAxes,r.resizeAxes==="x"?a.delta.y=0:r.resizeAxes==="y"&&(a.delta.x=0))}}var Ze,bt,Je={id:"actions/resize",before:["actions/drag"],install:function(n){var t=n.actions,r=n.browser,a=n.Interactable,c=n.defaults;Je.cursors=function(u){return u.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(r),Je.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,a.prototype.resizable=function(u){return function(f,h,m){return k.object(h)?(f.options.resize.enabled=h.enabled!==!1,f.setPerAction("resize",h),f.setOnEvents("resize",h),k.string(h.axis)&&/^x$|^y$|^xy$/.test(h.axis)?f.options.resize.axis=h.axis:h.axis===null&&(f.options.resize.axis=m.defaults.actions.resize.axis),k.bool(h.preserveAspectRatio)?f.options.resize.preserveAspectRatio=h.preserveAspectRatio:k.bool(h.square)&&(f.options.resize.square=h.square),f):k.bool(h)?(f.options.resize.enabled=h,f):f.options.resize}(this,u,n)},t.map.resize=Je,t.methodDict.resize="resizable",c.actions.resize=Je.defaults},listeners:{"interactions:new":function(n){n.interaction.resizeAxes="xy"},"interactions:action-start":function(n){(function(t){var r=t.iEvent,a=t.interaction;if(a.prepared.name==="resize"&&a.prepared.edges){var c=r,u=a.rect;a._rects={start:X({},u),corrected:X({},u),previous:X({},u),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},c.edges=a.prepared.edges,c.rect=a._rects.corrected,c.deltaRect=a._rects.delta}})(n),Mr(n)},"interactions:action-move":function(n){(function(t){var r=t.iEvent,a=t.interaction;if(a.prepared.name==="resize"&&a.prepared.edges){var c=r,u=a.interactable.options.resize.invert,f=u==="reposition"||u==="negate",h=a.rect,m=a._rects,E=m.start,y=m.corrected,I=m.delta,A=m.previous;if(X(A,y),f){if(X(y,h),u==="reposition"){if(y.top>y.bottom){var z=y.top;y.top=y.bottom,y.bottom=z}if(y.left>y.right){var K=y.left;y.left=y.right,y.right=K}}}else y.top=Math.min(h.top,E.bottom),y.bottom=Math.max(h.bottom,E.top),y.left=Math.min(h.left,E.right),y.right=Math.max(h.right,E.left);for(var $ in y.width=y.right-y.left,y.height=y.bottom-y.top,y)I[$]=y[$]-A[$];c.edges=a.prepared.edges,c.rect=y,c.deltaRect=I}})(n),Mr(n)},"interactions:action-end":function(n){var t=n.iEvent,r=n.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var a=t;a.edges=r.prepared.edges,a.rect=r._rects.corrected,a.deltaRect=r._rects.delta}},"auto-start:check":function(n){var t=n.interaction,r=n.interactable,a=n.element,c=n.rect,u=n.buttons;if(c){var f=X({},t.coords.cur.page),h=r.options.resize;if(h&&h.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||u&h.mouseButtons)){if(k.object(h.edges)){var m={left:!1,right:!1,top:!1,bottom:!1};for(var E in m)m[E]=Js(E,h.edges[E],f,t._latestPointer.eventTarget,a,c,h.margin||Je.defaultMargin);m.left=m.left&&!m.right,m.top=m.top&&!m.bottom,(m.left||m.right||m.top||m.bottom)&&(n.action={name:"resize",edges:m})}else{var y=h.axis!=="y"&&f.x>c.right-Je.defaultMargin,I=h.axis!=="x"&&f.y>c.bottom-Je.defaultMargin;(y||I)&&(n.action={name:"resize",axes:(y?"x":"")+(I?"y":"")})}return!n.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(n){var t=n.edges,r=n.axis,a=n.name,c=Je.cursors,u=null;if(r)u=c[a+r];else if(t){for(var f="",h=0,m=["top","bottom","left","right"];h<m.length;h++){var E=m[h];t[E]&&(f+=E)}u=c[f]}return u},filterEventType:function(n){return n.search("resize")===0},defaultMargin:null},Qs=Je,ea={id:"actions",install:function(n){n.usePlugin(Zs),n.usePlugin(Qs),n.usePlugin(de),n.usePlugin(qs)}},kr=0,ct={request:function(n){return Ze(n)},cancel:function(n){return bt(n)},init:function(n){if(Ze=n.requestAnimationFrame,bt=n.cancelAnimationFrame,!Ze)for(var t=["ms","moz","webkit","o"],r=0;r<t.length;r++){var a=t[r];Ze=n["".concat(a,"RequestAnimationFrame")],bt=n["".concat(a,"CancelAnimationFrame")]||n["".concat(a,"CancelRequestAnimationFrame")]}Ze=Ze&&Ze.bind(n),bt=bt&&bt.bind(n),Ze||(Ze=function(c){var u=Date.now(),f=Math.max(0,16-(u-kr)),h=n.setTimeout(function(){c(u+f)},f);return kr=u+f,h},bt=function(c){return clearTimeout(c)})}},J={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(n){J.isScrolling=!0,ct.cancel(J.i),n.autoScroll=J,J.interaction=n,J.prevTime=J.now(),J.i=ct.request(J.scroll)},stop:function(){J.isScrolling=!1,J.interaction&&(J.interaction.autoScroll=null),ct.cancel(J.i)},scroll:function(){var n=J.interaction,t=n.interactable,r=n.element,a=n.prepared.name,c=t.options[a].autoScroll,u=Cr(c.container,t,r),f=J.now(),h=(f-J.prevTime)/1e3,m=c.speed*h;if(m>=1){var E={x:J.x*m,y:J.y*m};if(E.x||E.y){var y=Ar(u);k.window(u)?u.scrollBy(E.x,E.y):u&&(u.scrollLeft+=E.x,u.scrollTop+=E.y);var I=Ar(u),A={x:I.x-y.x,y:I.y-y.y};(A.x||A.y)&&t.fire({type:"autoscroll",target:r,interactable:t,delta:A,interaction:n,container:u})}J.prevTime=f}J.isScrolling&&(ct.cancel(J.i),J.i=ct.request(J.scroll))},check:function(n,t){var r;return(r=n.options[t].autoScroll)==null?void 0:r.enabled},onInteractionMove:function(n){var t=n.interaction,r=n.pointer;if(t.interacting()&&J.check(t.interactable,t.prepared.name))if(t.simulation)J.x=J.y=0;else{var a,c,u,f,h=t.interactable,m=t.element,E=t.prepared.name,y=h.options[E].autoScroll,I=Cr(y.container,h,m);if(k.window(I))f=r.clientX<J.margin,a=r.clientY<J.margin,c=r.clientX>I.innerWidth-J.margin,u=r.clientY>I.innerHeight-J.margin;else{var A=re(I);f=r.clientX<A.left+J.margin,a=r.clientY<A.top+J.margin,c=r.clientX>A.right-J.margin,u=r.clientY>A.bottom-J.margin}J.x=c?1:f?-1:0,J.y=u?1:a?-1:0,J.isScrolling||(J.margin=y.margin,J.speed=y.speed,J.start(t))}}};function Cr(n,t,r){return(k.string(n)?gr(n,t,r):n)||M(r)}function Ar(n){return k.window(n)&&(n=window.document.body),{x:n.scrollLeft,y:n.scrollTop}}var ta={id:"auto-scroll",install:function(n){var t=n.defaults,r=n.actions;n.autoScroll=J,J.now=function(){return n.now()},r.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=J.defaults},listeners:{"interactions:new":function(n){n.interaction.autoScroll=null},"interactions:destroy":function(n){n.interaction.autoScroll=null,J.stop(),J.interaction&&(J.interaction=null)},"interactions:stop":J.stop,"interactions:action-move":function(n){return J.onInteractionMove(n)}}},na=ta;function Ht(n,t){var r=!1;return function(){return r||(_.console.warn(t),r=!0),n.apply(this,arguments)}}function uo(n,t){return n.name=t.name,n.axis=t.axis,n.edges=t.edges,n}function oa(n){return k.bool(n)?(this.options.styleCursor=n,this):n===null?(delete this.options.styleCursor,this):this.options.styleCursor}function ra(n){return k.func(n)?(this.options.actionChecker=n,this):n===null?(delete this.options.actionChecker,this):this.options.actionChecker}var ia={id:"auto-start/interactableMethods",install:function(n){var t=n.Interactable;t.prototype.getAction=function(r,a,c,u){var f=function(h,m,E,y,I){var A=h.getRect(y),z=m.buttons||{0:1,1:4,3:8,4:16}[m.button],K={action:null,interactable:h,interaction:E,element:y,rect:A,buttons:z};return I.fire("auto-start:check",K),K.action}(this,a,c,u,n);return this.options.actionChecker?this.options.actionChecker(r,a,f,this,u,c):f},t.prototype.ignoreFrom=Ht(function(r){return this._backCompatOption("ignoreFrom",r)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Ht(function(r){return this._backCompatOption("allowFrom",r)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=ra,t.prototype.styleCursor=oa}};function _r(n,t,r,a,c){return t.testIgnoreAllow(t.options[n.name],r,a)&&t.options[n.name].enabled&&Sn(t,r,n,c)?n:null}function sa(n,t,r,a,c,u,f){for(var h=0,m=a.length;h<m;h++){var E=a[h],y=c[h],I=E.getAction(t,r,n,y);if(I){var A=_r(I,E,y,u,f);if(A)return{action:A,interactable:E,element:y}}}return{action:null,interactable:null,element:null}}function Lr(n,t,r,a,c){var u=[],f=[],h=a;function m(y){u.push(y),f.push(h)}for(;k.element(h);){u=[],f=[],c.interactables.forEachMatch(h,m);var E=sa(n,t,r,u,f,a,c);if(E.action&&!E.interactable.options[E.action.name].manualStart)return E;h=q(h)}return{action:null,interactable:null,element:null}}function Fr(n,t,r){var a=t.action,c=t.interactable,u=t.element;a=a||{name:null},n.interactable=c,n.element=u,uo(n.prepared,a),n.rect=c&&a.name?c.getRect(u):null,Kr(n,r),r.fire("autoStart:prepared",{interaction:n})}function Sn(n,t,r,a){var c=n.options,u=c[r.name].max,f=c[r.name].maxPerElement,h=a.autoStart.maxInteractions,m=0,E=0,y=0;if(!(u&&f&&h))return!1;for(var I=0,A=a.interactions.list;I<A.length;I++){var z=A[I],K=z.prepared.name;if(z.interacting()&&(++m>=h||z.interactable===n&&((E+=K===r.name?1:0)>=u||z.element===t&&(y++,K===r.name&&y>=f))))return!1}return h>0}function Rr(n,t){return k.number(n)?(t.autoStart.maxInteractions=n,this):t.autoStart.maxInteractions}function fo(n,t,r){var a=r.autoStart.cursorElement;a&&a!==n&&(a.style.cursor=""),n.ownerDocument.documentElement.style.cursor=t,n.style.cursor=t,r.autoStart.cursorElement=t?n:null}function Kr(n,t){var r=n.interactable,a=n.element,c=n.prepared;if(n.pointerType==="mouse"&&r&&r.options.styleCursor){var u="";if(c.name){var f=r.options[c.name].cursorChecker;u=k.func(f)?f(c,r,a,n._interacting):t.actions.map[c.name].getCursor(c)}fo(n.element,u||"",t)}else t.autoStart.cursorElement&&fo(t.autoStart.cursorElement,"",t)}var aa={id:"auto-start/base",before:["actions"],install:function(n){var t=n.interactStatic,r=n.defaults;n.usePlugin(ia),r.base.actionChecker=null,r.base.styleCursor=!0,X(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(a){return Rr(a,n)},n.autoStart={maxInteractions:1/0,withinInteractionLimit:Sn,cursorElement:null}},listeners:{"interactions:down":function(n,t){var r=n.interaction,a=n.pointer,c=n.event,u=n.eventTarget;r.interacting()||Fr(r,Lr(r,a,c,u,t),t)},"interactions:move":function(n,t){(function(r,a){var c=r.interaction,u=r.pointer,f=r.event,h=r.eventTarget;c.pointerType!=="mouse"||c.pointerIsDown||c.interacting()||Fr(c,Lr(c,u,f,h,a),a)})(n,t),function(r,a){var c=r.interaction;if(c.pointerIsDown&&!c.interacting()&&c.pointerWasMoved&&c.prepared.name){a.fire("autoStart:before-start",r);var u=c.interactable,f=c.prepared.name;f&&u&&(u.options[f].manualStart||!Sn(u,c.element,c.prepared,a)?c.stop():(c.start(c.prepared,u,c.element),Kr(c,a)))}}(n,t)},"interactions:stop":function(n,t){var r=n.interaction,a=r.interactable;a&&a.options.styleCursor&&fo(r.element,"",t)}},maxInteractions:Rr,withinInteractionLimit:Sn,validateAction:_r},po=aa,ca={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(n,t){var r=n.interaction,a=n.eventTarget,c=n.dx,u=n.dy;if(r.prepared.name==="drag"){var f=Math.abs(c),h=Math.abs(u),m=r.interactable.options.drag,E=m.startAxis,y=f>h?"x":f<h?"y":"xy";if(r.prepared.axis=m.lockAxis==="start"?y[0]:m.lockAxis,y!=="xy"&&E!=="xy"&&E!==y){r.prepared.name=null;for(var I=a,A=function(K){if(K!==r.interactable){var $=r.interactable.options.drag;if(!$.manualStart&&K.testIgnoreAllow($,I,a)){var W=K.getAction(r.downPointer,r.downEvent,r,I);if(W&&W.name==="drag"&&function(U,Y){if(!Y)return!1;var te=Y.options.drag.startAxis;return U==="xy"||te==="xy"||te===U}(y,K)&&po.validateAction(W,K,I,a,t))return K}}};k.element(I);){var z=t.interactables.forEachMatch(I,A);if(z){r.prepared.name="drag",r.interactable=z,r.element=I;break}I=q(I)}}}}}};function ho(n){var t=n.prepared&&n.prepared.name;if(!t)return null;var r=n.interactable.options;return r[t].hold||r[t].delay}var la={id:"auto-start/hold",install:function(n){var t=n.defaults;n.usePlugin(po),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(n){n.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(n){var t=n.interaction,r=ho(t);r>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},r))},"interactions:move":function(n){var t=n.interaction,r=n.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!r&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(n){var t=n.interaction;ho(t)>0&&(t.prepared.name=null)}},getHoldDuration:ho},ua=la,da={id:"auto-start",install:function(n){n.usePlugin(po),n.usePlugin(ua),n.usePlugin(ca)}},fa=function(n){return/^(always|never|auto)$/.test(n)?(this.options.preventDefault=n,this):k.bool(n)?(this.options.preventDefault=n?"always":"never",this):this.options.preventDefault};function pa(n){var t=n.interaction,r=n.event;t.interactable&&t.interactable.checkAndPreventDefault(r)}var zr={id:"core/interactablePreventDefault",install:function(n){var t=n.Interactable;t.prototype.preventDefault=fa,t.prototype.checkAndPreventDefault=function(r){return function(a,c,u){var f=a.options.preventDefault;if(f!=="never")if(f!=="always"){if(c.events.supportsPassive&&/^touch(start|move)$/.test(u.type)){var h=M(u.target).document,m=c.getDocOptions(h);if(!m||!m.events||m.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(u.type)||k.element(u.target)&&ce(u.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||u.preventDefault()}else u.preventDefault()}(this,n,r)},n.interactions.docEvents.push({type:"dragstart",listener:function(r){for(var a=0,c=n.interactions.list;a<c.length;a++){var u=c[a];if(u.element&&(u.element===r.target||ne(u.element,r.target)))return void u.interactable.checkAndPreventDefault(r)}}})},listeners:["down","move","up","cancel"].reduce(function(n,t){return n["interactions:".concat(t)]=pa,n},{})};function En(n,t){if(t.phaselessTypes[n])return!0;for(var r in t.map)if(n.indexOf(r)===0&&n.substr(r.length)in t.phases)return!0;return!1}function Mt(n){var t={};for(var r in n){var a=n[r];k.plainObject(a)?t[r]=Mt(a):k.array(a)?t[r]=Pr(a):t[r]=a}return t}var go=function(){function n(t){d(this,n),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=Pn(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return v(n,[{key:"start",value:function(t,r){var a,c,u=t.phase,f=this.interaction,h=function(E){var y=E.interactable.options[E.prepared.name],I=y.modifiers;return I&&I.length?I:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(A){var z=y[A];return z&&z.enabled&&{options:z,methods:z._methods}}).filter(function(A){return!!A})}(f);this.prepareStates(h),this.startEdges=X({},f.edges),this.edges=X({},this.startEdges),this.startOffset=(a=f.rect,c=r,a?{left:c.x-a.left,top:c.y-a.top,right:a.right-c.x,bottom:a.bottom-c.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var m=this.fillArg({phase:u,pageCoords:r,preEnd:!1});return this.result=Pn(),this.startAll(m),this.result=this.setAll(m)}},{key:"fillArg",value:function(t){var r=this.interaction;return t.interaction=r,t.interactable=r.interactable,t.element=r.element,t.rect||(t.rect=r.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){for(var r=0,a=this.states;r<a.length;r++){var c=a[r];c.methods.start&&(t.state=c,c.methods.start(t))}}},{key:"setAll",value:function(t){var r=t.phase,a=t.preEnd,c=t.skipModifiers,u=t.rect,f=t.edges;t.coords=X({},t.pageCoords),t.rect=X({},u),t.edges=X({},f);for(var h=c?this.states.slice(c):this.states,m=Pn(t.coords,t.rect),E=0;E<h.length;E++){var y,I=h[E],A=I.options,z=X({},t.coords),K=null;(y=I.methods)!=null&&y.set&&this.shouldDo(A,a,r)&&(t.state=I,K=I.methods.set(t),mn(t.edges,t.rect,{x:t.coords.x-z.x,y:t.coords.y-z.y})),m.eventProps.push(K)}X(this.edges,t.edges),m.delta.x=t.coords.x-t.pageCoords.x,m.delta.y=t.coords.y-t.pageCoords.y,m.rectDelta.left=t.rect.left-u.left,m.rectDelta.right=t.rect.right-u.right,m.rectDelta.top=t.rect.top-u.top,m.rectDelta.bottom=t.rect.bottom-u.bottom;var $=this.result.coords,W=this.result.rect;if($&&W){var U=m.rect.left!==W.left||m.rect.right!==W.right||m.rect.top!==W.top||m.rect.bottom!==W.bottom;m.changed=U||$.x!==m.coords.x||$.y!==m.coords.y}return m}},{key:"applyToInteraction",value:function(t){var r=this.interaction,a=t.phase,c=r.coords.cur,u=r.coords.start,f=this.result,h=this.startDelta,m=f.delta;a==="start"&&X(this.startDelta,f.delta);for(var E=0,y=[[u,h],[c,m]];E<y.length;E++){var I=y[E],A=I[0],z=I[1];A.page.x+=z.x,A.page.y+=z.y,A.client.x+=z.x,A.client.y+=z.y}var K=this.result.rectDelta,$=t.rect||r.rect;$.left+=K.left,$.right+=K.right,$.top+=K.top,$.bottom+=K.bottom,$.width=$.right-$.left,$.height=$.bottom-$.top}},{key:"setAndApply",value:function(t){var r=this.interaction,a=t.phase,c=t.preEnd,u=t.skipModifiers,f=this.setAll(this.fillArg({preEnd:c,phase:a,pageCoords:t.modifiedCoords||r.coords.cur.page}));if(this.result=f,!f.changed&&(!u||u<this.states.length)&&r.interacting())return!1;if(t.modifiedCoords){var h=r.coords.cur.page,m={x:t.modifiedCoords.x-h.x,y:t.modifiedCoords.y-h.y};f.coords.x+=m.x,f.coords.y+=m.y,f.delta.x+=m.x,f.delta.y+=m.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var r=t.interaction,a=t.event,c=this.states;if(c&&c.length){for(var u=!1,f=0;f<c.length;f++){var h=c[f];t.state=h;var m=h.options,E=h.methods,y=E.beforeEnd&&E.beforeEnd(t);if(y)return this.endResult=y,!1;u=u||!u&&this.shouldDo(m,!0,t.phase,!0)}u&&r.move({event:a,preEnd:!0})}}},{key:"stop",value:function(t){var r=t.interaction;if(this.states&&this.states.length){var a=X({states:this.states,interactable:r.interactable,element:r.element,rect:null},t);this.fillArg(a);for(var c=0,u=this.states;c<u.length;c++){var f=u[c];a.state=f,f.methods.stop&&f.methods.stop(a)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var r=0;r<t.length;r++){var a=t[r],c=a.options,u=a.methods,f=a.name;this.states.push({options:c,methods:u,index:r,name:f})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var r=t.interaction,a=r.coords,c=r.rect,u=r.modification;if(u.result){for(var f=u.startDelta,h=u.result,m=h.delta,E=h.rectDelta,y=0,I=[[a.start,f],[a.cur,m]];y<I.length;y++){var A=I[y],z=A[0],K=A[1];z.page.x-=K.x,z.page.y-=K.y,z.client.x-=K.x,z.client.y-=K.y}c.left-=E.left,c.right-=E.right,c.top-=E.top,c.bottom-=E.bottom}}},{key:"shouldDo",value:function(t,r,a,c){return!(!t||t.enabled===!1||c&&!t.endOnly||t.endOnly&&!r||a==="start"&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(function(r){return Mt(r)}),this.result=Pn(X({},t.result.coords),X({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}]),n}();function Pn(n,t){return{rect:t,coords:n,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function lt(n,t){var r=n.defaults,a={start:n.start,set:n.set,beforeEnd:n.beforeEnd,stop:n.stop},c=function(u){var f=u||{};for(var h in f.enabled=f.enabled!==!1,r)h in f||(f[h]=r[h]);var m={options:f,methods:a,name:t,enable:function(){return f.enabled=!0,m},disable:function(){return f.enabled=!1,m}};return m};return t&&typeof t=="string"&&(c._defaults=r,c._methods=a),c}function Yt(n){var t=n.iEvent,r=n.interaction.modification.result;r&&(t.modifiers=r.eventProps)}var ha={id:"modifiers/base",before:["actions"],install:function(n){n.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(n){var t=n.interaction;t.modification=new go(t)},"interactions:before-action-start":function(n){var t=n.interaction,r=n.interaction.modification;r.start(n,t.coords.start.page),t.edges=r.edges,r.applyToInteraction(n)},"interactions:before-action-move":function(n){var t=n.interaction,r=t.modification,a=r.setAndApply(n);return t.edges=r.edges,a},"interactions:before-action-end":function(n){var t=n.interaction,r=t.modification,a=r.beforeEnd(n);return t.edges=r.startEdges,a},"interactions:action-start":Yt,"interactions:action-move":Yt,"interactions:action-end":Yt,"interactions:after-action-start":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-move":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:stop":function(n){return n.interaction.modification.stop(n)}}},$r=ha,Nr={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},vo=function(n){b(r,n);var t=T(r);function r(a,c,u,f,h,m,E){var y;d(this,r),(y=t.call(this,a)).relatedTarget=null,y.screenX=void 0,y.screenY=void 0,y.button=void 0,y.buttons=void 0,y.ctrlKey=void 0,y.shiftKey=void 0,y.altKey=void 0,y.metaKey=void 0,y.page=void 0,y.client=void 0,y.delta=void 0,y.rect=void 0,y.x0=void 0,y.y0=void 0,y.t0=void 0,y.dt=void 0,y.duration=void 0,y.clientX0=void 0,y.clientY0=void 0,y.velocity=void 0,y.speed=void 0,y.swipe=void 0,y.axes=void 0,y.preEnd=void 0,h=h||a.element;var I=a.interactable,A=(I&&I.options||Nr).deltaSource,z=jt(I,h,u),K=f==="start",$=f==="end",W=K?w(y):a.prevEvent,U=K?a.coords.start:$?{page:W.page,client:W.client,timeStamp:a.coords.cur.timeStamp}:a.coords.cur;return y.page=X({},U.page),y.client=X({},U.client),y.rect=X({},a.rect),y.timeStamp=U.timeStamp,$||(y.page.x-=z.x,y.page.y-=z.y,y.client.x-=z.x,y.client.y-=z.y),y.ctrlKey=c.ctrlKey,y.altKey=c.altKey,y.shiftKey=c.shiftKey,y.metaKey=c.metaKey,y.button=c.button,y.buttons=c.buttons,y.target=h,y.currentTarget=h,y.preEnd=m,y.type=E||u+(f||""),y.interactable=I,y.t0=K?a.pointers[a.pointers.length-1].downTime:W.t0,y.x0=a.coords.start.page.x-z.x,y.y0=a.coords.start.page.y-z.y,y.clientX0=a.coords.start.client.x-z.x,y.clientY0=a.coords.start.client.y-z.y,y.delta=K||$?{x:0,y:0}:{x:y[A].x-W[A].x,y:y[A].y-W[A].y},y.dt=a.coords.delta.timeStamp,y.duration=y.timeStamp-y.t0,y.velocity=X({},a.coords.velocity[A]),y.speed=Bt(y.velocity.x,y.velocity.y),y.swipe=$||f==="inertiastart"?y.getSwipe():null,y}return v(r,[{key:"getSwipe",value:function(){var a=this._interaction;if(a.prevEvent.speed<600||this.timeStamp-a.prevEvent.timeStamp>150)return null;var c=180*Math.atan2(a.prevEvent.velocityY,a.prevEvent.velocityX)/Math.PI;c<0&&(c+=360);var u=112.5<=c&&c<247.5,f=202.5<=c&&c<337.5;return{up:f,down:!f&&22.5<=c&&c<157.5,left:u,right:!u&&(292.5<=c||c<67.5),angle:c,speed:a.prevEvent.speed,velocity:{x:a.prevEvent.velocityX,y:a.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),r}(wn);Object.defineProperties(vo.prototype,{pageX:{get:function(){return this.page.x},set:function(n){this.page.x=n}},pageY:{get:function(){return this.page.y},set:function(n){this.page.y=n}},clientX:{get:function(){return this.client.x},set:function(n){this.client.x=n}},clientY:{get:function(){return this.client.y},set:function(n){this.client.y=n}},dx:{get:function(){return this.delta.x},set:function(n){this.delta.x=n}},dy:{get:function(){return this.delta.y},set:function(n){this.delta.y=n}},velocityX:{get:function(){return this.velocity.x},set:function(n){this.velocity.x=n}},velocityY:{get:function(){return this.velocity.y},set:function(n){this.velocity.y=n}}});var ga=v(function n(t,r,a,c,u){d(this,n),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=r,this.event=a,this.downTime=c,this.downTarget=u}),va=function(n){return n.interactable="",n.element="",n.prepared="",n.pointerIsDown="",n.pointerWasMoved="",n._proxy="",n}({}),jr=function(n){return n.start="",n.move="",n.end="",n.stop="",n.interacting="",n}({}),ma=0,ya=function(){function n(t){var r=this,a=t.pointerType,c=t.scopeFire;d(this,n),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Ht(function(y){this.move(y)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ma++,this._scopeFire=c,this.pointerType=a;var u=this;this._proxy={};var f=function(y){Object.defineProperty(r._proxy,y,{get:function(){return u[y]}})};for(var h in va)f(h);var m=function(y){Object.defineProperty(r._proxy,y,{value:function(){return u[y].apply(u,arguments)}})};for(var E in jr)m(E);this._scopeFire("interactions:new",{interaction:this})}return v(n,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,r,a){var c=this.updatePointer(t,r,a,!0),u=this.pointers[c];this._scopeFire("interactions:down",{pointer:t,event:r,eventTarget:a,pointerIndex:c,pointerInfo:u,type:"down",interaction:this})}},{key:"start",value:function(t,r,a){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!r.options[t.name].enabled)&&(uo(this.prepared,t),this.interactable=r,this.element=a,this.rect=r.getRect(a),this.edges=this.prepared.edges?X({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,r,a){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,r,a,!1);var c,u,f=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(c=this.coords.cur.client.x-this.coords.start.client.x,u=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Bt(c,u)>this.pointerMoveTolerance);var h,m,E,y=this.getPointerIndex(t),I={pointer:t,pointerIndex:y,pointerInfo:this.pointers[y],event:r,type:"move",eventTarget:a,dx:c,dy:u,duplicate:f,interaction:this};f||(h=this.coords.velocity,m=this.coords.delta,E=Math.max(m.timeStamp/1e3,.001),h.page.x=m.page.x/E,h.page.y=m.page.y/E,h.client.x=m.client.x/E,h.client.y=m.client.y/E,h.timeStamp=E),this._scopeFire("interactions:move",I),f||this.simulation||(this.interacting()&&(I.type=null,this.move(I)),this.pointerWasMoved&&bn(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||mr(this.coords.delta),(t=X({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,r,a,c){var u=this.getPointerIndex(t);u===-1&&(u=this.updatePointer(t,r,a,!1));var f=/cancel$/i.test(r.type)?"cancel":"up";this._scopeFire("interactions:".concat(f),{pointer:t,pointerIndex:u,pointerInfo:this.pointers[u],event:r,eventTarget:a,type:f,curEventTarget:c,interaction:this}),this.simulation||this.end(r),this.removePointer(t,r)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var r;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(r=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,r===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var r=Vt(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Ut(this.pointers,function(a){return a.id===r})}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,r,a,c){var u,f,h,m=Vt(t),E=this.getPointerIndex(t),y=this.pointers[E];return c=c!==!1&&(c||/(down|start)$/i.test(r.type)),y?y.pointer=t:(y=new ga(m,t,r,null,null),E=this.pointers.length,this.pointers.push(y)),Xs(this.coords.cur,this.pointers.map(function(I){return I.pointer}),this._now()),u=this.coords.delta,f=this.coords.prev,h=this.coords.cur,u.page.x=h.page.x-f.page.x,u.page.y=h.page.y-f.page.y,u.client.x=h.client.x-f.client.x,u.client.y=h.client.y-f.client.y,u.timeStamp=h.timeStamp-f.timeStamp,c&&(this.pointerIsDown=!0,y.downTime=this.coords.cur.timeStamp,y.downTarget=a,yn(this.downPointer,t),this.interacting()||(bn(this.coords.start,this.coords.cur),bn(this.coords.prev,this.coords.cur),this.downEvent=r,this.pointerWasMoved=!1)),this._updateLatestPointer(t,r,a),this._scopeFire("interactions:update-pointer",{pointer:t,event:r,eventTarget:a,down:c,pointerInfo:y,pointerIndex:E,interaction:this}),E}},{key:"removePointer",value:function(t,r){var a=this.getPointerIndex(t);if(a!==-1){var c=this.pointers[a];this._scopeFire("interactions:remove-pointer",{pointer:t,event:r,eventTarget:null,pointerIndex:a,pointerInfo:c,interaction:this}),this.pointers.splice(a,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,r,a){this._latestPointer.pointer=t,this._latestPointer.event=r,this._latestPointer.eventTarget=a}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,r,a,c){return new vo(this,t,this.prepared.name,r,this.element,a,c)}},{key:"_fireEvent",value:function(t){var r;(r=this.interactable)==null||r.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var r=t.event,a=t.phase,c=t.preEnd,u=t.type,f=this.rect;if(f&&a==="move"&&(mn(this.edges,f,this.coords.delta[this.interactable.options.deltaSource]),f.width=f.right-f.left,f.height=f.bottom-f.top),this._scopeFire("interactions:before-action-".concat(a),t)===!1)return!1;var h=t.iEvent=this._createPreparedEvent(r,a,c,u);return this._scopeFire("interactions:action-".concat(a),t),a==="start"&&(this.prevEvent=h),this._fireEvent(h),this._scopeFire("interactions:after-action-".concat(a),t),!0}},{key:"_now",value:function(){return Date.now()}}]),n}();function Br(n){Vr(n.interaction)}function Vr(n){if(!function(r){return!(!r.offset.pending.x&&!r.offset.pending.y)}(n))return!1;var t=n.offset.pending;return mo(n.coords.cur,t),mo(n.coords.delta,t),mn(n.edges,n.rect,t),t.x=0,t.y=0,!0}function ba(n){var t=n.x,r=n.y;this.offset.pending.x+=t,this.offset.pending.y+=r,this.offset.total.x+=t,this.offset.total.y+=r}function mo(n,t){var r=n.page,a=n.client,c=t.x,u=t.y;r.x+=c,r.y+=u,a.x+=c,a.y+=u}jr.offsetBy="";var xa={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(n){n.Interaction.prototype.offsetBy=ba},listeners:{"interactions:new":function(n){n.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(n){return function(t){t.pointerIsDown&&(mo(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}(n.interaction)},"interactions:before-action-start":Br,"interactions:before-action-move":Br,"interactions:before-action-end":function(n){var t=n.interaction;if(Vr(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(n){var t=n.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Ur=xa,wa=function(){function n(t){d(this,n),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return v(n,[{key:"start",value:function(t){var r=this.interaction,a=Tn(r);if(!a||!a.enabled)return!1;var c=r.coords.velocity.client,u=Bt(c.x,c.y),f=this.modification||(this.modification=new go(r));if(f.copyFrom(r.modification),this.t0=r._now(),this.allowResume=a.allowResume,this.v0=u,this.currentOffset={x:0,y:0},this.startCoords=r.coords.cur.page,this.modifierArg=f.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-r.coords.cur.timeStamp<50&&u>a.minSpeed&&u>a.endSpeed)this.startInertia();else{if(f.result=f.setAll(this.modifierArg),!f.result.changed)return!1;this.startSmoothEnd()}return r.modification.result.rect=null,r.offsetBy(this.targetOffset),r._doPhase({interaction:r,event:t,phase:"inertiastart"}),r.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),r.modification.result.rect=null,this.active=!0,r.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,r=this.interaction.coords.velocity.client,a=Tn(this.interaction),c=a.resistance,u=-Math.log(a.endSpeed/this.v0)/c;this.targetOffset={x:(r.x-u)/c,y:(r.y-u)/c},this.te=u,this.lambda_v0=c/this.v0,this.one_ve_v0=1-a.endSpeed/this.v0;var f=this.modification,h=this.modifierArg;h.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},f.result=f.setAll(h),f.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+f.result.delta.x,y:this.targetOffset.y+f.result.delta.y}),this.onNextFrame(function(){return t.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return t.smoothEndTick()})}},{key:"onNextFrame",value:function(t){var r=this;this.timeout=ct.request(function(){r.active&&t()})}},{key:"inertiaTick",value:function(){var t,r,a,c,u,f,h,m=this,E=this.interaction,y=Tn(E).resistance,I=(E._now()-this.t0)/1e3;if(I<this.te){var A,z=1-(Math.exp(-y*I)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=0,r=0,a=this.targetOffset.x,c=this.targetOffset.y,u=this.modifiedOffset.x,f=this.modifiedOffset.y,A={x:Wr(h=z,t,a,u),y:Wr(h,r,c,f)}):A={x:this.targetOffset.x*z,y:this.targetOffset.y*z};var K={x:A.x-this.currentOffset.x,y:A.y-this.currentOffset.y};this.currentOffset.x+=K.x,this.currentOffset.y+=K.y,E.offsetBy(K),E.move(),this.onNextFrame(function(){return m.inertiaTick()})}else E.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,r=this.interaction,a=r._now()-this.t0,c=Tn(r).smoothEndDuration;if(a<c){var u={x:Hr(a,0,this.targetOffset.x,c),y:Hr(a,0,this.targetOffset.y,c)},f={x:u.x-this.currentOffset.x,y:u.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,r.offsetBy(f),r.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return t.smoothEndTick()})}else r.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var r=t.pointer,a=t.event,c=t.eventTarget,u=this.interaction;u.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),u.updatePointer(r,a,c,!0),u._doPhase({interaction:u,event:a,phase:"resume"}),bn(u.coords.prev,u.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ct.cancel(this.timeout)}}]),n}();function Tn(n){var t=n.interactable,r=n.prepared;return t&&t.options&&r.name&&t.options[r.name].inertia}var Sa={id:"inertia",before:["modifiers","actions"],install:function(n){var t=n.defaults;n.usePlugin(Ur),n.usePlugin($r),n.actions.phases.inertiastart=!0,n.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(n){var t=n.interaction;t.inertia=new wa(t)},"interactions:before-action-end":function(n){var t=n.interaction,r=n.event;return(!t._interacting||t.simulation||!t.inertia.start(r))&&null},"interactions:down":function(n){var t=n.interaction,r=n.eventTarget,a=t.inertia;if(a.active)for(var c=r;k.element(c);){if(c===t.element){a.resume(n);break}c=q(c)}},"interactions:stop":function(n){var t=n.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(n){var t=n.interaction.modification;t.stop(n),t.start(n,n.interaction.coords.cur.page),t.applyToInteraction(n)},"interactions:before-action-inertiastart":function(n){return n.interaction.modification.setAndApply(n)},"interactions:action-resume":Yt,"interactions:action-inertiastart":Yt,"interactions:after-action-inertiastart":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-resume":function(n){return n.interaction.modification.restoreInteractionCoords(n)}}};function Wr(n,t,r,a){var c=1-n;return c*c*t+2*c*n*r+n*n*a}function Hr(n,t,r,a){return-r*(n/=a)*(n-2)+t}var Ea=Sa;function Yr(n,t){for(var r=0;r<t.length;r++){var a=t[r];if(n.immediatePropagationStopped)break;a(n)}}var Gr=function(){function n(t){d(this,n),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=X({},t||{})}return v(n,[{key:"fire",value:function(t){var r,a=this.global;(r=this.types[t.type])&&Yr(t,r),!t.propagationStopped&&a&&(r=a[t.type])&&Yr(t,r)}},{key:"on",value:function(t,r){var a=yt(t,r);for(t in a)this.types[t]=Er(this.types[t]||[],a[t])}},{key:"off",value:function(t,r){var a=yt(t,r);for(t in a){var c=this.types[t];if(c&&c.length)for(var u=0,f=a[t];u<f.length;u++){var h=f[u],m=c.indexOf(h);m!==-1&&c.splice(m,1)}}}},{key:"getRect",value:function(t){return null}}]),n}(),Pa=function(){function n(t){d(this,n),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,yn(this,t)}return v(n,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),n}();function Gt(n){return k.object(n)?{capture:!!n.capture,passive:!!n.passive}:{capture:!!n,passive:!1}}function On(n,t){return n===t||(typeof n=="boolean"?!!t.capture===n&&!t.passive:!!n.capture==!!t.capture&&!!n.passive==!!t.passive)}var Ta={id:"events",install:function(n){var t,r=[],a={},c=[],u={add:f,remove:h,addDelegate:function(y,I,A,z,K){var $=Gt(K);if(!a[A]){a[A]=[];for(var W=0;W<c.length;W++){var U=c[W];f(U,A,m),f(U,A,E,!0)}}var Y=a[A],te=Wt(Y,function(ae){return ae.selector===y&&ae.context===I});te||(te={selector:y,context:I,listeners:[]},Y.push(te)),te.listeners.push({func:z,options:$})},removeDelegate:function(y,I,A,z,K){var $,W=Gt(K),U=a[A],Y=!1;if(U)for($=U.length-1;$>=0;$--){var te=U[$];if(te.selector===y&&te.context===I){for(var ae=te.listeners,Z=ae.length-1;Z>=0;Z--){var oe=ae[Z];if(oe.func===z&&On(oe.options,W)){ae.splice(Z,1),ae.length||(U.splice($,1),h(I,A,m),h(I,A,E,!0)),Y=!0;break}}if(Y)break}}},delegateListener:m,delegateUseCapture:E,delegatedEvents:a,documents:c,targets:r,supportsOptions:!1,supportsPassive:!1};function f(y,I,A,z){if(y.addEventListener){var K=Gt(z),$=Wt(r,function(W){return W.eventTarget===y});$||($={eventTarget:y,events:{}},r.push($)),$.events[I]||($.events[I]=[]),Wt($.events[I],function(W){return W.func===A&&On(W.options,K)})||(y.addEventListener(I,A,u.supportsOptions?K:K.capture),$.events[I].push({func:A,options:K}))}}function h(y,I,A,z){if(y.addEventListener&&y.removeEventListener){var K=Ut(r,function(Oe){return Oe.eventTarget===y}),$=r[K];if($&&$.events)if(I!=="all"){var W=!1,U=$.events[I];if(U){if(A==="all"){for(var Y=U.length-1;Y>=0;Y--){var te=U[Y];h(y,I,te.func,te.options)}return}for(var ae=Gt(z),Z=0;Z<U.length;Z++){var oe=U[Z];if(oe.func===A&&On(oe.options,ae)){y.removeEventListener(I,A,u.supportsOptions?ae:ae.capture),U.splice(Z,1),U.length===0&&(delete $.events[I],W=!0);break}}}W&&!Object.keys($.events).length&&r.splice(K,1)}else for(I in $.events)$.events.hasOwnProperty(I)&&h(y,I,"all")}}function m(y,I){for(var A=Gt(I),z=new Pa(y),K=a[y.type],$=Sr(y)[0],W=$;k.element(W);){for(var U=0;U<K.length;U++){var Y=K[U],te=Y.selector,ae=Y.context;if(ce(W,te)&&ne(ae,$)&&ne(ae,W)){var Z=Y.listeners;z.currentTarget=W;for(var oe=0;oe<Z.length;oe++){var Oe=Z[oe];On(Oe.options,A)&&Oe.func(z)}}}W=q(W)}}function E(y){return m(y,!0)}return(t=n.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return u.supportsOptions=!0},get passive(){return u.supportsPassive=!0}}),n.events=u,u}},yo={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(n){for(var t=0,r=yo.methodOrder;t<r.length;t++){var a=r[t],c=yo[a](n);if(c)return c}return null},simulationResume:function(n){var t=n.pointerType,r=n.eventType,a=n.eventTarget,c=n.scope;if(!/down|start/i.test(r))return null;for(var u=0,f=c.interactions.list;u<f.length;u++){var h=f[u],m=a;if(h.simulation&&h.simulation.allowResume&&h.pointerType===t)for(;m;){if(m===h.element)return h;m=q(m)}}return null},mouseOrPen:function(n){var t,r=n.pointerId,a=n.pointerType,c=n.eventType,u=n.scope;if(a!=="mouse"&&a!=="pen")return null;for(var f=0,h=u.interactions.list;f<h.length;f++){var m=h[f];if(m.pointerType===a){if(m.simulation&&!Xr(m,r))continue;if(m.interacting())return m;t||(t=m)}}if(t)return t;for(var E=0,y=u.interactions.list;E<y.length;E++){var I=y[E];if(!(I.pointerType!==a||/down/i.test(c)&&I.simulation))return I}return null},hasPointer:function(n){for(var t=n.pointerId,r=0,a=n.scope.interactions.list;r<a.length;r++){var c=a[r];if(Xr(c,t))return c}return null},idle:function(n){for(var t=n.pointerType,r=0,a=n.scope.interactions.list;r<a.length;r++){var c=a[r];if(c.pointers.length===1){var u=c.interactable;if(u&&(!u.options.gesture||!u.options.gesture.enabled))continue}else if(c.pointers.length>=2)continue;if(!c.interacting()&&t===c.pointerType)return c}return null}};function Xr(n,t){return n.pointers.some(function(r){return r.id===t})}var Oa=yo,bo=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function qr(n,t){return function(r){var a=t.interactions.list,c=wr(r),u=Sr(r),f=u[0],h=u[1],m=[];if(/^touch/.test(r.type)){t.prevTouchTime=t.now();for(var E=0,y=r.changedTouches;E<y.length;E++){var I=y[E],A={pointer:I,pointerId:Vt(I),pointerType:c,eventType:r.type,eventTarget:f,curEventTarget:h,scope:t},z=Zr(A);m.push([A.pointer,A.eventTarget,A.curEventTarget,z])}}else{var K=!1;if(!V.supportsPointerEvent&&/mouse/.test(r.type)){for(var $=0;$<a.length&&!K;$++)K=a[$].pointerType!=="mouse"&&a[$].pointerIsDown;K=K||t.now()-t.prevTouchTime<500||r.timeStamp===0}if(!K){var W={pointer:r,pointerId:Vt(r),pointerType:c,eventType:r.type,curEventTarget:h,eventTarget:f,scope:t},U=Zr(W);m.push([W.pointer,W.eventTarget,W.curEventTarget,U])}}for(var Y=0;Y<m.length;Y++){var te=m[Y],ae=te[0],Z=te[1],oe=te[2];te[3][n](ae,r,Z,oe)}}}function Zr(n){var t=n.pointerType,r=n.scope,a={interaction:Oa.search(n),searchDetails:n};return r.fire("interactions:find",a),a.interaction||r.interactions.new({pointerType:t})}function xo(n,t){var r=n.doc,a=n.scope,c=n.options,u=a.interactions.docEvents,f=a.events,h=f[t];for(var m in a.browser.isIOS&&!c.events&&(c.events={passive:!1}),f.delegatedEvents)h(r,m,f.delegateListener),h(r,m,f.delegateUseCapture,!0);for(var E=c&&c.events,y=0;y<u.length;y++){var I=u[y];h(r,I.type,I.listener,E)}}var Da={id:"core/interactions",install:function(n){for(var t={},r=0;r<bo.length;r++){var a=bo[r];t[a]=qr(a,n)}var c,u=V.pEventTypes;function f(){for(var h=0,m=n.interactions.list;h<m.length;h++){var E=m[h];if(E.pointerIsDown&&E.pointerType==="touch"&&!E._interacting)for(var y=function(){var z=A[I];n.documents.some(function(K){return ne(K.doc,z.downTarget)})||E.removePointer(z.pointer,z.event)},I=0,A=E.pointers;I<A.length;I++)y()}}(c=L.PointerEvent?[{type:u.down,listener:f},{type:u.down,listener:t.pointerDown},{type:u.move,listener:t.pointerMove},{type:u.up,listener:t.pointerUp},{type:u.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:f},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(h){for(var m=0,E=n.interactions.list;m<E.length;m++)E[m].documentBlur(h)}}),n.prevTouchTime=0,n.Interaction=function(h){b(E,h);var m=T(E);function E(){return d(this,E),m.apply(this,arguments)}return v(E,[{key:"pointerMoveTolerance",get:function(){return n.interactions.pointerMoveTolerance},set:function(y){n.interactions.pointerMoveTolerance=y}},{key:"_now",value:function(){return n.now()}}]),E}(ya),n.interactions={list:[],new:function(h){h.scopeFire=function(E,y){return n.fire(E,y)};var m=new n.Interaction(h);return n.interactions.list.push(m),m},listeners:t,docEvents:c,pointerMoveTolerance:1},n.usePlugin(zr)},listeners:{"scope:add-document":function(n){return xo(n,"add")},"scope:remove-document":function(n){return xo(n,"remove")},"interactable:unset":function(n,t){for(var r=n.interactable,a=t.interactions.list.length-1;a>=0;a--){var c=t.interactions.list[a];c.interactable===r&&(c.stop(),t.fire("interactions:destroy",{interaction:c}),c.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(a,1))}}},onDocSignal:xo,doOnInteractions:qr,methodNames:bo},Ia=Da,ut=function(n){return n[n.On=0]="On",n[n.Off=1]="Off",n}(ut||{}),Ma=function(){function n(t,r,a,c){d(this,n),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Gr,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=r.actions,this.target=t,this._context=r.context||a,this._win=M(hr(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=c,this.set(r)}return v(n,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,r){return k.func(r.onstart)&&this.on("".concat(t,"start"),r.onstart),k.func(r.onmove)&&this.on("".concat(t,"move"),r.onmove),k.func(r.onend)&&this.on("".concat(t,"end"),r.onend),k.func(r.oninertiastart)&&this.on("".concat(t,"inertiastart"),r.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,r,a){var c,u=this,f=(c=this._actions.map[t])==null?void 0:c.filterEventType,h=function(m){return(f==null||f(m))&&En(m,u._actions)};(k.array(r)||k.object(r))&&this._onOff(ut.Off,t,r,void 0,h),(k.array(a)||k.object(a))&&this._onOff(ut.On,t,a,void 0,h)}},{key:"setPerAction",value:function(t,r){var a=this._defaults;for(var c in r){var u=c,f=this.options[t],h=r[u];u==="listeners"&&this.updatePerActionListeners(t,f.listeners,h),k.array(h)?f[u]=Pr(h):k.plainObject(h)?(f[u]=X(f[u]||{},Mt(h)),k.object(a.perAction[u])&&"enabled"in a.perAction[u]&&(f[u].enabled=h.enabled!==!1)):k.bool(h)&&k.object(a.perAction[u])?f[u].enabled=h:f[u]=h}}},{key:"getRect",value:function(t){return t=t||(k.element(this.target)?this.target:null),k.string(this.target)&&(t=t||this._context.querySelector(this.target)),ke(t)}},{key:"rectChecker",value:function(t){var r=this;return k.func(t)?(this.getRect=function(a){var c=X({},t.apply(r,a));return"width"in c||(c.width=c.right-c.left,c.height=c.bottom-c.top),c},this):t===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(t,r){if(hr(r)||k.object(r)){for(var a in this.options[t]=r,this._actions.map)this.options[a][t]=r;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var t=this.target;return k.string(t)?Array.from(this._context.querySelectorAll(t)):k.func(t)&&t.getAllElements?t.getAllElements():k.element(t)?[t]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||ne(this._context,t)}},{key:"testIgnoreAllow",value:function(t,r,a){return!this.testIgnore(t.ignoreFrom,r,a)&&this.testAllow(t.allowFrom,r,a)}},{key:"testAllow",value:function(t,r,a){return!t||!!k.element(a)&&(k.string(t)?Ne(a,t,r):!!k.element(t)&&ne(t,a))}},{key:"testIgnore",value:function(t,r,a){return!(!t||!k.element(a))&&(k.string(t)?Ne(a,t,r):!!k.element(t)&&ne(t,a))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,r,a,c,u){k.object(r)&&!k.array(r)&&(c=a,a=null);var f=yt(r,a,u);for(var h in f){h==="wheel"&&(h=V.wheelEvent);for(var m=0,E=f[h];m<E.length;m++){var y=E[m];En(h,this._actions)?this.events[t===ut.On?"on":"off"](h,y):k.string(this.target)?this._scopeEvents[t===ut.On?"addDelegate":"removeDelegate"](this.target,this._context,h,y,c):this._scopeEvents[t===ut.On?"add":"remove"](this.target,h,y,c)}}return this}},{key:"on",value:function(t,r,a){return this._onOff(ut.On,t,r,a)}},{key:"off",value:function(t,r,a){return this._onOff(ut.Off,t,r,a)}},{key:"set",value:function(t){var r=this._defaults;for(var a in k.object(t)||(t={}),this.options=Mt(r.base),this._actions.methodDict){var c=a,u=this._actions.methodDict[c];this.options[c]={},this.setPerAction(c,X(X({},r.perAction),r.actions[c])),this[u](t[c])}for(var f in t)f!=="getRect"?k.func(this[f])&&this[f](t[f]):this.rectChecker(t.getRect);return this}},{key:"unset",value:function(){if(k.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var r=this._scopeEvents.delegatedEvents[t],a=r.length-1;a>=0;a--){var c=r[a],u=c.selector,f=c.context,h=c.listeners;u===this.target&&f===this._context&&r.splice(a,1);for(var m=h.length-1;m>=0;m--)this._scopeEvents.removeDelegate(this.target,this._context,t,h[m][0],h[m][1])}else this._scopeEvents.remove(this.target,"all")}}]),n}(),ka=function(){function n(t){var r=this;d(this,n),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(a){var c=a.interactable,u=c.target,f=k.string(u)?r.selectorMap[u]:u[r.scope.id],h=Ut(f,function(m){return m===c});f.splice(h,1)}})}return v(n,[{key:"new",value:function(t,r){r=X(r||{},{actions:this.scope.actions});var a=new this.scope.Interactable(t,r,this.scope.document,this.scope.events);return this.scope.addDocument(a._doc),this.list.push(a),k.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(a)):(a.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(a)),this.scope.fire("interactable:new",{target:t,options:r,interactable:a,win:this.scope._win}),a}},{key:"getExisting",value:function(t,r){var a=r&&r.context||this.scope.document,c=k.string(t),u=c?this.selectorMap[t]:t[this.scope.id];if(u)return Wt(u,function(f){return f._context===a&&(c||f.inContext(t))})}},{key:"forEachMatch",value:function(t,r){for(var a=0,c=this.list;a<c.length;a++){var u=c[a],f=void 0;if((k.string(u.target)?k.element(t)&&ce(t,u.target):t===u.target)&&u.inContext(t)&&(f=r(u)),f!==void 0)return f}}}]),n}(),Ca=function(){function n(){var t=this;d(this,n),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=V,this.defaults=Mt(Nr),this.Eventable=Gr,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(a){var c=function u(f,h){var m=a.interactables.getExisting(f,h);return m||((m=a.interactables.new(f,h)).events.global=u.globalEvents),m};return c.getPointerAverage=xr,c.getTouchBBox=no,c.getTouchDistance=oo,c.getTouchAngle=ro,c.getElementRect=ke,c.getElementClientRect=re,c.matchesSelector=ce,c.closest=ee,c.globalEvents={},c.version="1.10.27",c.scope=a,c.use=function(u,f){return this.scope.usePlugin(u,f),this},c.isSet=function(u,f){return!!this.scope.interactables.get(u,f&&f.context)},c.on=Ht(function(u,f,h){if(k.string(u)&&u.search(" ")!==-1&&(u=u.trim().split(/ +/)),k.array(u)){for(var m=0,E=u;m<E.length;m++){var y=E[m];this.on(y,f,h)}return this}if(k.object(u)){for(var I in u)this.on(I,u[I],f);return this}return En(u,this.scope.actions)?this.globalEvents[u]?this.globalEvents[u].push(f):this.globalEvents[u]=[f]:this.scope.events.add(this.scope.document,u,f,{options:h}),this},"The interact.on() method is being deprecated"),c.off=Ht(function(u,f,h){if(k.string(u)&&u.search(" ")!==-1&&(u=u.trim().split(/ +/)),k.array(u)){for(var m=0,E=u;m<E.length;m++){var y=E[m];this.off(y,f,h)}return this}if(k.object(u)){for(var I in u)this.off(I,u[I],f);return this}var A;return En(u,this.scope.actions)?u in this.globalEvents&&(A=this.globalEvents[u].indexOf(f))!==-1&&this.globalEvents[u].splice(A,1):this.scope.events.remove(this.scope.document,u,f,h),this},"The interact.off() method is being deprecated"),c.debug=function(){return this.scope},c.supportsTouch=function(){return V.supportsTouch},c.supportsPointerEvent=function(){return V.supportsPointerEvent},c.stop=function(){for(var u=0,f=this.scope.interactions.list;u<f.length;u++)f[u].stop();return this},c.pointerMoveTolerance=function(u){return k.number(u)?(this.scope.interactions.pointerMoveTolerance=u,this):this.scope.interactions.pointerMoveTolerance},c.addDocument=function(u,f){this.scope.addDocument(u,f)},c.removeDocument=function(u){this.scope.removeDocument(u)},c}(this),this.InteractEvent=vo,this.Interactable=void 0,this.interactables=new ka(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(a){return t.removeDocument(a.target)};var r=this;this.Interactable=function(a){b(u,a);var c=T(u);function u(){return d(this,u),c.apply(this,arguments)}return v(u,[{key:"_defaults",get:function(){return r.defaults}},{key:"set",value:function(f){return O(S(u.prototype),"set",this).call(this,f),r.fire("interactable:set",{options:f,interactable:this}),this}},{key:"unset",value:function(){O(S(u.prototype),"unset",this).call(this);var f=r.interactables.list.indexOf(this);f<0||(r.interactables.list.splice(f,1),r.fire("interactable:unset",{interactable:this}))}}]),u}(Ma)}return v(n,[{key:"addListeners",value:function(t,r){this.listenerMaps.push({id:r,map:t})}},{key:"fire",value:function(t,r){for(var a=0,c=this.listenerMaps;a<c.length;a++){var u=c[a].map[t];if(u&&u(r,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:function(r,a){return r.isInitialized=!0,k.window(a)&&R(a),L.init(a),V.init(a),ct.init(a),r.window=a,r.document=a.document,r.usePlugin(Ia),r.usePlugin(Ta),r}(this,t)}},{key:"pluginIsInstalled",value:function(t){var r=t.id;return r?!!this._plugins.map[r]:this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,r){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,r),t.listeners&&t.before){for(var a=0,c=this.listenerMaps.length,u=t.before.reduce(function(h,m){return h[m]=!0,h[Jr(m)]=!0,h},{});a<c;a++){var f=this.listenerMaps[a].id;if(f&&(u[f]||u[Jr(f)]))break}this.listenerMaps.splice(a,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,r){if(this.getDocIndex(t)!==-1)return!1;var a=M(t);r=r?X({},r):{},this.documents.push({doc:t,options:r}),this.events.documents.push(t),t!==this.document&&this.events.add(a,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:a,scope:this,options:r})}},{key:"removeDocument",value:function(t){var r=this.getDocIndex(t),a=M(t),c=this.documents[r].options;this.events.remove(a,"unload",this.onWindowUnload),this.documents.splice(r,1),this.events.documents.splice(r,1),this.fire("scope:remove-document",{doc:t,window:a,scope:this,options:c})}},{key:"getDocIndex",value:function(t){for(var r=0;r<this.documents.length;r++)if(this.documents[r].doc===t)return r;return-1}},{key:"getDocOptions",value:function(t){var r=this.getDocIndex(t);return r===-1?null:this.documents[r].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),n}();function Jr(n){return n&&n.replace(/\/.*$/,"")}var Qr=new Ca,Te=Qr.interactStatic,Aa=typeof globalThis<"u"?globalThis:window;Qr.init(Aa);var _a=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(n){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(a){var c=a[0],u=a[1];return c in n||u in n}),r=function(a,c){for(var u=n.range,f=n.limits,h=f===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:f,m=n.offset,E=m===void 0?{x:0,y:0}:m,y={range:u,grid:n,x:null,y:null},I=0;I<t.length;I++){var A=t[I],z=A[0],K=A[1],$=Math.round((a-E.x)/n[z]),W=Math.round((c-E.y)/n[K]);y[z]=Math.max(h.left,Math.min(h.right,$*n[z]+E.x)),y[K]=Math.max(h.top,Math.min(h.bottom,W*n[K]+E.y))}return y};return r.grid=n,r.coordFields=t,r}}),La={id:"snappers",install:function(n){var t=n.interactStatic;t.snappers=X(t.snappers||{},_a),t.createSnapGrid=t.snappers.grid}},Fa=La,Ra={start:function(n){var t=n.state,r=n.rect,a=n.edges,c=n.pageCoords,u=t.options,f=u.ratio,h=u.enabled,m=t.options,E=m.equalDelta,y=m.modifiers;f==="preserve"&&(f=r.width/r.height),t.startCoords=X({},c),t.startRect=X({},r),t.ratio=f,t.equalDelta=E;var I=t.linkedEdges={top:a.top||a.left&&!a.bottom,left:a.left||a.top&&!a.right,bottom:a.bottom||a.right&&!a.top,right:a.right||a.bottom&&!a.left};if(t.xIsPrimaryAxis=!(!a.left&&!a.right),t.equalDelta){var A=(I.left?1:-1)*(I.top?1:-1);t.edgeSign={x:A,y:A}}else t.edgeSign={x:I.left?-1:1,y:I.top?-1:1};if(h!==!1&&X(a,I),y!=null&&y.length){var z=new go(n.interaction);z.copyFrom(n.interaction.modification),z.prepareStates(y),t.subModification=z,z.startAll(s({},n))}},set:function(n){var t=n.state,r=n.rect,a=n.coords,c=t.linkedEdges,u=X({},a),f=t.equalDelta?Ka:za;if(X(n.edges,c),f(t,t.xIsPrimaryAxis,a,r),!t.subModification)return null;var h=X({},r);mn(c,h,{x:a.x-u.x,y:a.y-u.y});var m=t.subModification.setAll(s(s({},n),{},{rect:h,edges:c,pageCoords:a,prevCoords:a,prevRect:h})),E=m.delta;return m.changed&&(f(t,Math.abs(E.x)>Math.abs(E.y),m.coords,m.rect),X(a,m.coords)),m.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ka(n,t,r){var a=n.startCoords,c=n.edgeSign;t?r.y=a.y+(r.x-a.x)*c.y:r.x=a.x+(r.y-a.y)*c.x}function za(n,t,r,a){var c=n.startRect,u=n.startCoords,f=n.ratio,h=n.edgeSign;if(t){var m=a.width/f;r.y=u.y+(m-c.height)*h.y}else{var E=a.height*f;r.x=u.x+(E-c.width)*h.x}}var $a=lt(Ra,"aspectRatio"),ei=function(){};ei._defaults={};var Dn=ei;function xt(n,t,r){return k.func(n)?Nt(n,t.interactable,t.element,[r.x,r.y,t]):Nt(n,t.interactable,t.element)}var In={start:function(n){var t=n.rect,r=n.startOffset,a=n.state,c=n.interaction,u=n.pageCoords,f=a.options,h=f.elementRect,m=X({left:0,top:0,right:0,bottom:0},f.offset||{});if(t&&h){var E=xt(f.restriction,c,u);if(E){var y=E.right-E.left-t.width,I=E.bottom-E.top-t.height;y<0&&(m.left+=y,m.right+=y),I<0&&(m.top+=I,m.bottom+=I)}m.left+=r.left-t.width*h.left,m.top+=r.top-t.height*h.top,m.right+=r.right-t.width*(1-h.right),m.bottom+=r.bottom-t.height*(1-h.bottom)}a.offset=m},set:function(n){var t=n.coords,r=n.interaction,a=n.state,c=a.options,u=a.offset,f=xt(c.restriction,r,t);if(f){var h=function(m){return!m||"left"in m&&"top"in m||((m=X({},m)).left=m.x||0,m.top=m.y||0,m.right=m.right||m.left+m.width,m.bottom=m.bottom||m.top+m.height),m}(f);t.x=Math.max(Math.min(h.right-u.right,t.x),h.left+u.left),t.y=Math.max(Math.min(h.bottom-u.bottom,t.y),h.top+u.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Na=lt(In,"restrict"),ti={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ni={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function oi(n,t){for(var r=0,a=["top","left","bottom","right"];r<a.length;r++){var c=a[r];c in n||(n[c]=t[c])}return n}var Xt={noInner:ti,noOuter:ni,start:function(n){var t,r=n.interaction,a=n.startOffset,c=n.state,u=c.options;u&&(t=vn(xt(u.offset,r,r.coords.start.page))),t=t||{x:0,y:0},c.offset={top:t.y+a.top,left:t.x+a.left,bottom:t.y-a.bottom,right:t.x-a.right}},set:function(n){var t=n.coords,r=n.edges,a=n.interaction,c=n.state,u=c.offset,f=c.options;if(r){var h=X({},t),m=xt(f.inner,a,h)||{},E=xt(f.outer,a,h)||{};oi(m,ti),oi(E,ni),r.top?t.y=Math.min(Math.max(E.top+u.top,h.y),m.top+u.top):r.bottom&&(t.y=Math.max(Math.min(E.bottom+u.bottom,h.y),m.bottom+u.bottom)),r.left?t.x=Math.min(Math.max(E.left+u.left,h.x),m.left+u.left):r.right&&(t.x=Math.max(Math.min(E.right+u.right,h.x),m.right+u.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},ja=lt(Xt,"restrictEdges"),Ba=X({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(n){}},In.defaults),Va=lt({start:In.start,set:In.set,defaults:Ba},"restrictRect"),Ua={width:-1/0,height:-1/0},Wa={width:1/0,height:1/0},Ha=lt({start:function(n){return Xt.start(n)},set:function(n){var t=n.interaction,r=n.state,a=n.rect,c=n.edges,u=r.options;if(c){var f=eo(xt(u.min,t,n.coords))||Ua,h=eo(xt(u.max,t,n.coords))||Wa;r.options={endOnly:u.endOnly,inner:X({},Xt.noInner),outer:X({},Xt.noOuter)},c.top?(r.options.inner.top=a.bottom-f.height,r.options.outer.top=a.bottom-h.height):c.bottom&&(r.options.inner.bottom=a.top+f.height,r.options.outer.bottom=a.top+h.height),c.left?(r.options.inner.left=a.right-f.width,r.options.outer.left=a.right-h.width):c.right&&(r.options.inner.right=a.left+f.width,r.options.outer.right=a.left+h.width),Xt.set(n),r.options=u}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),wo={start:function(n){var t,r=n.interaction,a=n.interactable,c=n.element,u=n.rect,f=n.state,h=n.startOffset,m=f.options,E=m.offsetWithOrigin?function(A){var z=A.interaction.element,K=vn(Nt(A.state.options.origin,null,null,[z])),$=K||jt(A.interactable,z,A.interaction.prepared.name);return $}(n):{x:0,y:0};if(m.offset==="startCoords")t={x:r.coords.start.page.x,y:r.coords.start.page.y};else{var y=Nt(m.offset,a,c,[r]);(t=vn(y)||{x:0,y:0}).x+=E.x,t.y+=E.y}var I=m.relativePoints;f.offsets=u&&I&&I.length?I.map(function(A,z){return{index:z,relativePoint:A,x:h.left-u.width*A.x+t.x,y:h.top-u.height*A.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(n){var t=n.interaction,r=n.coords,a=n.state,c=a.options,u=a.offsets,f=jt(t.interactable,t.element,t.prepared.name),h=X({},r),m=[];c.offsetWithOrigin||(h.x-=f.x,h.y-=f.y);for(var E=0,y=u;E<y.length;E++)for(var I=y[E],A=h.x-I.x,z=h.y-I.y,K=0,$=c.targets.length;K<$;K++){var W=c.targets[K],U=void 0;(U=k.func(W)?W(A,z,t._proxy,I,K):W)&&m.push({x:(k.number(U.x)?U.x:A)+I.x,y:(k.number(U.y)?U.y:z)+I.y,range:k.number(U.range)?U.range:c.range,source:W,index:K,offset:I})}for(var Y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},te=0;te<m.length;te++){var ae=m[te],Z=ae.range,oe=ae.x-h.x,Oe=ae.y-h.y,ge=Bt(oe,Oe),Ce=ge<=Z;Z===1/0&&Y.inRange&&Y.range!==1/0&&(Ce=!1),Y.target&&!(Ce?Y.inRange&&Z!==1/0?ge/Z<Y.distance/Y.range:Z===1/0&&Y.range!==1/0||ge<Y.distance:!Y.inRange&&ge<Y.distance)||(Y.target=ae,Y.distance=ge,Y.range=Z,Y.inRange=Ce,Y.delta.x=oe,Y.delta.y=Oe)}return Y.inRange&&(r.x=Y.target.x,r.y=Y.target.y),a.closest=Y,Y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Ya=lt(wo,"snap"),Mn={start:function(n){var t=n.state,r=n.edges,a=t.options;if(!r)return null;n.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:a.offset||"self",origin:{x:0,y:0},range:a.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],wo.start(n),t.offsets=n.state.offsets,n.state=t},set:function(n){var t=n.interaction,r=n.state,a=n.coords,c=r.options,u=r.offsets,f={x:a.x-u[0].x,y:a.y-u[0].y};r.options=X({},c),r.options.targets=[];for(var h=0,m=c.targets||[];h<m.length;h++){var E=m[h],y=void 0;if(y=k.func(E)?E(f.x,f.y,t):E){for(var I=0,A=r.targetFields;I<A.length;I++){var z=A[I],K=z[0],$=z[1];if(K in y||$ in y){y.x=y[K],y.y=y[$];break}}r.options.targets.push(y)}}var W=wo.set(n);return r.options=c,W},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Ga=lt(Mn,"snapSize"),So={aspectRatio:$a,restrictEdges:ja,restrict:Na,restrictRect:Va,restrictSize:Ha,snapEdges:lt({start:function(n){var t=n.edges;return t?(n.state.targetFields=n.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Mn.start(n)):null},set:Mn.set,defaults:X(Mt(Mn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Ya,snapSize:Ga,spring:Dn,avoid:Dn,transform:Dn,rubberband:Dn},Xa={id:"modifiers",install:function(n){var t=n.interactStatic;for(var r in n.usePlugin($r),n.usePlugin(Fa),t.modifiers=So,So){var a=So[r],c=a._defaults,u=a._methods;c._methods=u,n.defaults.perAction[r]=c}}},qa=Xa,ri=function(n){b(r,n);var t=T(r);function r(a,c,u,f,h,m){var E;if(d(this,r),yn(w(E=t.call(this,h)),u),u!==c&&yn(w(E),c),E.timeStamp=m,E.originalEvent=u,E.type=a,E.pointerId=Vt(c),E.pointerType=wr(c),E.target=f,E.currentTarget=null,a==="tap"){var y=h.getPointerIndex(c);E.dt=E.timeStamp-h.pointers[y].downTime;var I=E.timeStamp-h.tapTime;E.double=!!h.prevTap&&h.prevTap.type!=="doubletap"&&h.prevTap.target===E.target&&I<500}else a==="doubletap"&&(E.dt=c.timeStamp-h.tapTime,E.double=!0);return E}return v(r,[{key:"_subtractOrigin",value:function(a){var c=a.x,u=a.y;return this.pageX-=c,this.pageY-=u,this.clientX-=c,this.clientY-=u,this}},{key:"_addOrigin",value:function(a){var c=a.x,u=a.y;return this.pageX+=c,this.pageY+=u,this.clientX+=c,this.clientY+=u,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),r}(wn),qt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(n){n.pointerEvents=qt,n.defaults.actions.pointerEvents=qt.defaults,X(n.actions.phaselessTypes,qt.types)},listeners:{"interactions:new":function(n){var t=n.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(n){var t=n.down,r=n.pointerInfo;!t&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(n,t){var r=n.interaction,a=n.pointer,c=n.event,u=n.eventTarget;n.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&Eo(n),dt({interaction:r,pointer:a,event:c,eventTarget:u,type:"move"},t))},"interactions:down":function(n,t){(function(r,a){for(var c=r.interaction,u=r.pointer,f=r.event,h=r.eventTarget,m=r.pointerIndex,E=c.pointers[m].hold,y=Dt(h),I={interaction:c,pointer:u,event:f,eventTarget:h,type:"hold",targets:[],path:y,node:null},A=0;A<y.length;A++){var z=y[A];I.node=z,a.fire("pointerEvents:collect-targets",I)}if(I.targets.length){for(var K=1/0,$=0,W=I.targets;$<W.length;$++){var U=W[$].eventable.options.holdDuration;U<K&&(K=U)}E.duration=K,E.timeout=setTimeout(function(){dt({interaction:c,eventTarget:h,pointer:u,event:f,type:"hold"},a)},K)}})(n,t),dt(n,t)},"interactions:up":function(n,t){Eo(n),dt(n,t),function(r,a){var c=r.interaction,u=r.pointer,f=r.event,h=r.eventTarget;c.pointerWasMoved||dt({interaction:c,eventTarget:h,pointer:u,event:f,type:"tap"},a)}(n,t)},"interactions:cancel":function(n,t){Eo(n),dt(n,t)}},PointerEvent:ri,fire:dt,collectEventTargets:ii,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function dt(n,t){var r=n.interaction,a=n.pointer,c=n.event,u=n.eventTarget,f=n.type,h=n.targets,m=h===void 0?ii(n,t):h,E=new ri(f,a,c,u,r,t.now());t.fire("pointerEvents:new",{pointerEvent:E});for(var y={interaction:r,pointer:a,event:c,eventTarget:u,targets:m,type:f,pointerEvent:E},I=0;I<m.length;I++){var A=m[I];for(var z in A.props||{})E[z]=A.props[z];var K=jt(A.eventable,A.node);if(E._subtractOrigin(K),E.eventable=A.eventable,E.currentTarget=A.node,A.eventable.fire(E),E._addOrigin(K),E.immediatePropagationStopped||E.propagationStopped&&I+1<m.length&&m[I+1].node!==E.currentTarget)break}if(t.fire("pointerEvents:fired",y),f==="tap"){var $=E.double?dt({interaction:r,pointer:a,event:c,eventTarget:u,type:"doubletap"},t):E;r.prevTap=$,r.tapTime=$.timeStamp}return E}function ii(n,t){var r=n.interaction,a=n.pointer,c=n.event,u=n.eventTarget,f=n.type,h=r.getPointerIndex(a),m=r.pointers[h];if(f==="tap"&&(r.pointerWasMoved||!m||m.downTarget!==u))return[];for(var E=Dt(u),y={interaction:r,pointer:a,event:c,eventTarget:u,type:f,path:E,targets:[],node:null},I=0;I<E.length;I++){var A=E[I];y.node=A,t.fire("pointerEvents:collect-targets",y)}return f==="hold"&&(y.targets=y.targets.filter(function(z){var K,$;return z.eventable.options.holdDuration===((K=r.pointers[h])==null||($=K.hold)==null?void 0:$.duration)})),y.targets}function Eo(n){var t=n.interaction,r=n.pointerIndex,a=t.pointers[r].hold;a&&a.timeout&&(clearTimeout(a.timeout),a.timeout=null)}var Za=Object.freeze({__proto__:null,default:qt});function Ja(n){var t=n.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var Qa={id:"pointer-events/holdRepeat",install:function(n){n.usePlugin(qt);var t=n.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=n.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(n,t){return n["pointerEvents:".concat(t)]=Ja,n},{"pointerEvents:new":function(n){var t=n.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(n,t){var r=n.interaction,a=n.pointerEvent,c=n.eventTarget,u=n.targets;if(a.type==="hold"&&u.length){var f=u[0].eventable.options.holdRepeatInterval;f<=0||(r.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:r,eventTarget:c,type:"hold",pointer:a,event:a},t)},f))}}})},ec=Qa,tc={id:"pointer-events/interactableTargets",install:function(n){var t=n.Interactable;t.prototype.pointerEvents=function(a){return X(this.events.options,a),this};var r=t.prototype._backCompatOption;t.prototype._backCompatOption=function(a,c){var u=r.call(this,a,c);return u===this&&(this.events.options[a]=c),u}},listeners:{"pointerEvents:collect-targets":function(n,t){var r=n.targets,a=n.node,c=n.type,u=n.eventTarget;t.interactables.forEachMatch(a,function(f){var h=f.events,m=h.options;h.types[c]&&h.types[c].length&&f.testIgnoreAllow(m,a,u)&&r.push({node:a,eventable:h,props:{interactable:f}})})},"interactable:new":function(n){var t=n.interactable;t.events.getRect=function(r){return t.getRect(r)}},"interactable:set":function(n,t){var r=n.interactable,a=n.options;X(r.events.options,t.pointerEvents.defaults),X(r.events.options,a.pointerEvents||{})}}},nc=tc,oc={id:"pointer-events",install:function(n){n.usePlugin(Za),n.usePlugin(ec),n.usePlugin(nc)}},rc=oc,ic={id:"reflow",install:function(n){var t=n.Interactable;n.actions.phases.reflow=!0,t.prototype.reflow=function(r){return function(a,c,u){for(var f=a.getAllElements(),h=u.window.Promise,m=h?[]:null,E=function(){var I=f[y],A=a.getRect(I);if(!A)return 1;var z,K=Wt(u.interactions.list,function(U){return U.interacting()&&U.interactable===a&&U.element===I&&U.prepared.name===c.name});if(K)K.move(),m&&(z=K._reflowPromise||new h(function(U){K._reflowResolve=U}));else{var $=eo(A),W=function(U){return{coords:U,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:$.x,y:$.y},client:{x:$.x,y:$.y},timeStamp:u.now()});z=function(U,Y,te,ae,Z){var oe=U.interactions.new({pointerType:"reflow"}),Oe={interaction:oe,event:Z,pointer:Z,eventTarget:te,phase:"reflow"};oe.interactable=Y,oe.element=te,oe.prevEvent=Z,oe.updatePointer(Z,Z,te,!0),mr(oe.coords.delta),uo(oe.prepared,ae),oe._doPhase(Oe);var ge=U.window,Ce=ge.Promise,je=Ce?new Ce(function(Qe){oe._reflowResolve=Qe}):void 0;return oe._reflowPromise=je,oe.start(ae,Y,te),oe._interacting?(oe.move(Oe),oe.end(Z)):(oe.stop(),oe._reflowResolve()),oe.removePointer(Z,Z),je}(u,a,I,c,W)}m&&m.push(z)},y=0;y<f.length&&!E();y++);return m&&h.all(m).then(function(){return a})}(this,r,n)}},listeners:{"interactions:stop":function(n,t){var r=n.interaction;r.pointerType==="reflow"&&(r._reflowResolve&&r._reflowResolve(),function(a,c){a.splice(a.indexOf(c),1)}(t.interactions.list,r))}}},sc=ic;if(Te.use(zr),Te.use(Ur),Te.use(rc),Te.use(Ea),Te.use(qa),Te.use(da),Te.use(ea),Te.use(na),Te.use(sc),Te.default=Te,l(e)==="object"&&e)try{e.exports=Te}catch{}return Te.default=Te,Te})})(jn,jn.exports);var Bc=jn.exports;const Vc=jc(Bc);function Uc(e){return(...o)=>{for(const i of e)i&&i(...o)}}var N=e=>typeof e=="function"&&!e.length?e():e,ci=e=>Array.isArray(e)?e:e?[e]:[];function Wc(e,...o){return typeof e=="function"?e(...o):e}var Hc=ue;function Yc(e,o,i,s){return e.addEventListener(o,i,s),Hc(e.removeEventListener.bind(e,o,i,s))}function Gc(e,o,i,s){const l=()=>{ci(N(e)).forEach(d=>{d&&ci(N(o)).forEach(p=>Yc(d,p,i,s))})};typeof e=="function"?Q(l):ot(l)}function qe(...e){return Uc(e)}function Xc(e,o,i=-1){return i in e?[...e.slice(0,i),o,...e.slice(i)]:[...e,o]}function Lo(e,o){const i=[...e],s=i.indexOf(o);return s!==-1&&i.splice(s,1),i}function qc(e){return typeof e=="number"}function At(e){return Object.prototype.toString.call(e)==="[object String]"}function Zc(e){return typeof e=="function"}function Uo(e){return o=>`${e()}-${o}`}function $e(e,o){return e?e===o||e.contains(o):!1}function on(e,o=!1){const{activeElement:i}=Ye(e);if(!(i!=null&&i.nodeName))return null;if(Xi(i)&&i.contentDocument)return on(i.contentDocument.body,o);if(o){const s=i.getAttribute("aria-activedescendant");if(s){const l=Ye(i).getElementById(s);if(l)return l}}return i}function Jc(e){return Ye(e).defaultView||window}function Ye(e){return e?e.ownerDocument||e:document}function Xi(e){return e.tagName==="IFRAME"}var qi=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(qi||{});function Wo(e){var o;return typeof window<"u"&&window.navigator!=null?e.test(((o=window.navigator.userAgentData)==null?void 0:o.platform)||window.navigator.platform):!1}function Xn(){return Wo(/^Mac/i)}function Qc(){return Wo(/^iPhone/i)}function el(){return Wo(/^iPad/i)||Xn()&&navigator.maxTouchPoints>1}function tl(){return Qc()||el()}function nl(){return Xn()||tl()}function Se(e,o){return o&&(Zc(o)?o(e):o[0](o[1],e)),e==null?void 0:e.defaultPrevented}function we(e){return o=>{for(const i of e)Se(o,i)}}function ol(e){return Xn()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function Ie(e){if(e)if(rl())e.focus({preventScroll:!0});else{const o=il(e);e.focus(),sl(o)}}var Cn=null;function rl(){if(Cn==null){Cn=!1;try{document.createElement("div").focus({get preventScroll(){return Cn=!0,!0}})}catch{}}return Cn}function il(e){let o=e.parentNode;const i=[],s=document.scrollingElement||document.documentElement;for(;o instanceof HTMLElement&&o!==s;)(o.offsetHeight<o.scrollHeight||o.offsetWidth<o.scrollWidth)&&i.push({element:o,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),o=o.parentNode;return s instanceof HTMLElement&&i.push({element:s,scrollTop:s.scrollTop,scrollLeft:s.scrollLeft}),i}function sl(e){for(const{element:o,scrollTop:i,scrollLeft:s}of e)o.scrollTop=i,o.scrollLeft=s}var Zi=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],al=[...Zi,'[tabindex]:not([tabindex="-1"]):not([disabled])'],Ho=Zi.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])",cl=al.join(':not([hidden]):not([tabindex="-1"]),');function Ji(e,o){const s=Array.from(e.querySelectorAll(Ho)).filter(li);return o&&li(e)&&s.unshift(e),s.forEach((l,d)=>{if(Xi(l)&&l.contentDocument){const p=l.contentDocument.body,v=Ji(p,!1);s.splice(d,1,...v)}}),s}function li(e){return Qi(e)&&!ll(e)}function Qi(e){return e.matches(Ho)&&Yo(e)}function ll(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}function Yo(e,o){return e.nodeName!=="#comment"&&ul(e)&&dl(e,o)&&(!e.parentElement||Yo(e.parentElement,e))}function ul(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:o,visibility:i}=e.style;let s=o!=="none"&&i!=="hidden"&&i!=="collapse";if(s){if(!e.ownerDocument.defaultView)return s;const{getComputedStyle:l}=e.ownerDocument.defaultView,{display:d,visibility:p}=l(e);s=d!=="none"&&p!=="hidden"&&p!=="collapse"}return s}function dl(e,o){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&o&&o.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function fl(e,o,i){const s=o!=null&&o.tabbable?cl:Ho,l=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(d){var p;return(p=o==null?void 0:o.from)!=null&&p.contains(d)?NodeFilter.FILTER_REJECT:d.matches(s)&&Yo(d)&&!i&&(!(o!=null&&o.accept)||o.accept(d))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return o!=null&&o.from&&(l.currentNode=o.from),l}function pl(){}function hl(e,o){const[i,s]=e;let l=!1;const d=o.length;for(let p=d,v=0,g=p-1;v<p;g=v++){const[b,S]=o[v],[x,w]=o[g],[,T]=o[g===0?p-1:g-1]||[0,0],O=(S-w)*(i-b)-(b-x)*(s-S);if(w<S){if(s>=w&&s<S){if(O===0)return!0;O>0&&(s===w?s>T&&(l=!l):l=!l)}}else if(S<w){if(s>S&&s<=w){if(O===0)return!0;O<0&&(s===w?s<T&&(l=!l):l=!l)}}else if(s==S&&(i>=x&&i<=b||i>=b&&i<=x))return!0}return l}function be(e,o){return le(e,o)}var en=new Map,ui=new Set;function di(){if(typeof window>"u")return;const e=i=>{if(!i.target)return;let s=en.get(i.target);s||(s=new Set,en.set(i.target,s),i.target.addEventListener("transitioncancel",o)),s.add(i.propertyName)},o=i=>{if(!i.target)return;const s=en.get(i.target);if(s&&(s.delete(i.propertyName),s.size===0&&(i.target.removeEventListener("transitioncancel",o),en.delete(i.target)),en.size===0)){for(const l of ui)l();ui.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",o)}typeof document<"u"&&(document.readyState!=="loading"?di():document.addEventListener("DOMContentLoaded",di));function fi(e,o){const i=pi(e,o,"left"),s=pi(e,o,"top"),l=o.offsetWidth,d=o.offsetHeight;let p=e.scrollLeft,v=e.scrollTop;const g=p+e.offsetWidth,b=v+e.offsetHeight;i<=p?p=i:i+l>g&&(p+=i+l-g),s<=v?v=s:s+d>b&&(v+=s+d-b),e.scrollLeft=p,e.scrollTop=v}function pi(e,o,i){const s=i==="left"?"offsetLeft":"offsetTop";let l=0;for(;o.offsetParent&&(l+=o[s],o.offsetParent!==e);){if(o.offsetParent.contains(e)){l-=e[s];break}o=o.offsetParent}return l}var gl={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"},vl=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),ml=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function yl(e){if(Intl.Locale){const i=new Intl.Locale(e).maximize().script??"";return vl.has(i)}const o=e.split("-")[0];return ml.has(o)}function bl(e){return yl(e)?"rtl":"ltr"}function es(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:bl(e)}}var Fo=es(),rn=new Set;function hi(){Fo=es();for(const e of rn)e(Fo)}function xl(){const[e,o]=se(Fo),i=me(()=>e());return it(()=>{rn.size===0&&window.addEventListener("languagechange",hi),rn.add(o),ue(()=>{rn.delete(o),rn.size===0&&window.removeEventListener("languagechange",hi)})}),{locale:()=>i().locale,direction:()=>i().direction}}var wl=Re();function Tt(){const e=xl();return Fe(wl)||e}var Oo=new Map;function Sl(e){const{locale:o}=Tt(),i=me(()=>o()+(e?Object.entries(e).sort((s,l)=>s[0]<l[0]?-1:1).join():""));return me(()=>{const s=i();let l;return Oo.has(s)&&(l=Oo.get(s)),l||(l=new Intl.Collator(o(),e),Oo.set(s,l)),l})}function Ke(e){const[o,i]=he(e,["as"]);if(!o.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return j(lc,le({get component(){return o.as}},i))}const El=["top","right","bottom","left"],We=Math.min,_e=Math.max,Bn=Math.round,An=Math.floor,ft=e=>({x:e,y:e}),Pl={left:"right",right:"left",bottom:"top",top:"bottom"},Tl={start:"end",end:"start"};function Ro(e,o,i){return _e(e,We(o,i))}function Ot(e,o){return typeof e=="function"?e(o):e}function pt(e){return e.split("-")[0]}function zt(e){return e.split("-")[1]}function ts(e){return e==="x"?"y":"x"}function Go(e){return e==="y"?"height":"width"}function pn(e){return["top","bottom"].includes(pt(e))?"y":"x"}function Xo(e){return ts(pn(e))}function Ol(e,o,i){i===void 0&&(i=!1);const s=zt(e),l=Xo(e),d=Go(l);let p=l==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return o.reference[d]>o.floating[d]&&(p=Vn(p)),[p,Vn(p)]}function Dl(e){const o=Vn(e);return[Ko(e),o,Ko(o)]}function Ko(e){return e.replace(/start|end/g,o=>Tl[o])}function Il(e,o,i){const s=["left","right"],l=["right","left"],d=["top","bottom"],p=["bottom","top"];switch(e){case"top":case"bottom":return i?o?l:s:o?s:l;case"left":case"right":return o?d:p;default:return[]}}function Ml(e,o,i,s){const l=zt(e);let d=Il(pt(e),i==="start",s);return l&&(d=d.map(p=>p+"-"+l),o&&(d=d.concat(d.map(Ko)))),d}function Vn(e){return e.replace(/left|right|bottom|top/g,o=>Pl[o])}function kl(e){return{top:0,right:0,bottom:0,left:0,...e}}function ns(e){return typeof e!="number"?kl(e):{top:e,right:e,bottom:e,left:e}}function Un(e){const{x:o,y:i,width:s,height:l}=e;return{width:s,height:l,top:i,left:o,right:o+s,bottom:i+l,x:o,y:i}}function gi(e,o,i){let{reference:s,floating:l}=e;const d=pn(o),p=Xo(o),v=Go(p),g=pt(o),b=d==="y",S=s.x+s.width/2-l.width/2,x=s.y+s.height/2-l.height/2,w=s[v]/2-l[v]/2;let T;switch(g){case"top":T={x:S,y:s.y-l.height};break;case"bottom":T={x:S,y:s.y+s.height};break;case"right":T={x:s.x+s.width,y:x};break;case"left":T={x:s.x-l.width,y:x};break;default:T={x:s.x,y:s.y}}switch(zt(o)){case"start":T[p]-=w*(i&&b?-1:1);break;case"end":T[p]+=w*(i&&b?-1:1);break}return T}const Cl=async(e,o,i)=>{const{placement:s="bottom",strategy:l="absolute",middleware:d=[],platform:p}=i,v=d.filter(Boolean),g=await(p.isRTL==null?void 0:p.isRTL(o));let b=await p.getElementRects({reference:e,floating:o,strategy:l}),{x:S,y:x}=gi(b,s,g),w=s,T={},O=0;for(let P=0;P<v.length;P++){const{name:D,fn:C}=v[P],{x:_,y:R,data:M,reset:B}=await C({x:S,y:x,initialPlacement:s,placement:w,strategy:l,middlewareData:T,rects:b,platform:p,elements:{reference:e,floating:o}});S=_??S,x=R??x,T={...T,[D]:{...T[D],...M}},B&&O<=50&&(O++,typeof B=="object"&&(B.placement&&(w=B.placement),B.rects&&(b=B.rects===!0?await p.getElementRects({reference:e,floating:o,strategy:l}):B.rects),{x:S,y:x}=gi(b,w,g)),P=-1)}return{x:S,y:x,placement:w,strategy:l,middlewareData:T}};async function ln(e,o){var i;o===void 0&&(o={});const{x:s,y:l,platform:d,rects:p,elements:v,strategy:g}=e,{boundary:b="clippingAncestors",rootBoundary:S="viewport",elementContext:x="floating",altBoundary:w=!1,padding:T=0}=Ot(o,e),O=ns(T),D=v[w?x==="floating"?"reference":"floating":x],C=Un(await d.getClippingRect({element:(i=await(d.isElement==null?void 0:d.isElement(D)))==null||i?D:D.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(v.floating)),boundary:b,rootBoundary:S,strategy:g})),_=x==="floating"?{x:s,y:l,width:p.floating.width,height:p.floating.height}:p.reference,R=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v.floating)),M=await(d.isElement==null?void 0:d.isElement(R))?await(d.getScale==null?void 0:d.getScale(R))||{x:1,y:1}:{x:1,y:1},B=Un(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:v,rect:_,offsetParent:R,strategy:g}):_);return{top:(C.top-B.top+O.top)/M.y,bottom:(B.bottom-C.bottom+O.bottom)/M.y,left:(C.left-B.left+O.left)/M.x,right:(B.right-C.right+O.right)/M.x}}const Al=e=>({name:"arrow",options:e,async fn(o){const{x:i,y:s,placement:l,rects:d,platform:p,elements:v,middlewareData:g}=o,{element:b,padding:S=0}=Ot(e,o)||{};if(b==null)return{};const x=ns(S),w={x:i,y:s},T=Xo(l),O=Go(T),P=await p.getDimensions(b),D=T==="y",C=D?"top":"left",_=D?"bottom":"right",R=D?"clientHeight":"clientWidth",M=d.reference[O]+d.reference[T]-w[T]-d.floating[O],B=w[T]-d.reference[T],H=await(p.getOffsetParent==null?void 0:p.getOffsetParent(b));let k=H?H[R]:0;(!k||!await(p.isElement==null?void 0:p.isElement(H)))&&(k=v.floating[R]||d.floating[O]);const ie=M/2-B/2,G=k/2-P[O]/2-1,pe=We(x[C],G),de=We(x[_],G),fe=pe,ye=k-P[O]-de,L=k/2-P[O]/2+ie,F=Ro(fe,L,ye),V=!g.arrow&&zt(l)!=null&&L!==F&&d.reference[O]/2-(L<fe?pe:de)-P[O]/2<0,ne=V?L<fe?L-fe:L-ye:0;return{[T]:w[T]+ne,data:{[T]:F,centerOffset:L-F-ne,...V&&{alignmentOffset:ne}},reset:V}}}),_l=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(o){var i,s;const{placement:l,middlewareData:d,rects:p,initialPlacement:v,platform:g,elements:b}=o,{mainAxis:S=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:P=!0,...D}=Ot(e,o);if((i=d.arrow)!=null&&i.alignmentOffset)return{};const C=pt(l),_=pt(v)===v,R=await(g.isRTL==null?void 0:g.isRTL(b.floating)),M=w||(_||!P?[Vn(v)]:Dl(v));!w&&O!=="none"&&M.push(...Ml(v,P,O,R));const B=[v,...M],H=await ln(o,D),k=[];let ie=((s=d.flip)==null?void 0:s.overflows)||[];if(S&&k.push(H[C]),x){const fe=Ol(l,p,R);k.push(H[fe[0]],H[fe[1]])}if(ie=[...ie,{placement:l,overflows:k}],!k.every(fe=>fe<=0)){var G,pe;const fe=(((G=d.flip)==null?void 0:G.index)||0)+1,ye=B[fe];if(ye)return{data:{index:fe,overflows:ie},reset:{placement:ye}};let L=(pe=ie.filter(F=>F.overflows[0]<=0).sort((F,V)=>F.overflows[1]-V.overflows[1])[0])==null?void 0:pe.placement;if(!L)switch(T){case"bestFit":{var de;const F=(de=ie.map(V=>[V.placement,V.overflows.filter(ne=>ne>0).reduce((ne,ee)=>ne+ee,0)]).sort((V,ne)=>V[1]-ne[1])[0])==null?void 0:de[0];F&&(L=F);break}case"initialPlacement":L=v;break}if(l!==L)return{reset:{placement:L}}}return{}}}};function vi(e,o){return{top:e.top-o.height,right:e.right-o.width,bottom:e.bottom-o.height,left:e.left-o.width}}function mi(e){return El.some(o=>e[o]>=0)}const Ll=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(o){const{rects:i}=o,{strategy:s="referenceHidden",...l}=Ot(e,o);switch(s){case"referenceHidden":{const d=await ln(o,{...l,elementContext:"reference"}),p=vi(d,i.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:mi(p)}}}case"escaped":{const d=await ln(o,{...l,altBoundary:!0}),p=vi(d,i.floating);return{data:{escapedOffsets:p,escaped:mi(p)}}}default:return{}}}}};async function Fl(e,o){const{placement:i,platform:s,elements:l}=e,d=await(s.isRTL==null?void 0:s.isRTL(l.floating)),p=pt(i),v=zt(i),g=pn(i)==="y",b=["left","top"].includes(p)?-1:1,S=d&&g?-1:1,x=Ot(o,e);let{mainAxis:w,crossAxis:T,alignmentAxis:O}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...x};return v&&typeof O=="number"&&(T=v==="end"?O*-1:O),g?{x:T*S,y:w*b}:{x:w*b,y:T*S}}const Rl=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(o){var i,s;const{x:l,y:d,placement:p,middlewareData:v}=o,g=await Fl(o,e);return p===((i=v.offset)==null?void 0:i.placement)&&(s=v.arrow)!=null&&s.alignmentOffset?{}:{x:l+g.x,y:d+g.y,data:{...g,placement:p}}}}},Kl=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(o){const{x:i,y:s,placement:l}=o,{mainAxis:d=!0,crossAxis:p=!1,limiter:v={fn:D=>{let{x:C,y:_}=D;return{x:C,y:_}}},...g}=Ot(e,o),b={x:i,y:s},S=await ln(o,g),x=pn(pt(l)),w=ts(x);let T=b[w],O=b[x];if(d){const D=w==="y"?"top":"left",C=w==="y"?"bottom":"right",_=T+S[D],R=T-S[C];T=Ro(_,T,R)}if(p){const D=x==="y"?"top":"left",C=x==="y"?"bottom":"right",_=O+S[D],R=O-S[C];O=Ro(_,O,R)}const P=v.fn({...o,[w]:T,[x]:O});return{...P,data:{x:P.x-i,y:P.y-s}}}}},zl=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(o){const{placement:i,rects:s,platform:l,elements:d}=o,{apply:p=()=>{},...v}=Ot(e,o),g=await ln(o,v),b=pt(i),S=zt(i),x=pn(i)==="y",{width:w,height:T}=s.floating;let O,P;b==="top"||b==="bottom"?(O=b,P=S===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(P=b,O=S==="end"?"top":"bottom");const D=T-g.top-g.bottom,C=w-g.left-g.right,_=We(T-g[O],D),R=We(w-g[P],C),M=!o.middlewareData.shift;let B=_,H=R;if(x?H=S||M?We(R,C):C:B=S||M?We(_,D):D,M&&!S){const ie=_e(g.left,0),G=_e(g.right,0),pe=_e(g.top,0),de=_e(g.bottom,0);x?H=w-2*(ie!==0||G!==0?ie+G:_e(g.left,g.right)):B=T-2*(pe!==0||de!==0?pe+de:_e(g.top,g.bottom))}await p({...o,availableWidth:H,availableHeight:B});const k=await l.getDimensions(d.floating);return w!==k.width||T!==k.height?{reset:{rects:!0}}:{}}}};function $t(e){return os(e)?(e.nodeName||"").toLowerCase():"#document"}function Le(e){var o;return(e==null||(o=e.ownerDocument)==null?void 0:o.defaultView)||window}function st(e){var o;return(o=(os(e)?e.ownerDocument:e.document)||window.document)==null?void 0:o.documentElement}function os(e){return e instanceof Node||e instanceof Le(e).Node}function Ge(e){return e instanceof Element||e instanceof Le(e).Element}function Xe(e){return e instanceof HTMLElement||e instanceof Le(e).HTMLElement}function yi(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Le(e).ShadowRoot}function hn(e){const{overflow:o,overflowX:i,overflowY:s,display:l}=Ue(e);return/auto|scroll|overlay|hidden|clip/.test(o+s+i)&&!["inline","contents"].includes(l)}function $l(e){return["table","td","th"].includes($t(e))}function qo(e){const o=Zo(),i=Ue(e);return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!o&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!o&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(i.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(i.contain||"").includes(s))}function Nl(e){let o=ht(e);for(;Xe(o)&&!Kt(o);){if(qo(o))return o;o=ht(o)}return null}function Zo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kt(e){return["html","body","#document"].includes($t(e))}function Ue(e){return Le(e).getComputedStyle(e)}function qn(e){return Ge(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ht(e){if($t(e)==="html")return e;const o=e.assignedSlot||e.parentNode||yi(e)&&e.host||st(e);return yi(o)?o.host:o}function rs(e){const o=ht(e);return Kt(o)?e.ownerDocument?e.ownerDocument.body:e.body:Xe(o)&&hn(o)?o:rs(o)}function un(e,o,i){var s;o===void 0&&(o=[]),i===void 0&&(i=!0);const l=rs(e),d=l===((s=e.ownerDocument)==null?void 0:s.body),p=Le(l);return d?o.concat(p,p.visualViewport||[],hn(l)?l:[],p.frameElement&&i?un(p.frameElement):[]):o.concat(l,un(l,[],i))}function is(e){const o=Ue(e);let i=parseFloat(o.width)||0,s=parseFloat(o.height)||0;const l=Xe(e),d=l?e.offsetWidth:i,p=l?e.offsetHeight:s,v=Bn(i)!==d||Bn(s)!==p;return v&&(i=d,s=p),{width:i,height:s,$:v}}function Jo(e){return Ge(e)?e:e.contextElement}function Rt(e){const o=Jo(e);if(!Xe(o))return ft(1);const i=o.getBoundingClientRect(),{width:s,height:l,$:d}=is(o);let p=(d?Bn(i.width):i.width)/s,v=(d?Bn(i.height):i.height)/l;return(!p||!Number.isFinite(p))&&(p=1),(!v||!Number.isFinite(v))&&(v=1),{x:p,y:v}}const jl=ft(0);function ss(e){const o=Le(e);return!Zo()||!o.visualViewport?jl:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function Bl(e,o,i){return o===void 0&&(o=!1),!i||o&&i!==Le(e)?!1:o}function Et(e,o,i,s){o===void 0&&(o=!1),i===void 0&&(i=!1);const l=e.getBoundingClientRect(),d=Jo(e);let p=ft(1);o&&(s?Ge(s)&&(p=Rt(s)):p=Rt(e));const v=Bl(d,i,s)?ss(d):ft(0);let g=(l.left+v.x)/p.x,b=(l.top+v.y)/p.y,S=l.width/p.x,x=l.height/p.y;if(d){const w=Le(d),T=s&&Ge(s)?Le(s):s;let O=w,P=O.frameElement;for(;P&&s&&T!==O;){const D=Rt(P),C=P.getBoundingClientRect(),_=Ue(P),R=C.left+(P.clientLeft+parseFloat(_.paddingLeft))*D.x,M=C.top+(P.clientTop+parseFloat(_.paddingTop))*D.y;g*=D.x,b*=D.y,S*=D.x,x*=D.y,g+=R,b+=M,O=Le(P),P=O.frameElement}}return Un({width:S,height:x,x:g,y:b})}const Vl=[":popover-open",":modal"];function Qo(e){return Vl.some(o=>{try{return e.matches(o)}catch{return!1}})}function Ul(e){let{elements:o,rect:i,offsetParent:s,strategy:l}=e;const d=l==="fixed",p=st(s),v=o?Qo(o.floating):!1;if(s===p||v&&d)return i;let g={scrollLeft:0,scrollTop:0},b=ft(1);const S=ft(0),x=Xe(s);if((x||!x&&!d)&&(($t(s)!=="body"||hn(p))&&(g=qn(s)),Xe(s))){const w=Et(s);b=Rt(s),S.x=w.x+s.clientLeft,S.y=w.y+s.clientTop}return{width:i.width*b.x,height:i.height*b.y,x:i.x*b.x-g.scrollLeft*b.x+S.x,y:i.y*b.y-g.scrollTop*b.y+S.y}}function Wl(e){return Array.from(e.getClientRects())}function as(e){return Et(st(e)).left+qn(e).scrollLeft}function Hl(e){const o=st(e),i=qn(e),s=e.ownerDocument.body,l=_e(o.scrollWidth,o.clientWidth,s.scrollWidth,s.clientWidth),d=_e(o.scrollHeight,o.clientHeight,s.scrollHeight,s.clientHeight);let p=-i.scrollLeft+as(e);const v=-i.scrollTop;return Ue(s).direction==="rtl"&&(p+=_e(o.clientWidth,s.clientWidth)-l),{width:l,height:d,x:p,y:v}}function Yl(e,o){const i=Le(e),s=st(e),l=i.visualViewport;let d=s.clientWidth,p=s.clientHeight,v=0,g=0;if(l){d=l.width,p=l.height;const b=Zo();(!b||b&&o==="fixed")&&(v=l.offsetLeft,g=l.offsetTop)}return{width:d,height:p,x:v,y:g}}function Gl(e,o){const i=Et(e,!0,o==="fixed"),s=i.top+e.clientTop,l=i.left+e.clientLeft,d=Xe(e)?Rt(e):ft(1),p=e.clientWidth*d.x,v=e.clientHeight*d.y,g=l*d.x,b=s*d.y;return{width:p,height:v,x:g,y:b}}function bi(e,o,i){let s;if(o==="viewport")s=Yl(e,i);else if(o==="document")s=Hl(st(e));else if(Ge(o))s=Gl(o,i);else{const l=ss(e);s={...o,x:o.x-l.x,y:o.y-l.y}}return Un(s)}function cs(e,o){const i=ht(e);return i===o||!Ge(i)||Kt(i)?!1:Ue(i).position==="fixed"||cs(i,o)}function Xl(e,o){const i=o.get(e);if(i)return i;let s=un(e,[],!1).filter(v=>Ge(v)&&$t(v)!=="body"),l=null;const d=Ue(e).position==="fixed";let p=d?ht(e):e;for(;Ge(p)&&!Kt(p);){const v=Ue(p),g=qo(p);!g&&v.position==="fixed"&&(l=null),(d?!g&&!l:!g&&v.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||hn(p)&&!g&&cs(e,p))?s=s.filter(S=>S!==p):l=v,p=ht(p)}return o.set(e,s),s}function ql(e){let{element:o,boundary:i,rootBoundary:s,strategy:l}=e;const p=[...i==="clippingAncestors"?Qo(o)?[]:Xl(o,this._c):[].concat(i),s],v=p[0],g=p.reduce((b,S)=>{const x=bi(o,S,l);return b.top=_e(x.top,b.top),b.right=We(x.right,b.right),b.bottom=We(x.bottom,b.bottom),b.left=_e(x.left,b.left),b},bi(o,v,l));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function Zl(e){const{width:o,height:i}=is(e);return{width:o,height:i}}function Jl(e,o,i){const s=Xe(o),l=st(o),d=i==="fixed",p=Et(e,!0,d,o);let v={scrollLeft:0,scrollTop:0};const g=ft(0);if(s||!s&&!d)if(($t(o)!=="body"||hn(l))&&(v=qn(o)),s){const x=Et(o,!0,d,o);g.x=x.x+o.clientLeft,g.y=x.y+o.clientTop}else l&&(g.x=as(l));const b=p.left+v.scrollLeft-g.x,S=p.top+v.scrollTop-g.y;return{x:b,y:S,width:p.width,height:p.height}}function Do(e){return Ue(e).position==="static"}function xi(e,o){return!Xe(e)||Ue(e).position==="fixed"?null:o?o(e):e.offsetParent}function ls(e,o){const i=Le(e);if(Qo(e))return i;if(!Xe(e)){let l=ht(e);for(;l&&!Kt(l);){if(Ge(l)&&!Do(l))return l;l=ht(l)}return i}let s=xi(e,o);for(;s&&$l(s)&&Do(s);)s=xi(s,o);return s&&Kt(s)&&Do(s)&&!qo(s)?i:s||Nl(e)||i}const Ql=async function(e){const o=this.getOffsetParent||ls,i=this.getDimensions,s=await i(e.floating);return{reference:Jl(e.reference,await o(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function eu(e){return Ue(e).direction==="rtl"}const us={convertOffsetParentRelativeRectToViewportRelativeRect:Ul,getDocumentElement:st,getClippingRect:ql,getOffsetParent:ls,getElementRects:Ql,getClientRects:Wl,getDimensions:Zl,getScale:Rt,isElement:Ge,isRTL:eu};function tu(e,o){let i=null,s;const l=st(e);function d(){var v;clearTimeout(s),(v=i)==null||v.disconnect(),i=null}function p(v,g){v===void 0&&(v=!1),g===void 0&&(g=1),d();const{left:b,top:S,width:x,height:w}=e.getBoundingClientRect();if(v||o(),!x||!w)return;const T=An(S),O=An(l.clientWidth-(b+x)),P=An(l.clientHeight-(S+w)),D=An(b),_={rootMargin:-T+"px "+-O+"px "+-P+"px "+-D+"px",threshold:_e(0,We(1,g))||1};let R=!0;function M(B){const H=B[0].intersectionRatio;if(H!==g){if(!R)return p();H?p(!1,H):s=setTimeout(()=>{p(!1,1e-7)},1e3)}R=!1}try{i=new IntersectionObserver(M,{..._,root:l.ownerDocument})}catch{i=new IntersectionObserver(M,_)}i.observe(e)}return p(!0),d}function nu(e,o,i,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:d=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:v=typeof IntersectionObserver=="function",animationFrame:g=!1}=s,b=Jo(e),S=l||d?[...b?un(b):[],...un(o)]:[];S.forEach(C=>{l&&C.addEventListener("scroll",i,{passive:!0}),d&&C.addEventListener("resize",i)});const x=b&&v?tu(b,i):null;let w=-1,T=null;p&&(T=new ResizeObserver(C=>{let[_]=C;_&&_.target===b&&T&&(T.unobserve(o),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var R;(R=T)==null||R.observe(o)})),i()}),b&&!g&&T.observe(b),T.observe(o));let O,P=g?Et(e):null;g&&D();function D(){const C=Et(e);P&&(C.x!==P.x||C.y!==P.y||C.width!==P.width||C.height!==P.height)&&i(),P=C,O=requestAnimationFrame(D)}return i(),()=>{var C;S.forEach(_=>{l&&_.removeEventListener("scroll",i),d&&_.removeEventListener("resize",i)}),x==null||x(),(C=T)==null||C.disconnect(),T=null,g&&cancelAnimationFrame(O)}}const ou=Rl,ru=Kl,iu=_l,su=zl,au=Ll,cu=Al,lu=(e,o,i)=>{const s=new Map,l={platform:us,...i},d={...l.platform,_c:s};return Cl(e,o,{...l,platform:d})};var uu=xe('<svg display=block viewBox="0 0 30 30"><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),er=Re();function tr(){const e=Fe(er);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var zo=30,wi=zo/2,du={top:180,right:-90,bottom:0,left:90};function nr(e){const o=tr(),i=be({size:zo},e),[s,l]=he(i,["ref","style","size"]),d=()=>o.currentPlacement().split("-")[0],p=fu(o.contentRef),v=()=>{var w;return((w=p())==null?void 0:w.getPropertyValue("background-color"))||"none"},g=()=>{var w;return((w=p())==null?void 0:w.getPropertyValue(`border-${d()}-color`))||"none"},b=()=>{var w;return((w=p())==null?void 0:w.getPropertyValue(`border-${d()}-width`))||"0px"},S=()=>parseInt(b())*2*(zo/s.size),x=()=>`rotate(${du[d()]} ${wi} ${wi})`;return j(Ke,le({as:"div",ref(w){var T=qe(o.setArrowRef,s.ref);typeof T=="function"&&T(w)},"aria-hidden":"true",get style(){return{position:"absolute","font-size":`${s.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:v(),stroke:g(),"stroke-width":S(),...s.style}}},l,{get children(){var w=uu(),T=w.firstChild,O=T.firstChild;return O.nextSibling,ot(()=>Rn(T,"transform",x())),w}}))}function fu(e){const[o,i]=se();return Q(()=>{const s=e();s&&i(Jc(s).getComputedStyle(s))}),o}function pu(e){const o=tr(),[i,s]=he(e,["ref","style"]);return j(Ke,le({as:"div",ref(l){var d=qe(o.setPositionerRef,i.ref);typeof d=="function"&&d(l)},"data-popper-positioner":"",get style(){return{position:"absolute",top:0,left:0,"min-width":"max-content",...i.style}}},s))}function Si(e){const{x:o=0,y:i=0,width:s=0,height:l=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(o,i,s,l);const d={x:o,y:i,width:s,height:l,top:i,right:o+s,bottom:i+l,left:o};return{...d,toJSON:()=>d}}function hu(e,o){return{contextElement:e,getBoundingClientRect:()=>{const s=o(e);return s?Si(s):e?e.getBoundingClientRect():Si()}}}function gu(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var vu={top:"bottom",right:"left",bottom:"top",left:"right"};function mu(e,o){const[i,s]=e.split("-"),l=vu[i];return s?i==="left"||i==="right"?`${l} ${s==="start"?"top":"bottom"}`:s==="start"?`${l} ${o==="rtl"?"right":"left"}`:`${l} ${o==="rtl"?"left":"right"}`:`${l} center`}function yu(e){const o=be({getAnchorRect:w=>w==null?void 0:w.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[i,s]=se(),[l,d]=se(),[p,v]=se(o.placement),g=()=>{var w;return hu((w=o.anchorRef)==null?void 0:w.call(o),o.getAnchorRect)},{direction:b}=Tt();async function S(){var H,k;const w=g(),T=i(),O=l();if(!w||!T)return;const P=((O==null?void 0:O.clientHeight)||0)/2,D=typeof o.gutter=="number"?o.gutter+P:o.gutter??P;T.style.setProperty("--kb-popper-content-overflow-padding",`${o.overflowPadding}px`),w.getBoundingClientRect();const C=[ou(({placement:ie})=>{const G=!!ie.split("-")[1];return{mainAxis:D,crossAxis:G?void 0:o.shift,alignmentAxis:o.shift}})];if(o.flip!==!1){const ie=typeof o.flip=="string"?o.flip.split(" "):void 0;if(ie!==void 0&&!ie.every(gu))throw new Error("`flip` expects a spaced-delimited list of placements");C.push(iu({padding:o.overflowPadding,fallbackPlacements:ie}))}(o.slide||o.overlap)&&C.push(ru({mainAxis:o.slide,crossAxis:o.overlap,padding:o.overflowPadding})),C.push(su({padding:o.overflowPadding,apply({availableWidth:ie,availableHeight:G,rects:pe}){const de=Math.round(pe.reference.width);ie=Math.floor(ie),G=Math.floor(G),T.style.setProperty("--kb-popper-anchor-width",`${de}px`),T.style.setProperty("--kb-popper-content-available-width",`${ie}px`),T.style.setProperty("--kb-popper-content-available-height",`${G}px`),o.sameWidth&&(T.style.width=`${de}px`),o.fitViewport&&(T.style.maxWidth=`${ie}px`,T.style.maxHeight=`${G}px`)}})),o.hideWhenDetached&&C.push(au({padding:o.detachedPadding})),O&&C.push(cu({element:O,padding:o.arrowPadding}));const _=await lu(w,T,{placement:o.placement,strategy:"absolute",middleware:C,platform:{...us,isRTL:()=>b()==="rtl"}});if(v(_.placement),(H=o.onCurrentPlacementChange)==null||H.call(o,_.placement),!T)return;T.style.setProperty("--kb-popper-content-transform-origin",mu(_.placement,b()));const R=Math.round(_.x),M=Math.round(_.y);let B;if(o.hideWhenDetached&&(B=(k=_.middlewareData.hide)!=null&&k.referenceHidden?"hidden":"visible"),Object.assign(T.style,{top:"0",left:"0",transform:`translate3d(${R}px, ${M}px, 0)`,visibility:B}),O&&_.middlewareData.arrow){const{x:ie,y:G}=_.middlewareData.arrow,pe=_.placement.split("-")[0];Object.assign(O.style,{left:ie!=null?`${ie}px`:"",top:G!=null?`${G}px`:"",[pe]:"100%"})}}Q(()=>{const w=g(),T=i();if(!w||!T)return;const O=nu(w,T,S,{elementResize:typeof ResizeObserver=="function"});ue(O)}),Q(()=>{var O;const w=i(),T=(O=o.contentRef)==null?void 0:O.call(o);!w||!T||queueMicrotask(()=>{w.style.zIndex=getComputedStyle(T).zIndex})});const x={currentPlacement:p,contentRef:()=>{var w;return(w=o.contentRef)==null?void 0:w.call(o)},setPositionerRef:s,setArrowRef:d};return j(er.Provider,{value:x,get children(){return o.children}})}var ds=Object.assign(yu,{Arrow:nr,Context:er,usePopperContext:tr,Positioner:pu});function Zn(e){var p;const[o,i]=se((p=e.defaultValue)==null?void 0:p.call(e)),s=me(()=>{var v;return((v=e.value)==null?void 0:v.call(e))!==void 0}),l=me(()=>{var v;return s()?(v=e.value)==null?void 0:v.call(e):o()});return[l,v=>{De(()=>{var b;const g=Wc(v,l());return Object.is(g,l())||(s()||i(g),(b=e.onChange)==null||b.call(e,g)),g})}]}function fs(e){const[o,i]=Zn(e);return[()=>o()??!1,i]}function bu(e){const[o,i]=Zn(e);return[()=>o()??[],i]}var ps=Re();function hs(){return Fe(ps)}function xu(){const e=hs();if(e===void 0)throw new Error("[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component");return e}function gs(e,o){return!!(o.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function wu(e,o){var l;const i=o.ref();if(!i)return-1;let s=e.length;if(!s)return-1;for(;s--;){const d=(l=e[s])==null?void 0:l.ref();if(d&&gs(d,i))return s+1}return 0}function Su(e){const o=e.map((s,l)=>[l,s]);let i=!1;return o.sort(([s,l],[d,p])=>{const v=l.ref(),g=p.ref();return v===g||!v||!g?0:gs(v,g)?(s>d&&(i=!0),-1):(s<d&&(i=!0),1)}),i?o.map(([s,l])=>l):e}function vs(e,o){const i=Su(e);e!==i&&o(i)}function Eu(e){var l,d;const o=e[0],i=(l=e[e.length-1])==null?void 0:l.ref();let s=(d=o==null?void 0:o.ref())==null?void 0:d.parentElement;for(;s;){if(i&&s.contains(i))return s;s=s.parentElement}return Ye(s).body}function Pu(e,o){Q(()=>{const i=setTimeout(()=>{vs(e(),o)});ue(()=>clearTimeout(i))})}function Tu(e,o){if(typeof IntersectionObserver!="function"){Pu(e,o);return}let i=[];Q(()=>{const s=()=>{const p=!!i.length;i=e(),p&&vs(e(),o)},l=Eu(e()),d=new IntersectionObserver(s,{root:l});for(const p of e()){const v=p.ref();v&&d.observe(v)}ue(()=>d.disconnect())})}function Ou(e={}){const[o,i]=bu({value:()=>N(e.items),onChange:d=>{var p;return(p=e.onItemsChange)==null?void 0:p.call(e,d)}});Tu(o,i);const s=d=>(i(p=>{const v=wu(p,d);return Xc(p,d,v)}),()=>{i(p=>{const v=p.filter(g=>g.ref()!==d.ref());return p.length===v.length?p:v})});return{DomCollectionProvider:d=>j(ps.Provider,{value:{registerItem:s},get children(){return d.children}})}}function Du(e){const o=xu(),i=be({shouldRegisterItem:!0},e);Q(()=>{if(!i.shouldRegisterItem)return;const s=o.registerItem(i.getItem());ue(s)})}function ms(e){let o=e.startIndex??0;const i=e.startLevel??0,s=[],l=g=>{if(g==null)return"";const b=e.getKey??"key",S=At(b)?g[b]:b(g);return S!=null?String(S):""},d=g=>{if(g==null)return"";const b=e.getTextValue??"textValue",S=At(b)?g[b]:b(g);return S!=null?String(S):""},p=g=>{if(g==null)return!1;const b=e.getDisabled??"disabled";return(At(b)?g[b]:b(g))??!1},v=g=>{var b;if(g!=null)return At(e.getSectionChildren)?g[e.getSectionChildren]:(b=e.getSectionChildren)==null?void 0:b.call(e,g)};for(const g of e.dataSource){if(At(g)||qc(g)){s.push({type:"item",rawValue:g,key:String(g),textValue:String(g),disabled:p(g),level:i,index:o}),o++;continue}if(v(g)!=null){s.push({type:"section",rawValue:g,key:"",textValue:"",disabled:!1,level:i,index:o}),o++;const b=v(g)??[];if(b.length>0){const S=ms({dataSource:b,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:o,startLevel:i+1});s.push(...S),o+=S.length}}else s.push({type:"item",rawValue:g,key:l(g),textValue:d(g),disabled:p(g),level:i,index:o}),o++}return s}function Iu(e,o=[]){return me(()=>{const i=ms({dataSource:N(e.dataSource),getKey:N(e.getKey),getTextValue:N(e.getTextValue),getDisabled:N(e.getDisabled),getSectionChildren:N(e.getSectionChildren)});for(let s=0;s<o.length;s++)o[s]();return e.factory(i)})}var nt=class ys extends Set{constructor(i,s,l){super(i);Pe(this,"anchorKey");Pe(this,"currentKey");i instanceof ys?(this.anchorKey=s||i.anchorKey,this.currentKey=l||i.currentKey):(this.anchorKey=s,this.currentKey=l)}};function Mu(e){const[o,i]=Zn(e);return[()=>o()??new nt,i]}function bs(e){return nl()?e.altKey:e.ctrlKey}function _t(e){return Xn()?e.metaKey:e.ctrlKey}function Ei(e){return new nt(e)}function ku(e,o){if(e.size!==o.size)return!1;for(const i of e)if(!o.has(i))return!1;return!0}function Cu(e){const o=be({selectionMode:"none",selectionBehavior:"toggle"},e),[i,s]=se(!1),[l,d]=se(),p=me(()=>{const P=N(o.selectedKeys);return P!=null?Ei(P):P}),v=me(()=>{const P=N(o.defaultSelectedKeys);return P!=null?Ei(P):new nt}),[g,b]=Mu({value:p,defaultValue:v,onChange:P=>{var D;return(D=o.onSelectionChange)==null?void 0:D.call(o,P)}}),[S,x]=se(N(o.selectionBehavior)),w=()=>N(o.selectionMode),T=()=>N(o.disallowEmptySelection)??!1,O=P=>{(N(o.allowDuplicateSelectionEvents)||!ku(P,g()))&&b(P)};return Q(()=>{const P=g();N(o.selectionBehavior)==="replace"&&S()==="toggle"&&typeof P=="object"&&P.size===0&&x("replace")}),Q(()=>{x(N(o.selectionBehavior)??"toggle")}),{selectionMode:w,disallowEmptySelection:T,selectionBehavior:S,setSelectionBehavior:x,isFocused:i,setFocused:s,focusedKey:l,setFocusedKey:d,selectedKeys:g,setSelectedKeys:O}}function Au(e){const[o,i]=se(""),[s,l]=se(-1);return{typeSelectHandlers:{onKeyDown:p=>{var w;if(N(e.isDisabled))return;const v=N(e.keyboardDelegate),g=N(e.selectionManager);if(!v.getKeyForSearch)return;const b=_u(p.key);if(!b||p.ctrlKey||p.metaKey)return;b===" "&&o().trim().length>0&&(p.preventDefault(),p.stopPropagation());let S=i(T=>T+b),x=v.getKeyForSearch(S,g.focusedKey())??v.getKeyForSearch(S);x==null&&Lu(S)&&(S=S[0],x=v.getKeyForSearch(S,g.focusedKey())??v.getKeyForSearch(S)),x!=null&&(g.setFocusedKey(x),(w=e.onTypeSelect)==null||w.call(e,x)),clearTimeout(s()),l(window.setTimeout(()=>i(""),500))}}}}function _u(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Lu(e){return e.split("").every(o=>o===e[0])}function Fu(e,o,i){const l=le({selectOnFocus:()=>N(e.selectionManager).selectionBehavior()==="replace"},e),d=()=>o(),{direction:p}=Tt();let v={top:0,left:0};Gc(()=>N(l.isVirtualized)?void 0:d(),"scroll",()=>{const P=d();P&&(v={top:P.scrollTop,left:P.scrollLeft})});const{typeSelectHandlers:g}=Au({isDisabled:()=>N(l.disallowTypeAhead),keyboardDelegate:()=>N(l.keyboardDelegate),selectionManager:()=>N(l.selectionManager)}),b=P=>{var k,ie,G,pe,de,fe,ye,L;Se(P,g.onKeyDown),P.altKey&&P.key==="Tab"&&P.preventDefault();const D=o();if(!(D!=null&&D.contains(P.target)))return;const C=N(l.selectionManager),_=N(l.selectOnFocus),R=F=>{F!=null&&(C.setFocusedKey(F),P.shiftKey&&C.selectionMode()==="multiple"?C.extendSelection(F):_&&!bs(P)&&C.replaceSelection(F))},M=N(l.keyboardDelegate),B=N(l.shouldFocusWrap),H=C.focusedKey();switch(P.key){case"ArrowDown":{if(M.getKeyBelow){P.preventDefault();let F;H!=null?F=M.getKeyBelow(H):F=(k=M.getFirstKey)==null?void 0:k.call(M),F==null&&B&&(F=(ie=M.getFirstKey)==null?void 0:ie.call(M,H)),R(F)}break}case"ArrowUp":{if(M.getKeyAbove){P.preventDefault();let F;H!=null?F=M.getKeyAbove(H):F=(G=M.getLastKey)==null?void 0:G.call(M),F==null&&B&&(F=(pe=M.getLastKey)==null?void 0:pe.call(M,H)),R(F)}break}case"ArrowLeft":{if(M.getKeyLeftOf){P.preventDefault();const F=p()==="rtl";let V;H!=null?V=M.getKeyLeftOf(H):V=F?(de=M.getFirstKey)==null?void 0:de.call(M):(fe=M.getLastKey)==null?void 0:fe.call(M),R(V)}break}case"ArrowRight":{if(M.getKeyRightOf){P.preventDefault();const F=p()==="rtl";let V;H!=null?V=M.getKeyRightOf(H):V=F?(ye=M.getLastKey)==null?void 0:ye.call(M):(L=M.getFirstKey)==null?void 0:L.call(M),R(V)}break}case"Home":if(M.getFirstKey){P.preventDefault();const F=M.getFirstKey(H,_t(P));F!=null&&(C.setFocusedKey(F),_t(P)&&P.shiftKey&&C.selectionMode()==="multiple"?C.extendSelection(F):_&&C.replaceSelection(F))}break;case"End":if(M.getLastKey){P.preventDefault();const F=M.getLastKey(H,_t(P));F!=null&&(C.setFocusedKey(F),_t(P)&&P.shiftKey&&C.selectionMode()==="multiple"?C.extendSelection(F):_&&C.replaceSelection(F))}break;case"PageDown":if(M.getKeyPageBelow&&H!=null){P.preventDefault();const F=M.getKeyPageBelow(H);R(F)}break;case"PageUp":if(M.getKeyPageAbove&&H!=null){P.preventDefault();const F=M.getKeyPageAbove(H);R(F)}break;case"a":_t(P)&&C.selectionMode()==="multiple"&&N(l.disallowSelectAll)!==!0&&(P.preventDefault(),C.selectAll());break;case"Escape":P.defaultPrevented||(P.preventDefault(),N(l.disallowEmptySelection)||C.clearSelection());break;case"Tab":if(!N(l.allowsTabNavigation)){if(P.shiftKey)D.focus();else{const F=fl(D,{tabbable:!0});let V,ne;do ne=F.lastChild(),ne&&(V=ne);while(ne);V&&!V.contains(document.activeElement)&&Ie(V)}break}}},S=P=>{var R,M;const D=N(l.selectionManager),C=N(l.keyboardDelegate),_=N(l.selectOnFocus);if(D.isFocused()){P.currentTarget.contains(P.target)||D.setFocused(!1);return}if(P.currentTarget.contains(P.target)){if(D.setFocused(!0),D.focusedKey()==null){const B=k=>{k!=null&&(D.setFocusedKey(k),_&&D.replaceSelection(k))},H=P.relatedTarget;H&&P.currentTarget.compareDocumentPosition(H)&Node.DOCUMENT_POSITION_FOLLOWING?B(D.lastSelectedKey()??((R=C.getLastKey)==null?void 0:R.call(C))):B(D.firstSelectedKey()??((M=C.getFirstKey)==null?void 0:M.call(C)))}else if(!N(l.isVirtualized)){const B=d();if(B){B.scrollTop=v.top,B.scrollLeft=v.left;const H=B.querySelector(`[data-key="${D.focusedKey()}"]`);H&&(Ie(H),fi(B,H))}}}},x=P=>{const D=N(l.selectionManager);P.currentTarget.contains(P.relatedTarget)||D.setFocused(!1)},w=P=>{d()===P.target&&P.preventDefault()},T=()=>{var B,H;const P=N(l.autoFocus);if(!P)return;const D=N(l.selectionManager),C=N(l.keyboardDelegate);let _;P==="first"&&(_=(B=C.getFirstKey)==null?void 0:B.call(C)),P==="last"&&(_=(H=C.getLastKey)==null?void 0:H.call(C));const R=D.selectedKeys();R.size&&(_=R.values().next().value),D.setFocused(!0),D.setFocusedKey(_);const M=o();M&&_==null&&!N(l.shouldUseVirtualFocus)&&Ie(M)};return it(()=>{l.deferAutoFocus?setTimeout(T,0):T()}),Q(wt([d,()=>N(l.isVirtualized),()=>N(l.selectionManager).focusedKey()],P=>{var R;const[D,C,_]=P;if(C)_&&((R=l.scrollToKey)==null||R.call(l,_));else if(_&&D){const M=D.querySelector(`[data-key="${_}"]`);M&&fi(D,M)}})),{tabIndex:me(()=>{if(!N(l.shouldUseVirtualFocus))return N(l.selectionManager).focusedKey()==null?0:-1}),onKeyDown:b,onMouseDown:w,onFocusIn:S,onFocusOut:x}}function xs(e,o){const i=()=>N(e.selectionManager),s=()=>N(e.key),l=()=>N(e.shouldUseVirtualFocus),d=_=>{i().selectionMode()!=="none"&&(i().selectionMode()==="single"?i().isSelected(s())&&!i().disallowEmptySelection()?i().toggleSelection(s()):i().replaceSelection(s()):_!=null&&_.shiftKey?i().extendSelection(s()):i().selectionBehavior()==="toggle"||_t(_)||"pointerType"in _&&_.pointerType==="touch"?i().toggleSelection(s()):i().replaceSelection(s()))},p=()=>i().isSelected(s()),v=()=>N(e.disabled)||i().isDisabled(s()),g=()=>!v()&&i().canSelectItem(s());let b=null;const S=_=>{g()&&(b=_.pointerType,_.pointerType==="mouse"&&_.button===0&&!N(e.shouldSelectOnPressUp)&&d(_))},x=_=>{g()&&_.pointerType==="mouse"&&_.button===0&&N(e.shouldSelectOnPressUp)&&N(e.allowsDifferentPressOrigin)&&d(_)},w=_=>{g()&&(N(e.shouldSelectOnPressUp)&&!N(e.allowsDifferentPressOrigin)||b!=="mouse")&&d(_)},T=_=>{!g()||!["Enter"," "].includes(_.key)||(bs(_)?i().toggleSelection(s()):d(_))},O=_=>{v()&&_.preventDefault()},P=_=>{const R=o();l()||v()||!R||_.target===R&&i().setFocusedKey(s())},D=me(()=>{if(!(l()||v()))return s()===i().focusedKey()?0:-1}),C=me(()=>N(e.virtualized)?void 0:s());return Q(wt([o,s,l,()=>i().focusedKey(),()=>i().isFocused()],([_,R,M,B,H])=>{_&&R===B&&H&&!M&&document.activeElement!==_&&(e.focus?e.focus():Ie(_))})),{isSelected:p,isDisabled:v,allowsSelection:g,tabIndex:D,dataKey:C,onPointerDown:S,onPointerUp:x,onClick:w,onKeyDown:T,onMouseDown:O,onFocus:P}}var Ru=class{constructor(e,o){Pe(this,"collection");Pe(this,"state");this.collection=e,this.state=o}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const o=this.getKey(e);return o==null?!1:this.state.selectedKeys().has(o)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(o=>e.has(o))}firstSelectedKey(){let e;for(const o of this.state.selectedKeys()){const i=this.collection().getItem(o),s=(i==null?void 0:i.index)!=null&&(e==null?void 0:e.index)!=null&&i.index<e.index;(!e||s)&&(e=i)}return e==null?void 0:e.key}lastSelectedKey(){let e;for(const o of this.state.selectedKeys()){const i=this.collection().getItem(o),s=(i==null?void 0:i.index)!=null&&(e==null?void 0:e.index)!=null&&i.index>e.index;(!e||s)&&(e=i)}return e==null?void 0:e.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const o=this.getKey(e);if(o==null)return;const i=this.state.selectedKeys(),s=i.anchorKey||o,l=new nt(i,s,o);for(const d of this.getKeyRange(s,i.currentKey||o))l.delete(d);for(const d of this.getKeyRange(o,s))this.canSelectItem(d)&&l.add(d);this.state.setSelectedKeys(l)}getKeyRange(e,o){const i=this.collection().getItem(e),s=this.collection().getItem(o);return i&&s?i.index!=null&&s.index!=null&&i.index<=s.index?this.getKeyRangeInternal(e,o):this.getKeyRangeInternal(o,e):[]}getKeyRangeInternal(e,o){const i=[];let s=e;for(;s!=null;){const l=this.collection().getItem(s);if(l&&l.type==="item"&&i.push(s),s===o)return i;s=this.collection().getKeyAfter(s)}return[]}getKey(e){const o=this.collection().getItem(e);return o?!o||o.type!=="item"?null:o.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const o=this.getKey(e);if(o==null)return;const i=new nt(this.state.selectedKeys());i.has(o)?i.delete(o):this.canSelectItem(o)&&(i.add(o),i.anchorKey=o,i.currentKey=o),!(this.disallowEmptySelection()&&i.size===0)&&this.state.setSelectedKeys(i)}replaceSelection(e){if(this.selectionMode()==="none")return;const o=this.getKey(e);if(o==null)return;const i=this.canSelectItem(o)?new nt([o],o,o):new nt;this.state.setSelectedKeys(i)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const o=new nt;for(const i of e){const s=this.getKey(i);if(s!=null&&(o.add(s),this.selectionMode()==="single"))break}this.state.setSelectedKeys(o)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new nt)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,o){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||o&&o.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const o=this.selectedKeys();if(e.size!==o.size)return!1;for(const i of e)if(!o.has(i))return!1;for(const i of o)if(!e.has(i))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const o=this.collection().getItem(e);return o!=null&&!o.disabled}isDisabled(e){const o=this.collection().getItem(e);return!o||o.disabled}getAllSelectableKeys(){const e=[];return(i=>{for(;i!=null;){if(this.canSelectItem(i)){const s=this.collection().getItem(i);if(!s)continue;s.type==="item"&&e.push(i)}i=this.collection().getKeyAfter(i)}})(this.collection().getFirstKey()),e}},Pi=class{constructor(e){Pe(this,"keyMap",new Map);Pe(this,"iterable");Pe(this,"firstKey");Pe(this,"lastKey");this.iterable=e;for(const s of e)this.keyMap.set(s.key,s);if(this.keyMap.size===0)return;let o,i=0;for(const[s,l]of this.keyMap)o?(o.nextKey=s,l.prevKey=o.key):(this.firstKey=s,l.prevKey=void 0),l.type==="item"&&(l.index=i++),o=l,o.nextKey=void 0;this.lastKey=o.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){var o;return(o=this.keyMap.get(e))==null?void 0:o.prevKey}getKeyAfter(e){var o;return(o=this.keyMap.get(e))==null?void 0:o.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const o=[...this.getKeys()];return this.getItem(o[e])}};function Ku(e){const o=Cu(e),s=Iu({dataSource:()=>N(e.dataSource),getKey:()=>N(e.getKey),getTextValue:()=>N(e.getTextValue),getDisabled:()=>N(e.getDisabled),getSectionChildren:()=>N(e.getSectionChildren),factory:d=>e.filter?new Pi(e.filter(d)):new Pi(d)},[()=>e.filter]),l=new Ru(s,o);return uc(()=>{const d=o.focusedKey();d!=null&&!s().getItem(d)&&o.setFocusedKey(void 0)}),{collection:s,selectionManager:()=>l}}var zu=class{constructor(e,o,i){Pe(this,"collection");Pe(this,"ref");Pe(this,"collator");this.collection=e,this.ref=o,this.collator=i}getKeyBelow(e){let o=this.collection().getKeyAfter(e);for(;o!=null;){const i=this.collection().getItem(o);if(i&&i.type==="item"&&!i.disabled)return o;o=this.collection().getKeyAfter(o)}}getKeyAbove(e){let o=this.collection().getKeyBefore(e);for(;o!=null;){const i=this.collection().getItem(o);if(i&&i.type==="item"&&!i.disabled)return o;o=this.collection().getKeyBefore(o)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const o=this.collection().getItem(e);if(o&&o.type==="item"&&!o.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const o=this.collection().getItem(e);if(o&&o.type==="item"&&!o.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){var o,i;return((i=(o=this.ref)==null?void 0:o.call(this))==null?void 0:i.querySelector(`[data-key="${e}"]`))??null}getKeyPageAbove(e){var d;const o=(d=this.ref)==null?void 0:d.call(this);let i=this.getItem(e);if(!o||!i)return;const s=Math.max(0,i.offsetTop+i.offsetHeight-o.offsetHeight);let l=e;for(;l&&i&&i.offsetTop>s;)l=this.getKeyAbove(l),i=l!=null?this.getItem(l):null;return l}getKeyPageBelow(e){var d;const o=(d=this.ref)==null?void 0:d.call(this);let i=this.getItem(e);if(!o||!i)return;const s=Math.min(o.scrollHeight,i.offsetTop-i.offsetHeight+o.offsetHeight);let l=e;for(;l&&i&&i.offsetTop<s;)l=this.getKeyBelow(l),i=l!=null?this.getItem(l):null;return l}getKeyForSearch(e,o){var l;const i=(l=this.collator)==null?void 0:l.call(this);if(!i)return;let s=o!=null?this.getKeyBelow(o):this.getFirstKey();for(;s!=null;){const d=this.collection().getItem(s);if(d){const p=d.textValue.slice(0,e.length);if(d.textValue&&i.compare(p,e)===0)return s}s=this.getKeyBelow(s)}}};function $u(e,o,i){const s=Sl({usage:"search",sensitivity:"base"}),l=me(()=>{const d=N(e.keyboardDelegate);return d||new zu(e.collection,o,s)});return Fu({selectionManager:()=>N(e.selectionManager),keyboardDelegate:l,autoFocus:()=>N(e.autoFocus),deferAutoFocus:()=>N(e.deferAutoFocus),shouldFocusWrap:()=>N(e.shouldFocusWrap),disallowEmptySelection:()=>N(e.disallowEmptySelection),selectOnFocus:()=>N(e.selectOnFocus),disallowTypeAhead:()=>N(e.disallowTypeAhead),shouldUseVirtualFocus:()=>N(e.shouldUseVirtualFocus),allowsTabNavigation:()=>N(e.allowsTabNavigation),isVirtualized:()=>N(e.isVirtualized),scrollToKey:d=>{var p;return(p=N(e.scrollToKey))==null?void 0:p(d)}},o)}var Wn="data-kb-top-layer",ws,$o=!1,rt=[];function dn(e){return rt.findIndex(o=>o.node===e)}function Nu(e){return rt[dn(e)]}function ju(e){return rt[rt.length-1].node===e}function Ss(){return rt.filter(e=>e.isPointerBlocking)}function Bu(){return[...Ss()].slice(-1)[0]}function or(){return Ss().length>0}function Es(e){var i;const o=dn((i=Bu())==null?void 0:i.node);return dn(e)<o}function Vu(e){rt.push(e)}function Uu(e){const o=dn(e);o<0||rt.splice(o,1)}function Wu(){for(const{node:e}of rt)e.style.pointerEvents=Es(e)?"none":"auto"}function Hu(e){if(or()&&!$o){const o=Ye(e);ws=document.body.style.pointerEvents,o.body.style.pointerEvents="none",$o=!0}}function Yu(e){if(or())return;const o=Ye(e);o.body.style.pointerEvents=ws,o.body.style.length===0&&o.body.removeAttribute("style"),$o=!1}var Ae={layers:rt,isTopMostLayer:ju,hasPointerBlockingLayer:or,isBelowPointerBlockingLayer:Es,addLayer:Vu,removeLayer:Uu,indexOf:dn,find:Nu,assignPointerEventToLayers:Wu,disableBodyPointerEvents:Hu,restoreBodyPointerEvents:Yu},Io="focusScope.autoFocusOnMount",Mo="focusScope.autoFocusOnUnmount",Ti={bubbles:!1,cancelable:!0},Oi={stack:[],active(){return this.stack[0]},add(e){var o;e!==this.active()&&((o=this.active())==null||o.pause()),this.stack=Lo(this.stack,e),this.stack.unshift(e)},remove(e){var o;this.stack=Lo(this.stack,e),(o=this.active())==null||o.resume()}};function Gu(e,o){const[i,s]=se(!1),l={pause(){s(!0)},resume(){s(!1)}};let d=null;const p=O=>{var P;return(P=e.onMountAutoFocus)==null?void 0:P.call(e,O)},v=O=>{var P;return(P=e.onUnmountAutoFocus)==null?void 0:P.call(e,O)},g=()=>Ye(o()),b=()=>{const O=g().createElement("span");return O.setAttribute("data-focus-trap",""),O.tabIndex=0,Object.assign(O.style,gl),O},S=()=>{const O=o();return O?Ji(O,!0).filter(P=>!P.hasAttribute("data-focus-trap")):[]},x=()=>{const O=S();return O.length>0?O[0]:null},w=()=>{const O=S();return O.length>0?O[O.length-1]:null},T=()=>{const O=o();if(!O)return!1;const P=on(O);return!P||$e(O,P)?!1:Qi(P)};Q(()=>{const O=o();if(!O)return;Oi.add(l);const P=on(O);if(!$e(O,P)){const C=new CustomEvent(Io,Ti);O.addEventListener(Io,p),O.dispatchEvent(C),C.defaultPrevented||setTimeout(()=>{Ie(x()),on(O)===P&&Ie(O)},0)}ue(()=>{O.removeEventListener(Io,p),setTimeout(()=>{const C=new CustomEvent(Mo,Ti);T()&&C.preventDefault(),O.addEventListener(Mo,v),O.dispatchEvent(C),C.defaultPrevented||Ie(P??g().body),O.removeEventListener(Mo,v),Oi.remove(l)},0)})}),Q(()=>{const O=o();if(!O||!N(e.trapFocus)||i())return;const P=C=>{const _=C.target;_!=null&&_.closest(`[${Wn}]`)||($e(O,_)?d=_:Ie(d))},D=C=>{const R=C.relatedTarget??on(O);R!=null&&R.closest(`[${Wn}]`)||$e(O,R)||Ie(d)};g().addEventListener("focusin",P),g().addEventListener("focusout",D),ue(()=>{g().removeEventListener("focusin",P),g().removeEventListener("focusout",D)})}),Q(()=>{const O=o();if(!O||!N(e.trapFocus)||i())return;const P=b();O.insertAdjacentElement("afterbegin",P);const D=b();O.insertAdjacentElement("beforeend",D);function C(R){const M=x(),B=w();R.relatedTarget===M?Ie(B):Ie(M)}P.addEventListener("focusin",C),D.addEventListener("focusin",C);const _=new MutationObserver(R=>{for(const M of R)M.previousSibling===D&&(D.remove(),O.insertAdjacentElement("beforeend",D)),M.nextSibling===P&&(P.remove(),O.insertAdjacentElement("afterbegin",P))});_.observe(O,{childList:!0,subtree:!1}),ue(()=>{P.removeEventListener("focusin",C),D.removeEventListener("focusin",C),P.remove(),D.remove(),_.disconnect()})})}var Xu="data-live-announcer";function qu(e){Q(()=>{N(e.isDisabled)||ue(Zu(N(e.targets),N(e.root)))})}var tn=new WeakMap,ze=[];function Zu(e,o=document.body){const i=new Set(e),s=new Set,l=g=>{for(const w of g.querySelectorAll(`[${Xu}], [${Wn}]`))i.add(w);const b=w=>{if(i.has(w)||w.parentElement&&s.has(w.parentElement)&&w.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const T of i)if(w.contains(T))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},S=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,{acceptNode:b}),x=b(g);if(x===NodeFilter.FILTER_ACCEPT&&d(g),x!==NodeFilter.FILTER_REJECT){let w=S.nextNode();for(;w!=null;)d(w),w=S.nextNode()}},d=g=>{const b=tn.get(g)??0;g.getAttribute("aria-hidden")==="true"&&b===0||(b===0&&g.setAttribute("aria-hidden","true"),s.add(g),tn.set(g,b+1))};ze.length&&ze[ze.length-1].disconnect(),l(o);const p=new MutationObserver(g=>{for(const b of g)if(!(b.type!=="childList"||b.addedNodes.length===0)&&![...i,...s].some(S=>S.contains(b.target))){for(const S of b.removedNodes)S instanceof Element&&(i.delete(S),s.delete(S));for(const S of b.addedNodes)(S instanceof HTMLElement||S instanceof SVGElement)&&(S.dataset.liveAnnouncer==="true"||S.dataset.reactAriaTopLayer==="true")?i.add(S):S instanceof Element&&l(S)}});p.observe(o,{childList:!0,subtree:!0});const v={observe(){p.observe(o,{childList:!0,subtree:!0})},disconnect(){p.disconnect()}};return ze.push(v),()=>{p.disconnect();for(const g of s){const b=tn.get(g);if(b==null)return;b===1?(g.removeAttribute("aria-hidden"),tn.delete(g)):tn.set(g,b-1)}v===ze[ze.length-1]?(ze.pop(),ze.length&&ze[ze.length-1].observe()):ze.splice(ze.indexOf(v),1)}}function Ju(e){const o=i=>{var s;i.key===qi.Escape&&((s=e.onEscapeKeyDown)==null||s.call(e,i))};Q(()=>{var s;if(N(e.isDisabled))return;const i=((s=e.ownerDocument)==null?void 0:s.call(e))??Ye();i.addEventListener("keydown",o),ue(()=>{i.removeEventListener("keydown",o)})})}var Di="interactOutside.pointerDownOutside",Ii="interactOutside.focusOutside";function Qu(e,o){let i,s=pl;const l=()=>Ye(o()),d=x=>{var w;return(w=e.onPointerDownOutside)==null?void 0:w.call(e,x)},p=x=>{var w;return(w=e.onFocusOutside)==null?void 0:w.call(e,x)},v=x=>{var w;return(w=e.onInteractOutside)==null?void 0:w.call(e,x)},g=x=>{var T;const w=x.target;return!(w instanceof HTMLElement)||w.closest(`[${Wn}]`)||!$e(l(),w)||$e(o(),w)?!1:!((T=e.shouldExcludeElement)!=null&&T.call(e,w))},b=x=>{function w(){const T=o(),O=x.target;if(!T||!O||!g(x))return;const P=we([d,v]);O.addEventListener(Di,P,{once:!0});const D=new CustomEvent(Di,{bubbles:!1,cancelable:!0,detail:{originalEvent:x,isContextMenu:x.button===2||ol(x)&&x.button===0}});O.dispatchEvent(D)}x.pointerType==="touch"?(l().removeEventListener("click",w),s=w,l().addEventListener("click",w,{once:!0})):w()},S=x=>{const w=o(),T=x.target;if(!w||!T||!g(x))return;const O=we([p,v]);T.addEventListener(Ii,O,{once:!0});const P=new CustomEvent(Ii,{bubbles:!1,cancelable:!0,detail:{originalEvent:x,isContextMenu:!1}});T.dispatchEvent(P)};Q(()=>{N(e.isDisabled)||(i=window.setTimeout(()=>{l().addEventListener("pointerdown",b,!0)},0),l().addEventListener("focusin",S,!0),ue(()=>{window.clearTimeout(i),l().removeEventListener("click",s),l().removeEventListener("pointerdown",b,!0),l().removeEventListener("focusin",S,!0)}))})}var Ps=Re();function ed(){return Fe(Ps)}function td(e){let o;const i=ed(),[s,l]=he(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),d=new Set([]),p=x=>{d.add(x);const w=i==null?void 0:i.registerNestedLayer(x);return()=>{d.delete(x),w==null||w()}};Qu({shouldExcludeElement:x=>{var w;return o?((w=s.excludedElements)==null?void 0:w.some(T=>$e(T(),x)))||[...d].some(T=>$e(T,x)):!1},onPointerDownOutside:x=>{var w,T,O;!o||Ae.isBelowPointerBlockingLayer(o)||!s.bypassTopMostLayerCheck&&!Ae.isTopMostLayer(o)||((w=s.onPointerDownOutside)==null||w.call(s,x),(T=s.onInteractOutside)==null||T.call(s,x),x.defaultPrevented||(O=s.onDismiss)==null||O.call(s))},onFocusOutside:x=>{var w,T,O;(w=s.onFocusOutside)==null||w.call(s,x),(T=s.onInteractOutside)==null||T.call(s,x),x.defaultPrevented||(O=s.onDismiss)==null||O.call(s)}},()=>o),Ju({ownerDocument:()=>Ye(o),onEscapeKeyDown:x=>{var w;!o||!Ae.isTopMostLayer(o)||((w=s.onEscapeKeyDown)==null||w.call(s,x),!x.defaultPrevented&&s.onDismiss&&(x.preventDefault(),s.onDismiss()))}}),it(()=>{if(!o)return;Ae.addLayer({node:o,isPointerBlocking:s.disableOutsidePointerEvents,dismiss:s.onDismiss});const x=i==null?void 0:i.registerNestedLayer(o);Ae.assignPointerEventToLayers(),Ae.disableBodyPointerEvents(o),ue(()=>{o&&(Ae.removeLayer(o),x==null||x(),Ae.assignPointerEventToLayers(),Ae.restoreBodyPointerEvents(o))})}),Q(wt([()=>o,()=>s.disableOutsidePointerEvents],([x,w])=>{if(!x)return;const T=Ae.find(x);T&&T.isPointerBlocking!==w&&(T.isPointerBlocking=w,Ae.assignPointerEventToLayers()),w&&Ae.disableBodyPointerEvents(x),ue(()=>{Ae.restoreBodyPointerEvents(x)})},{defer:!0}));const S={registerNestedLayer:p};return j(Ps.Provider,{value:S,get children(){return j(Ke,le({as:"div",ref(x){var w=qe(T=>o=T,s.ref);typeof w=="function"&&w(x)}},l))}})}function nd(e={}){const[o,i]=fs({value:()=>N(e.isSelected),defaultValue:()=>!!N(e.defaultIsSelected),onChange:d=>{var p;return(p=e.onSelectedChange)==null?void 0:p.call(e,d)}});return{isSelected:o,setIsSelected:d=>{!N(e.isReadOnly)&&!N(e.isDisabled)&&i(d)},toggle:()=>{!N(e.isReadOnly)&&!N(e.isDisabled)&&i(!o())}}}function rr(e={}){const[o,i]=fs({value:()=>N(e.open),defaultValue:()=>!!N(e.defaultOpen),onChange:p=>{var v;return(v=e.onOpenChange)==null?void 0:v.call(e,p)}}),s=()=>{i(!0)},l=()=>{i(!1)};return{isOpen:o,setIsOpen:i,open:s,close:l,toggle:()=>{o()?l():s()}}}function fn(e){return o=>(e(o),()=>e(void 0))}function od(e){const[o,i]=se();let s={},l=e(),d="none";const[p,v]=rd(e()?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Q(wt(p,g=>{const b=_n(s);d=g==="mounted"?b:"none"})),Q(wt(e,g=>{if(l===g)return;const b=_n(s);g?v("MOUNT"):(s==null?void 0:s.display)==="none"?v("UNMOUNT"):v(l&&d!==b?"ANIMATION_OUT":"UNMOUNT"),l=g})),Q(wt(o,g=>{if(g){const b=x=>{const T=_n(s).includes(x.animationName);x.target===g&&T&&v("ANIMATION_END")},S=x=>{x.target===g&&(d=_n(s))};g.addEventListener("animationstart",S),g.addEventListener("animationcancel",b),g.addEventListener("animationend",b),ue(()=>{g.removeEventListener("animationstart",S),g.removeEventListener("animationcancel",b),g.removeEventListener("animationend",b)})}else v("ANIMATION_END")})),{isPresent:()=>["mounted","unmountSuspended"].includes(p()),setRef:g=>{g&&(s=getComputedStyle(g)),i(g)}}}function _n(e){return(e==null?void 0:e.animationName)||"none"}function rd(e,o){const i=(p,v)=>o[p][v]??p,[s,l]=se(e);return[s,p=>{l(v=>i(v,p))}]}var Be=e=>typeof e=="function"?e():e,Ln=new Map,id=e=>{Q(()=>{const o=Be(e.style)??{},i=Be(e.properties)??[],s={};for(const d in o)s[d]=e.element.style[d];const l=Ln.get(e.key);l?l.activeCount++:Ln.set(e.key,{activeCount:1,originalStyles:s,properties:i.map(d=>d.key)}),Object.assign(e.element.style,e.style);for(const d of i)e.element.style.setProperty(d.key,d.value);ue(()=>{var p;const d=Ln.get(e.key);if(d){if(d.activeCount!==1){d.activeCount--;return}Ln.delete(e.key);for(const[v,g]of Object.entries(d.originalStyles))e.element.style[v]=g;for(const v of d.properties)e.element.style.removeProperty(v);e.element.style.length===0&&e.element.removeAttribute("style"),(p=e.cleanup)==null||p.call(e)}})})},Mi=id,sd=(e,o)=>{switch(o){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},ad=(e,o)=>{const i=getComputedStyle(e),s=o==="x"?i.overflowX:i.overflowY;return s==="auto"||s==="scroll"||e.tagName==="HTML"&&s==="visible"},cd=(e,o,i)=>{const s=o==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let l=e,d=0,p=0,v=!1;do{const[g,b,S]=sd(l,o),x=S-g-s*b;(b!==0||x!==0)&&ad(l,o)&&(d+=x,p+=b),l===(i??document.documentElement)?v=!0:l=l._$host??l.parentElement}while(l&&!v);return[d,p]},[ki,Ci]=se([]),ld=e=>ki().indexOf(e)===ki().length-1,ud=e=>{const o=le({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",allowPinchZoom:!1},e),i=gt();let s=[0,0],l=null,d=null;Q(()=>{Be(o.enabled)&&(Ci(b=>[...b,i]),ue(()=>{Ci(b=>b.filter(S=>S!==i))}))}),Q(()=>{if(!Be(o.enabled)||!Be(o.hideScrollbar))return;const{body:b}=document,S=window.innerWidth-b.offsetWidth;if(Mi({key:"prevent-scroll-overflow",element:b,style:{overflow:"hidden"}}),Be(o.preventScrollbarShift)){const x={},w=[];S>0&&(Be(o.preventScrollbarShiftMode)==="padding"?x.paddingRight=`calc(${window.getComputedStyle(b).paddingRight} + ${S}px)`:x.marginRight=`calc(${window.getComputedStyle(b).marginRight} + ${S}px)`,w.push({key:"--scrollbar-width",value:`${S}px`}));const T=window.scrollY,O=window.scrollX;Mi({key:"prevent-scroll-scrollbar",element:b,style:x,properties:w,cleanup:()=>{S>0&&window.scrollTo(O,T)}})}}),Q(()=>{!ld(i)||!Be(o.enabled)||(document.addEventListener("wheel",v,{passive:!1}),document.addEventListener("touchstart",p,{passive:!1}),document.addEventListener("touchmove",g,{passive:!1}),ue(()=>{document.removeEventListener("wheel",v),document.removeEventListener("touchstart",p),document.removeEventListener("touchmove",g)}))});const p=b=>{s=Ai(b),l=null,d=null},v=b=>{const S=b.target,x=Be(o.element),w=dd(b),T=Math.abs(w[0])>Math.abs(w[1])?"x":"y",O=T==="x"?w[0]:w[1],P=_i(S,T,O,x);let D;x&&No(x,S)?D=!P:D=!0,D&&b.cancelable&&b.preventDefault()},g=b=>{const S=Be(o.element),x=b.target;let w;if(b.touches.length===2)w=!Be(o.allowPinchZoom);else{if(l==null||d===null){const T=Ai(b).map((P,D)=>s[D]-P),O=Math.abs(T[0])>Math.abs(T[1])?"x":"y";l=O,d=O==="x"?T[0]:T[1]}if(x.type==="range")w=!1;else{const T=_i(x,l,d,S);S&&No(S,x)?w=!T:w=!0}}w&&b.cancelable&&b.preventDefault()}},dd=e=>[e.deltaX,e.deltaY],Ai=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],_i=(e,o,i,s)=>{const l=s!==null&&No(s,e),[d,p]=cd(e,o,l?s:void 0);return!(i>0&&Math.abs(d)<=1||i<0&&Math.abs(p)<1)},No=(e,o)=>{if(e.contains(o))return!0;let i=o;for(;i;){if(i===e)return!0;i=i._$host??i.parentElement}return!1},fd=ud,pd=fd,Ts=Re();function Os(){return Fe(Ts)}function vt(){const e=Os();if(e===void 0)throw new Error("[kobalte]: `useMenuContext` must be used within a `Menu` component");return e}var Ds=Re();function ir(){const e=Fe(Ds);if(e===void 0)throw new Error("[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component");return e}var Is=Re();function at(){const e=Fe(Is);if(e===void 0)throw new Error("[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component");return e}function sr(e){let o;const i=at(),s=vt(),l=be({id:i.generateId(`item-${gt()}`)},e),[d,p]=he(l,["ref","textValue","disabled","closeOnSelect","checked","indeterminate","onSelect","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[v,g]=se(),[b,S]=se(),[x,w]=se(),T=()=>s.listState().selectionManager(),O=()=>p.id,P=()=>T().focusedKey()===O(),D=()=>{var G;(G=d.onSelect)==null||G.call(d),d.closeOnSelect&&setTimeout(()=>{s.close(!0)})};Du({getItem:()=>{var G;return{ref:()=>o,type:"item",key:O(),textValue:d.textValue??((G=x())==null?void 0:G.textContent)??(o==null?void 0:o.textContent)??"",disabled:d.disabled??!1}}});const C=xs({key:O,selectionManager:T,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>d.disabled},()=>o),_=G=>{Se(G,d.onPointerMove),G.pointerType==="mouse"&&(d.disabled?s.onItemLeave(G):(s.onItemEnter(G),G.defaultPrevented||(Ie(G.currentTarget),s.listState().selectionManager().setFocused(!0),s.listState().selectionManager().setFocusedKey(O()))))},R=G=>{Se(G,d.onPointerLeave),G.pointerType==="mouse"&&s.onItemLeave(G)},M=G=>{Se(G,d.onPointerUp),!d.disabled&&G.button===0&&D()},B=G=>{if(Se(G,d.onKeyDown),!G.repeat&&!d.disabled)switch(G.key){case"Enter":case" ":D();break}},H=me(()=>{if(d.indeterminate)return"mixed";if(d.checked!=null)return d.checked}),k=me(()=>({"data-indeterminate":d.indeterminate?"":void 0,"data-checked":d.checked&&!d.indeterminate?"":void 0,"data-disabled":d.disabled?"":void 0,"data-highlighted":P()?"":void 0})),ie={isChecked:()=>d.checked,dataset:k,setLabelRef:w,generateId:Uo(()=>p.id),registerLabel:fn(g),registerDescription:fn(S)};return j(Ds.Provider,{value:ie,get children(){return j(Ke,le({as:"div",ref(G){var pe=qe(de=>o=de,d.ref);typeof pe=="function"&&pe(G)},get tabIndex(){return C.tabIndex()},get"aria-checked"(){return H()},get"aria-disabled"(){return d.disabled},get"aria-labelledby"(){return v()},get"aria-describedby"(){return b()},get"data-key"(){return C.dataKey()},get onPointerDown(){return we([d.onPointerDown,C.onPointerDown])},get onPointerUp(){return we([M,C.onPointerUp])},get onClick(){return we([d.onClick,C.onClick])},get onKeyDown(){return we([B,C.onKeyDown])},get onMouseDown(){return we([d.onMouseDown,C.onMouseDown])},get onFocus(){return we([d.onFocus,C.onFocus])},onPointerMove:_,onPointerLeave:R},k,p))}})}function ar(e){const o=be({closeOnSelect:!1},e),[i,s]=he(o,["checked","defaultChecked","onChange","onSelect"]),l=nd({isSelected:()=>i.checked,defaultIsSelected:()=>i.defaultChecked,onSelectedChange:p=>{var v;return(v=i.onChange)==null?void 0:v.call(i,p)},isDisabled:()=>s.disabled});return j(sr,le({role:"menuitemcheckbox",get checked(){return l.isSelected()},onSelect:()=>{var p;(p=i.onSelect)==null||p.call(i),l.toggle()}},s))}var hd=Re();function gd(){return Fe(hd)}function Ms(e){let o;const i=at(),s=vt(),l=gd(),d=be({id:i.generateId(`content-${gt()}`)},e),[p,v]=he(d,["ref","id","style","onOpenAutoFocus","onCloseAutoFocus","onEscapeKeyDown","onFocusOutside","onPointerEnter","onPointerMove","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]);let g=0;const b=()=>s.parentMenuContext()==null&&l===void 0&&i.isModal(),S=$u({selectionManager:s.listState().selectionManager,collection:s.listState().collection,autoFocus:s.autoFocus,deferAutoFocus:!0,shouldFocusWrap:!0,disallowTypeAhead:()=>!s.listState().selectionManager().isFocused()},()=>o);Gu({trapFocus:()=>b()&&s.isOpen(),onMountAutoFocus:D=>{var C;l===void 0&&((C=p.onOpenAutoFocus)==null||C.call(p,D))},onUnmountAutoFocus:p.onCloseAutoFocus},()=>o);const x=D=>{if($e(D.currentTarget,D.target)&&(D.key==="Tab"&&s.isOpen()&&D.preventDefault(),l!==void 0&&D.currentTarget.getAttribute("aria-haspopup")!=="true"))switch(D.key){case"ArrowRight":D.stopPropagation(),D.preventDefault(),s.close(!0),l.setAutoFocusMenu(!0),l.nextMenu();break;case"ArrowLeft":if(D.currentTarget.hasAttribute("data-closed"))break;D.stopPropagation(),D.preventDefault(),s.close(!0),l.setAutoFocusMenu(!0),l.previousMenu();break}},w=D=>{var C;(C=p.onEscapeKeyDown)==null||C.call(p,D),l==null||l.setAutoFocusMenu(!1),s.close(!0)},T=D=>{var C;(C=p.onFocusOutside)==null||C.call(p,D),i.isModal()&&D.preventDefault()},O=D=>{var C,_;Se(D,p.onPointerEnter),s.isOpen()&&((C=s.parentMenuContext())==null||C.listState().selectionManager().setFocused(!1),(_=s.parentMenuContext())==null||_.listState().selectionManager().setFocusedKey(void 0))},P=D=>{if(Se(D,p.onPointerMove),D.pointerType!=="mouse")return;const C=D.target,_=g!==D.clientX;$e(D.currentTarget,C)&&_&&(s.setPointerDir(D.clientX>g?"right":"left"),g=D.clientX)};return Q(()=>ue(s.registerContentId(p.id))),j(He,{get when(){return s.contentPresence.isPresent()},get children(){return j(ds.Positioner,{get children(){return j(td,le({ref(D){var C=qe(_=>{s.setContentRef(_),s.contentPresence.setRef(_),o=_},p.ref);typeof C=="function"&&C(D)},role:"menu",get id(){return p.id},get tabIndex(){return S.tabIndex()},get disableOutsidePointerEvents(){return me(()=>!!b())()&&s.isOpen()},get excludedElements(){return[s.triggerRef]},bypassTopMostLayerCheck:!0,get style(){return{"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative",...p.style}},get"aria-labelledby"(){return s.triggerId()},onEscapeKeyDown:w,onFocusOutside:T,get onDismiss(){return s.close},get onKeyDown(){return we([p.onKeyDown,S.onKeyDown,x])},get onMouseDown(){return we([p.onMouseDown,S.onMouseDown])},get onFocusIn(){return we([p.onFocusIn,S.onFocusIn])},get onFocusOut(){return we([p.onFocusOut,S.onFocusOut])},onPointerEnter:O,onPointerMove:P},()=>s.dataset(),v))}})}})}function vd(e){let o;const i=at(),s=vt(),[l,d]=he(e,["ref"]);return pd({element:()=>o??null,enabled:()=>s.isOpen()&&i.preventScroll()}),j(Ms,le({ref(p){var v=qe(g=>{o=g},l.ref);typeof v=="function"&&v(p)}},d))}var ks=Re();function md(){const e=Fe(ks);if(e===void 0)throw new Error("[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component");return e}function cr(e){const o=at(),i=be({id:o.generateId(`group-${gt()}`)},e),[s,l]=se(),d={generateId:Uo(()=>i.id),registerLabelId:fn(l)};return j(ks.Provider,{value:d,get children(){return j(Ke,le({as:"div",role:"group",get"aria-labelledby"(){return s()}},i))}})}function Cs(e){const o=md(),i=be({id:o.generateId("label")},e),[s,l]=he(i,["id"]);return Q(()=>ue(o.registerLabelId(s.id))),j(Ke,le({as:"span",get id(){return s.id},"aria-hidden":"true"},l))}function As(e){const o=vt(),i=be({children:""},e);return j(Ke,le({as:"span","aria-hidden":"true"},()=>o.dataset(),i))}function lr(e){return j(sr,le({role:"menuitem",closeOnSelect:!0},e))}function _s(e){const o=ir(),i=be({id:o.generateId("description")},e),[s,l]=he(i,["id"]);return Q(()=>ue(o.registerDescription(s.id))),j(Ke,le({as:"div",get id(){return s.id}},()=>o.dataset(),l))}function ur(e){const o=ir(),i=be({id:o.generateId("indicator")},e),[s,l]=he(i,["forceMount"]);return j(He,{get when(){return s.forceMount||o.isChecked()},get children(){return j(Ke,le({as:"div"},()=>o.dataset(),l))}})}function Ls(e){const o=ir(),i=be({id:o.generateId("label")},e),[s,l]=he(i,["ref","id"]);return Q(()=>ue(o.registerLabel(s.id))),j(Ke,le({as:"div",ref(d){var p=qe(o.setLabelRef,s.ref);typeof p=="function"&&p(d)},get id(){return s.id}},()=>o.dataset(),l))}function Jn(e){const o=vt();return j(He,{get when(){return o.contentPresence.isPresent()},get children(){return j($i,e)}})}var Fs=Re();function yd(){const e=Fe(Fs);if(e===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return e}function Rs(e){const i=at().generateId(`radiogroup-${gt()}`),s=be({id:i},e),[l,d]=he(s,["value","defaultValue","onChange","disabled"]),[p,v]=Zn({value:()=>l.value,defaultValue:()=>l.defaultValue,onChange:b=>{var S;return(S=l.onChange)==null?void 0:S.call(l,b)}}),g={isDisabled:()=>l.disabled,isSelectedValue:b=>b===p(),setSelectedValue:v};return j(Fs.Provider,{value:g,get children(){return j(cr,d)}})}function Ks(e){const o=yd(),i=be({closeOnSelect:!1},e),[s,l]=he(i,["value","onSelect"]);return j(sr,le({role:"menuitemradio",get checked(){return o.isSelectedValue(s.value)},onSelect:()=>{var p;(p=s.onSelect)==null||p.call(s),o.setSelectedValue(s.value)}},l))}function bd(e,o,i){const s=e.split("-")[0],l=i.getBoundingClientRect(),d=[],p=o.clientX,v=o.clientY;switch(s){case"top":d.push([p,v+5]),d.push([l.left,l.bottom]),d.push([l.left,l.top]),d.push([l.right,l.top]),d.push([l.right,l.bottom]);break;case"right":d.push([p-5,v]),d.push([l.left,l.top]),d.push([l.right,l.top]),d.push([l.right,l.bottom]),d.push([l.left,l.bottom]);break;case"bottom":d.push([p,v-5]),d.push([l.right,l.top]),d.push([l.right,l.bottom]),d.push([l.left,l.bottom]),d.push([l.left,l.top]);break;case"left":d.push([p+5,v]),d.push([l.right,l.bottom]),d.push([l.left,l.bottom]),d.push([l.left,l.top]),d.push([l.right,l.top]);break}return d}function xd(e,o){return o?hl([e.clientX,e.clientY],o):!1}function zs(e){const o=at(),i=hs(),s=Os(),l=be({placement:"bottom-start"},e),[d,p]=he(l,["open","defaultOpen","onOpenChange"]);let v=0,g=null,b="right";const[S,x]=se(),[w,T]=se(),[O,P]=se(),[D,C]=se(),[_,R]=se(!0),[M,B]=se(p.placement),[H,k]=se([]),[ie,G]=se([]),{DomCollectionProvider:pe}=Ou({items:ie,onItemsChange:G}),de=rr({open:()=>d.open,defaultOpen:()=>d.defaultOpen,onOpenChange:re=>{var ke;return(ke=d.onOpenChange)==null?void 0:ke.call(d,re)}}),fe=od(()=>o.forceMount()||de.isOpen()),ye=Ku({selectionMode:"none",dataSource:ie}),L=re=>{R(re),de.open()},F=(re=!1)=>{de.close(),re&&s&&s.close(!0)},V=re=>{R(re),de.toggle()},ne=()=>{const re=D();re&&(Ie(re),ye.selectionManager().setFocused(!0),ye.selectionManager().setFocusedKey(void 0))},ee=re=>{k(Dt=>[...Dt,re]);const ke=s==null?void 0:s.registerNestedMenu(re);return()=>{k(Dt=>Lo(Dt,re)),ke==null||ke()}},q=re=>b===(g==null?void 0:g.side)&&xd(re,g==null?void 0:g.area),ce=re=>{q(re)&&re.preventDefault()},ve=re=>{q(re)||ne()},Ee=re=>{q(re)&&re.preventDefault()};qu({isDisabled:()=>!(s==null&&de.isOpen()&&o.isModal()),targets:()=>[D(),...H()].filter(Boolean)}),Q(()=>{const re=D();if(!re||!s)return;const ke=s.registerNestedMenu(re);ue(()=>{ke()})});const mt={dataset:me(()=>({"data-expanded":de.isOpen()?"":void 0,"data-closed":de.isOpen()?void 0:""})),isOpen:de.isOpen,contentPresence:fe,nestedMenus:H,currentPlacement:M,pointerGraceTimeoutId:()=>v,autoFocus:_,listState:()=>ye,parentMenuContext:()=>s,triggerRef:O,contentRef:D,triggerId:S,contentId:w,setTriggerRef:P,setContentRef:C,open:L,close:F,toggle:V,focusContent:ne,onItemEnter:ce,onItemLeave:ve,onTriggerLeave:Ee,setPointerDir:re=>b=re,setPointerGraceTimeoutId:re=>v=re,setPointerGraceIntent:re=>g=re,registerNestedMenu:ee,registerItemToParentDomCollection:i==null?void 0:i.registerItem,registerTriggerId:fn(x),registerContentId:fn(T)};return j(pe,{get children(){return j(Ts.Provider,{value:mt,get children(){return j(ds,le({anchorRef:O,contentRef:D,onCurrentPlacementChange:B},p))}})}})}function $s(e){const{direction:o}=Tt();return j(zs,le({get placement(){return o()==="rtl"?"left-start":"right-start"},flip:!0},e))}var wd={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function Ns(e){const o=vt(),[i,s]=he(e,["onFocusOutside","onKeyDown"]),{direction:l}=Tt();return j(Ms,le({onOpenAutoFocus:b=>{b.preventDefault()},onCloseAutoFocus:b=>{b.preventDefault()},onFocusOutside:b=>{var x;(x=i.onFocusOutside)==null||x.call(i,b);const S=b.target;$e(o.triggerRef(),S)||o.close()},onKeyDown:b=>{Se(b,i.onKeyDown);const S=$e(b.currentTarget,b.target),x=wd[l()].includes(b.key),w=o.parentMenuContext()!=null;S&&x&&w&&(o.close(),Ie(o.triggerRef()))}},s))}var Li=["Enter"," "],Sd={ltr:[...Li,"ArrowRight"],rtl:[...Li,"ArrowLeft"]};function js(e){let o;const i=at(),s=vt(),l=be({id:i.generateId(`sub-trigger-${gt()}`)},e),[d,p]=he(l,["ref","id","textValue","disabled","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]);let v=null;const g=()=>{v&&window.clearTimeout(v),v=null},{direction:b}=Tt(),S=()=>d.id,x=()=>{const R=s.parentMenuContext();if(R==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");return R.listState().selectionManager()},w=()=>s.listState().collection(),T=()=>x().focusedKey()===S(),O=xs({key:S,selectionManager:x,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>d.disabled},()=>o),P=R=>{Se(R,d.onClick),!s.isOpen()&&!d.disabled&&s.open(!0)},D=R=>{var B;if(Se(R,d.onPointerMove),R.pointerType!=="mouse")return;const M=s.parentMenuContext();if(M==null||M.onItemEnter(R),!R.defaultPrevented){if(d.disabled){M==null||M.onItemLeave(R);return}!s.isOpen()&&!v&&((B=s.parentMenuContext())==null||B.setPointerGraceIntent(null),v=window.setTimeout(()=>{s.open(!1),g()},100)),M==null||M.onItemEnter(R),R.defaultPrevented||(s.listState().selectionManager().isFocused()&&(s.listState().selectionManager().setFocused(!1),s.listState().selectionManager().setFocusedKey(void 0)),Ie(R.currentTarget),M==null||M.listState().selectionManager().setFocused(!0),M==null||M.listState().selectionManager().setFocusedKey(S()))}},C=R=>{if(Se(R,d.onPointerLeave),R.pointerType!=="mouse")return;g();const M=s.parentMenuContext(),B=s.contentRef();if(B){M==null||M.setPointerGraceIntent({area:bd(s.currentPlacement(),R,B),side:s.currentPlacement().split("-")[0]}),window.clearTimeout(M==null?void 0:M.pointerGraceTimeoutId());const H=window.setTimeout(()=>{M==null||M.setPointerGraceIntent(null)},300);M==null||M.setPointerGraceTimeoutId(H)}else{if(M==null||M.onTriggerLeave(R),R.defaultPrevented)return;M==null||M.setPointerGraceIntent(null)}M==null||M.onItemLeave(R)},_=R=>{Se(R,d.onKeyDown),!R.repeat&&(d.disabled||Sd[b()].includes(R.key)&&(R.stopPropagation(),R.preventDefault(),x().setFocused(!1),x().setFocusedKey(void 0),s.isOpen()||s.open("first"),s.focusContent(),s.listState().selectionManager().setFocused(!0),s.listState().selectionManager().setFocusedKey(w().getFirstKey())))};return Q(()=>{if(s.registerItemToParentDomCollection==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");const R=s.registerItemToParentDomCollection({ref:()=>o,type:"item",key:S(),textValue:d.textValue??(o==null?void 0:o.textContent)??"",disabled:d.disabled??!1});ue(R)}),Q(wt(()=>{var R;return(R=s.parentMenuContext())==null?void 0:R.pointerGraceTimeoutId()},R=>{ue(()=>{var M;window.clearTimeout(R),(M=s.parentMenuContext())==null||M.setPointerGraceIntent(null)})})),Q(()=>ue(s.registerTriggerId(d.id))),ue(()=>{g()}),j(Ke,le({as:"div",ref(R){var M=qe(B=>{s.setTriggerRef(B),o=B},d.ref);typeof M=="function"&&M(R)},get id(){return d.id},role:"menuitem",get tabIndex(){return O.tabIndex()},"aria-haspopup":"true",get"aria-expanded"(){return s.isOpen()},get"aria-controls"(){return me(()=>!!s.isOpen())()?s.contentId():void 0},get"aria-disabled"(){return d.disabled},get"data-key"(){return O.dataKey()},get"data-highlighted"(){return T()?"":void 0},get"data-disabled"(){return d.disabled?"":void 0},get onPointerDown(){return we([d.onPointerDown,O.onPointerDown])},get onPointerUp(){return we([d.onPointerUp,O.onPointerUp])},get onClick(){return we([P,O.onClick])},get onKeyDown(){return we([_,O.onKeyDown])},get onMouseDown(){return we([d.onMouseDown,O.onMouseDown])},get onFocus(){return we([d.onFocus,O.onFocus])},onPointerMove:D,onPointerLeave:C},()=>s.dataset(),p))}function Ed(e){const o=`menu-${gt()}`,i=be({id:o,modal:!0},e),[s,l]=he(i,["id","modal","preventScroll","forceMount","open","defaultOpen","onOpenChange","value"]),d=rr({open:()=>s.open,defaultOpen:()=>s.defaultOpen,onOpenChange:v=>{var g;return(g=s.onOpenChange)==null?void 0:g.call(s,v)}}),p={isModal:()=>s.modal??!0,preventScroll:()=>s.preventScroll??p.isModal(),forceMount:()=>s.forceMount??!1,generateId:Uo(()=>s.id),value:()=>s.value};return j(Is.Provider,{value:p,get children(){return j(zs,le({get open(){return d.isOpen()},get onOpenChange(){return d.setIsOpen}},l))}})}function Pd(e,o){const[i,s]=se(Fi(o==null?void 0:o()));return Q(()=>{var l;s(((l=e())==null?void 0:l.tagName.toLowerCase())||Fi(o==null?void 0:o()))}),i}function Fi(e){return At(e)?e:void 0}var Td=Object.defineProperty,Bs=(e,o)=>{for(var i in o)Td(e,i,{get:o[i],enumerable:!0})},Od={};Bs(Od,{Root:()=>gn,Separator:()=>Dd});function gn(e){let o;const i=be({orientation:"horizontal"},e),[s,l]=he(i,["ref","orientation"]),d=Pd(()=>o,()=>"hr");return j(Ke,le({as:"hr",ref(p){var v=qe(g=>o=g,s.ref);typeof v=="function"&&v(p)},get role(){return d()!=="hr"?"separator":void 0},get"aria-orientation"(){return s.orientation==="vertical"?"vertical":void 0},get"data-orientation"(){return s.orientation}},l))}var Dd=gn,Id={};Bs(Id,{Arrow:()=>nr,CheckboxItem:()=>ar,Content:()=>dr,ContextMenu:()=>Cd,Group:()=>cr,GroupLabel:()=>Cs,Icon:()=>As,Item:()=>lr,ItemDescription:()=>_s,ItemIndicator:()=>ur,ItemLabel:()=>Ls,Portal:()=>Jn,RadioGroup:()=>Rs,RadioItem:()=>Ks,Root:()=>fr,Separator:()=>gn,Sub:()=>$s,SubContent:()=>Ns,SubTrigger:()=>js,Trigger:()=>pr});function dr(e){const o=at(),[i,s]=he(e,["onCloseAutoFocus","onInteractOutside"]);let l=!1;return j(vd,le({onCloseAutoFocus:v=>{var g;(g=i.onCloseAutoFocus)==null||g.call(i,v),!v.defaultPrevented&&l&&v.preventDefault(),l=!1},onInteractOutside:v=>{var g;(g=i.onInteractOutside)==null||g.call(i,v),!v.defaultPrevented&&!o.isModal()&&(l=!0)}},s))}var Vs=Re();function Md(){return Fe(Vs)}function kd(){const e=Md();if(e===void 0)throw new Error("[kobalte]: `useContextMenuContext` must be used within a `ContextMenu` component");return e}function fr(e){const o=`contextmenu-${gt()}`,{direction:i}=Tt(),s=be({id:o,placement:i()==="rtl"?"left-start":"right-start",gutter:2,shift:2},e),[l,d]=he(s,["onOpenChange"]),[p,v]=se({x:0,y:0}),g=rr({defaultOpen:!1,onOpenChange:S=>{var x;return(x=l.onOpenChange)==null?void 0:x.call(l,S)}}),b={setAnchorRect:v};return j(Vs.Provider,{value:b,get children(){return j(Ed,le({get open(){return g.isOpen()},get onOpenChange(){return g.setIsOpen},getAnchorRect:p},d))}})}function pr(e){const o=at(),i=vt(),s=kd(),l=be({id:o.generateId("trigger")},e),[d,p]=he(l,["ref","style","disabled","onContextMenu","onPointerDown","onPointerMove","onPointerCancel","onPointerUp"]);let v=0;const g=()=>{window.clearTimeout(v)};ue(()=>{g()});const b=P=>{if(d.disabled){Se(P,d.onContextMenu);return}g(),P.preventDefault(),P.stopPropagation(),s.setAnchorRect({x:P.clientX,y:P.clientY}),i.isOpen()?i.focusContent():i.open(!0)},S=P=>P.pointerType==="touch"||P.pointerType==="pen";return j(Ke,le({as:"div",ref(P){var D=qe(i.setTriggerRef,d.ref);typeof D=="function"&&D(P)},get style(){return{"-webkit-touch-callout":"none",...d.style}},get"data-disabled"(){return d.disabled?"":void 0},onContextMenu:b,onPointerDown:P=>{Se(P,d.onPointerDown),!d.disabled&&S(P)&&(g(),s.setAnchorRect({x:P.clientX,y:P.clientY}),v=window.setTimeout(()=>i.open(!1),700))},onPointerMove:P=>{Se(P,d.onPointerMove),!d.disabled&&S(P)&&g()},onPointerCancel:P=>{Se(P,d.onPointerCancel),!d.disabled&&S(P)&&g()},onPointerUp:P=>{Se(P,d.onPointerUp),!d.disabled&&S(P)&&g()}},()=>i.dataset(),p))}var Cd=Object.assign(fr,{Arrow:nr,CheckboxItem:ar,Content:dr,Group:cr,GroupLabel:Cs,Icon:As,Item:lr,ItemDescription:_s,ItemIndicator:ur,ItemLabel:Ls,Portal:Jn,RadioGroup:Rs,RadioItem:Ks,Separator:gn,Sub:$s,SubContent:Ns,SubTrigger:js,Trigger:pr});function Qn(...e){return dc(fc(e))}var Ad=xe('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class=size-4><path d="M5 12l5 5l10 -10">'),_d=xe('<span class="absolute left-2 flex size-3.5 items-center justify-center">');const Ld=pr,Fd=Jn,Rd=e=>j(fr,le({gutter:4},e)),Kd=e=>{const[o,i]=he(e,["class"]);return j(Jn,{get children(){return j(dr,le({get class(){return Qn("z-50 min-w-32 origin-[var(--kb-menu-content-transform-origin)] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in",o.class)}},i))}})},ko=e=>{const[o,i]=he(e,["class"]);return j(lr,le({get class(){return Qn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o.class)}},i))},Ri=e=>{const[o,i]=he(e,["class"]);return j(gn,le({get class(){return Qn("-mx-1 my-1 h-px bg-muted",o.class)}},i))},Fn=e=>{const[o,i]=he(e,["class","children"]);return j(ar,le({get class(){return Qn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o.class)}},i,{get children(){return[(()=>{var s=_d();return Me(s,j(ur,{get children(){return Ad()}})),s})(),me(()=>o.children)]}}))},[Us,zd]=se(!0),[jo,$d]=se(!0),[Ws,Nd]=se(!1),[Hs,jd]=se(!1),[Kn,Ys]=se(null);var Bd=xe("<span>Delete"),Vd=xe("<span>Bring Forward"),Ud=xe("<span>Send Backward");function Ki(e){const o=()=>{const s=Kn();e.handleCloneSort(s,"up")},i=()=>{const s=Kn();e.handleCloneSort(s,"down")};return Q(()=>{Kn()&&Ct.addAction("cx")}),j(Rd,{get children(){return[j(Ld,{class:"",get children(){return e.children}}),j(Fd,{get children(){return j(Kd,{class:"w-48",get children(){return[j(ko,{get onClick(){return e.handleDelete},get children(){return Bd()}}),j(He,{get when(){return e.showZ},get children(){return[j(Ri,{}),j(ko,{onClick:o,get children(){return Vd()}}),j(ko,{onClick:i,get children(){return Ud()}})]}}),j(Ri,{}),j(Fn,{get checked(){return Us()},onChange:zd,children:"Show Color Code"}),j(Fn,{get checked(){return jo()},onChange:$d,children:"Show Color Name"}),j(Fn,{get checked(){return Ws()},onChange:Nd,children:"Show Hex"}),j(Fn,{get checked(){return Hs()},onChange:jd,children:"Show Luminocity"})]}})}})]}})}var Wd=xe('<div class="space-y-3 ">'),Hd=xe('<section class="scrollbar-hide col-span-2 mx-auto flex h-full w-full flex-col items-center justify-start overflow-auto border-none py-12 outline-none"><div class="absolute bottom-4 left-[5.5%] flex h-12 w-16 items-center justify-center "><button class="z-20 h-6 w-24 border border-neutral-800 text-sm uppercase shadow"><span class="z-30 select-none text-xs uppercase tracking-wide text-neutral-800 opacity-100 hover:shadow">Clear'),Yd=xe('<div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform text-center text-2xl"><p class="text-xl text-neutral-600">Your saved colors will appear here!'),Gd=xe('<div class="absolute left-1/2 top-1/2 flex h-1/2 w-1/2 -translate-x-1/2 -translate-y-1/2 transform flex-col items-center justify-center border border-dashed border-neutral-400 px-12 text-center text-2xl"><p class="mb-2 text-xl text-neutral-800">Drop Zone</p><p class="text-lg text-neutral-600">Use handle ro resize and rearrange chips.</p><p class="text-lg text-neutral-600">Right-click for options (delete).'),Xd=xe('<section class="col-span-10 h-full w-full">'),qd=xe('<main class="scrollbar-hide content-area hidden grid-cols-12 overflow-hidden lg:visible lg:grid">'),Zd=xe('<div id=overlay class="absolute w-20 h-20 flex flex-col border-neutral-400 resizable border shadow-md text-black z-0"><div class="flex flex-1 items-center justify-center">'),Jd=xe("<article>"),Qd=xe("<div>"),zi=xe("<p>"),ef=xe('<p class="truncate text-sm">'),tf=xe('<div class="absolute w-20 h-20 flex flex-col border-neutral-400 resizable border shadow-md text-black z-0"><div class="flex flex-1 flex-col items-center justify-center"></div><div><p class="text-base uppercase">WEBTONE'),nf=xe('<main class="content-area flex flex-col items-center justify-center lg:hidden"><img class="w-1/2 object-contain"src=https://playbackonline.ca/wp/wp-content/uploads/2016/05/Cracke.jpg alt=Cracke><p class=mt-2> Chips needs space, like me! ');const of="text-black flex flex-col items-center justify-center w-20 h-20 border select-none cursor-pointer transition-scale transform duration-300 ease-in-out",ff=()=>{let e,o;se(null);const i=()=>Qt().map(S=>S.code),[s,l]=se({x:0,y:0});De(s),it(()=>{kt(pc()),Ct.addPage("pu")}),Q(()=>{hc(Jt()),gc(Qt())});const d=({draggable:S,droppable:x,overlay:w})=>{if(x.id===99){if(S.node.cloneNode(!0)){const P={id:"clone-"+(Math.random()*1e4).toFixed(0),dx:s().x,dy:s().y,width:"220px",height:"220px",...S.data};kt([...Jt(),P]),Ct.addAction("dr")}}else if(S&&x){const T=Qt(),O=T.findIndex(D=>D.code===S.data.code),P=T.findIndex(D=>D.code===x.data.code);if(O!==P){const D=T.slice();D.splice(P,0,...D.splice(O,1)),ai(D),Ct.addAction("so")}}},p=({draggable:S,droppable:x,overlay:w})=>{if(!w)return;const T=w.node.getBoundingClientRect(),O=T.width;l({x:T.x-e.getBoundingClientRect().width-O/2,y:T.y-100})},v=()=>{mc()},g=S=>{const x=Kn();x.includes("clone-")?(kt(w=>w.filter(T=>T.id!==x)),Ct.addAction("dl")):x&&(kt(w=>w.filter(T=>T.rgbString!==x)),yc().delete(Qt().find(w=>w.rgbString===x).code),ai(w=>w.filter(T=>T.rgbString!==x)),Ct.addAction("dl"))},b=(S,x)=>{kt(w=>{const T=w.findIndex(C=>C.id===S),O=w[T],P=x==="up"?T+1:T-1,D=w.slice();return D.splice(T,1),D.splice(P,0,O),D})};return[j(cf,{}),(()=>{var S=qd();return Me(S,j(kc,{onDragEnd:d,onDragMove:p,collisionDetector:Ic,get children(){return[j(Ac,{}),(()=>{var x=Hd(),w=x.firstChild,T=w.firstChild,O=e;return typeof O=="function"?sn(O,x):e=x,Me(x,j(Ki,{handleDelete:g,handleCloneSort:b,showZ:!1,get children(){var P=Wd();return Me(P,j(Rc,{get ids(){return i()},get children(){return j(Ni,{get each(){return Qt()},children:D=>j(sf,{chip:D})})}})),P}}),w),Me(x,j(Lc,{children:P=>(()=>{var D=Zd();return ot(()=>(P==null?void 0:P.data.rgbString)!=null?D.style.setProperty("background-color",P==null?void 0:P.data.rgbString):D.style.removeProperty("background-color")),D})()}),w),T.$$click=v,x})(),(()=>{var x=Xd();return Me(x,j(rf,{ref(w){var T=o;typeof T=="function"?T(w):o=w},get children(){return[j(Ki,{handleDelete:g,handleCloneSort:b,showZ:!0,get children(){return j(af,{get clones(){return Jt()},setClones:kt})}}),j(He,{get when(){return me(()=>i().length==0)()&&Jt().length==0},get children(){return Yd()}}),j(He,{get when(){return me(()=>Jt().length==0)()&&i().length>0},get children(){return Gd()}})]}})),x})()]}})),S})()]},rf=e=>{const o=Yi(99);return(()=>{var i=Jd();sn(o,i,()=>!0);var s=e.ref;return typeof s=="function"?sn(s,i):e.ref=i,Me(i,()=>e.children),ot(()=>Hn(i,Bo("relative h-full w-full border-l",o.isActiveDroppable&&"!droppable-accept"))),i})()},sf=e=>{const o=$c(e.chip.code,e.chip),[i]=Pt();return(()=>{var s=Qd();return s.$$contextmenu=()=>Ys(e.chip.code),sn(o,s,()=>!0),ot(l=>{var d=Bo(of,o.isActiveDraggable&&"opacity-25",!!i.active.draggable&&"transition-transform"),p=e.chip.rgbString;return d!==l.e&&Hn(s,l.e=d),p!==l.t&&((l.t=p)!=null?s.style.setProperty("background-color",p):s.style.removeProperty("background-color")),l},{e:void 0,t:void 0}),s})()},af=e=>{const o=i=>{const s={color:bc(i.hex)};return(()=>{var l=tf(),d=l.firstChild,p=d.nextSibling;return p.firstChild,l.$$contextmenu=()=>Ys(i.id),Me(d,j(He,{get when(){return Ws()},get children(){var v=zi();return Me(v,()=>i.hex),ot(g=>Ao(v,s,g)),v}}),null),Me(d,j(He,{get when(){return Hs()},get children(){var v=zi();return Me(v,()=>i.lum),ot(g=>Ao(v,s,g)),v}}),null),Me(p,j(He,{get when(){return jo()},get children(){var v=ef();return Me(v,()=>i.code),v}}),null),ot(v=>{var g=i.id,b=i.dx,S=i.dy,x=i.rgbString,w=`translate(${i.dx}px, ${i.dy}px)`,T=i.width,O=i.height,P=Bo("flex w-full flex-col items-start justify-center bg-white px-2.5 text-base",Us()||jo()?"py-1.5":"py-0");return g!==v.e&&Rn(l,"id",v.e=g),b!==v.t&&Rn(l,"data-dx",v.t=b),S!==v.a&&Rn(l,"data-dy",v.a=S),x!==v.o&&((v.o=x)!=null?l.style.setProperty("background-color",x):l.style.removeProperty("background-color")),w!==v.i&&((v.i=w)!=null?l.style.setProperty("transform",w):l.style.removeProperty("transform")),T!==v.n&&((v.n=T)!=null?l.style.setProperty("width",T):l.style.removeProperty("width")),O!==v.s&&((v.s=O)!=null?l.style.setProperty("height",O):l.style.removeProperty("height")),P!==v.h&&Hn(p,v.h=P),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),l})()};return it(()=>{Vc(".resizable").draggable({listeners:{start(i){},move(i){let s=parseFloat(i.target.dataset.dx)||0,l=parseFloat(i.target.dataset.dy)||0;s+=i.dx,l+=i.dy,i.target.style.transform=`translate(${s}px, ${l}px)`,i.target.dataset.dx=s,i.target.dataset.dy=l},end(i){const s=i.target.style.transform,l=parseFloat(s.split(",")[0].split("(")[1]),d=parseFloat(s.split(",")[1].split(")")[0]);e.setClones(p=>p.map(v=>(v.id==i.target.id&&(v.dx=l,v.dy=d),v)))}}}).resizable({edges:{left:!1,right:!0,bottom:!0,top:!1},listeners:{move(i){let s=i.target.dataset.x,l=i.target.dataset.y;s=(parseFloat(s)||0)+i.deltaRect.left,l=(parseFloat(l)||0)+i.deltaRect.top,Object.assign(i.target.style,{width:`${i.rect.width}px`,height:`${i.rect.height}px`}),Object.assign(i.target.dataset,{x:s,y:l})},end(i){e.setClones(s=>s.map(l=>(l.id==i.target.id&&(l.width=i.target.style.width,l.height=i.target.style.height),l)))}}})}),j(Ni,{get each(){return e.clones},children:i=>j(o,i)})},cf=()=>nf();vc(["click","contextmenu"]);export{ff as default};
